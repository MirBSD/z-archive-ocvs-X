head	1.19;
access;
symbols
	cvs-200401261625:1.1.1.14
	cvs-200401162142:1.1.1.13
	cvs-200301141450:1.1.1.13
	cvs-200312021610:1.1.1.12
	cvs-200311151930:1.1.1.11
	cvs-200310311830:1.1.1.11
	cvs-200310021000:1.1.1.10
	cvs-200309281111:1.1.1.10
	cvs-200309171515:1.1.1.10
	cvs-200308302005:1.1.1.9
	cvs-200308171200:1.1.1.8
	ctm-3449:1.1.1.7
	cvs-200307191610:1.1.1.6
	ctm-3416:1.1.1.5
	cvs-200307091500:1.1.1.5
	ctm-3389:1.1.1.5
	cvs-200306291800:1.1.1.4
	ctm-3369:1.1.1.4
	ctm-3341:1.1.1.3
	MIRBSD_5:1.4
	cvs-200306082100:1.1.1.3
	ctm-3316:1.1.1.2
	ctm-3272:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2004.06.28.16.50.49;	author tg;	state dead;
branches;
next	1.18;

1.18
date	2004.04.20.18.45.10;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2004.02.15.22.10.40;	author bsiegert;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.14.23.02.02;	author bsiegert;	state Exp;
branches;
next	1.15;

1.15
date	2004.02.14.18.55.31;	author bsiegert;	state Exp;
branches;
next	1.14;

1.14
date	2004.02.06.01.21.56;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.26.23.07.54;	author bsiegert;	state Exp;
branches;
next	1.12;

1.12
date	2004.01.15.21.15.39;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.03.19.33.03;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.10.31.21.53.38;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.10.17.16.28.21;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.09.17.16.58.12;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.31.20.53.51;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.06.20.19.17;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.29.01.04.32;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.09.02.25.21;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.06.17.39.38;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.22.13.28.25;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.21.18.28.13;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.21.18.28.13;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.06.05.16.51.16;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.06.08.23.25.10;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.06.29.00.07.28;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.07.06.13.45.04;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.07.19.17.11.19;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2003.07.26.13.48.23;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2003.08.17.13.45.19;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2003.08.30.21.49.20;	author tg;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2003.09.17.16.08.51;	author tg;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2003.10.31.19.27.44;	author tg;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2003.12.02.18.53.05;	author tg;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	2004.01.14.16.00.44;	author tg;	state Exp;
branches;
next	1.1.1.14;

1.1.1.14
date	2004.01.26.18.07.28;	author bsiegert;	state Exp;
branches;
next	;


desc
@@


1.19
log
@The Mozilla(TM) and Firefox(TM) trademarks prevent us from distributing
these ports, and the Firebird is not a trademark.

New ports being expected are:
 - ports/www/bloatzilla
 - ports/www/firesomething (or ports/www/firewhat; I'll leave
   it up to the maintainer)

Found by Theo de Raadt on the debian-legal list
@
text
@# $MirBSD: ports/www/mozilla-firebird/Makefile,v 1.18 2004/04/20 18:45:10 tg Exp $
# $OpenBSD: Makefile,v 1.29 2004/01/25 13:39:12 wilfried Exp $

_VERCHECK_MAJOR=7
_VERCHECK_MINOR=160
.include <bsd.port.ver.mk>
.if ${_VERCHECK_VALUE} == "2"
BROKEN=		needs newer MirOS version
.endif

ONLY_FOR_ARCHS=	i386 sparc sparc64
COMMENT=	"redesign of Mozilla's browser component"
VER=		0.7
DISTNAME=	mozilla
PKGNAME=	mozilla-firebird-${VER}p0
CATEGORIES=	www
HOMEPAGE=	http://www.mozilla.org/projects/firebird/
RESPONSIBLE=	Benny Siegert <bsiegert@@gmx.de>

# mozilla public license
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://ftp.mozilla.org/pub/firebird/releases/${VER}/
DISTFILES=	MozillaFirebird-source-${VER}.tar.gz

BUILD_DEPENDS=	:zip->=2.3:archivers/zip \
		:pkgconfig-*:devel/pkgconfig
LIB_DEPENDS=	gtk.1,gdk.1::x11/gtk+ \
		glib.1,gmodule.1::devel/glib \
		IDL.4::devel/ORBit \
		jpeg.62::graphics/jpeg \
		png.3::graphics/png \
		mng.1::graphics/libmng

VMEM_WARNING=	Yes
USE_CXX=	Yes
USE_X11=	Yes
USE_GMAKE=	Yes
# Regression tests are too hard to adapt to run here
NO_REGRESS=	Yes

CONFIGURE_STYLE= autoconf
CONFIGURE_ARGS=	--with-system-jpeg=${LOCALBASE}	\
		--with-system-mng=${LOCALBASE}	\
		--with-system-png=${LOCALBASE}	\
		--with-system-zlib=/usr/lib	\
		--with-pthreads			\
		--enable-xft			\
		--enable-optimize=-O2		\
		--disable-debug			\
		--disable-tests			\
		--disable-pedantic		\
		--disable-installer

# from browser/config/mozconfig
CONFIGURE_ARGS+=--disable-ldap			\
		--disable-mailnews		\
		--enable-extensions=cookie,xml-rpc,xmlextras,p3p,pref,transformiix,universalchardet,typeaheadfind,webservices \
		--enable-crypto			\
		--disable-composer		\
		--disable-profilesharing

CONFIGURE_ARGS+=--host=${AUTOCONF_FAKEOS}
CFLAGS+=	-fno-stack-protector
CONFIGURE_ENV=	MOZ_PHOENIX=1 \
		PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig" \
		OScompat=${OScompat}
MAKE_ENV=	MOZ_PHOENIX=1 \
		LD_LIBRARY_PATH="${WRKSRC}/dist/bin" \
		OScompat=${OScompat}

MOB=		${WRKSRC}/dist/bin
MOZ=		${PREFIX}/mozilla-firebird

post-extract:
	@@cp ${FILESDIR}/xptc* ${WRKSRC}/xpcom/reflect/xptcall/src/md/unix/

pre-configure:
	@@cd ${WRKSRC}/nsprpub && ${SETENV} ${AUTOCONF_ENV} ${AUTOCONF}
	@@perl -pi -e 's|_LOCALBASE_|${LOCALBASE}|g; s|_X11BASE_|${X11BASE}|g' \
		${WRKSRC}/browser/app/mozilla.in

do-install:
	${INSTALL_DATA_DIR} ${MOZ}
.for dir in chrome components defaults icons plugins res searchplugins
	@@cd ${MOB} && ${TAR} -chf - ${dir} | \
		${TAR} -xf - -C ${MOZ}
.endfor
	@@cd ${MOB} && ${TAR} -chf - *.so.1.0 | \
		${TAR} -xf - -C ${MOZ}
	${INSTALL_SCRIPT} ${MOB}/MozillaFirebird ${PREFIX}/bin/mozilla-firebird
	ln ${PREFIX}/bin/mozilla-firebird ${PREFIX}/bin/firebird
	${INSTALL_SCRIPT} ${MOB}/run-mozilla.sh ${MOB}/mozilla-config ${MOZ}
	${INSTALL_PROGRAM} ${MOB}/regchrome ${MOB}/regxpcom ${MOB}/MozillaFirebird-bin ${MOZ}

.include <bsd.port.mk>
@


1.18
log
@* mark mozilla, firebird and firefox as broken on old MirOS
* mark firefox as broken because it's not fixed/ported yet
  (will come later)
* nuke MODGCC3 from firebird while here
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.17 2004/02/15 22:10:40 bsiegert Exp $
@


1.17
log
@Mozilla 1.6 now works, too. I am daring now, I put myself in as
RESPONSIBLE.
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.16 2004/02/14 23:02:02 bsiegert Exp $
d4 7
a17 1

a28 3
MODULES=	gcc3
MODGCC3_ARCHES=	alpha sparc64 powerpc
MODGCC3_LANGS=	C++
@


1.16
log
@Oops, remove BROKEN line
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.15 2004/02/14 18:55:31 bsiegert Exp $
d11 2
@


1.15
log
@Get yourself some champagne, firebird works :).

I went through the build system and made sure everything was compiled with
"OpenBSD" as the OS type. Remember that this will only work on -current,
not MirBSD #7ter.
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.14 2004/02/06 01:21:56 tg Exp $
a2 3

BROKEN+=	Menu entries do not yield any action, no icons or address bar.
BROKEN+=	No SVG support
@


1.14
log
@It was pretty easy. Really easy.

The OpenBSD people prefer to link C++ libraries with the C compiler.
They could just have used /usr/bin/ld, too...

On the other hand, Bloatzilla is still crapware.
If I click File -> Quit, I'd like it to quit.
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.13 2004/01/26 23:07:54 bsiegert Exp $
d67 2
a68 1
		PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig"
d70 2
a71 1
		LD_LIBRARY_PATH="${WRKSRC}/dist/bin"
@


1.13
log
@
Resolve conflicts from last import.

Please test, especially bochs, snownews et al. bsd.port.mk was deliberately
left out, this is up to tg.
@
text
@d1 1
a1 1
# $MirBSD: Makefile,v 1.12 2004/01/15 21:15:39 tg Exp $
d4 2
a5 2
BROKEN=		'gmake[4]: gcc: Command not found (and core dump)'
ONLY_FOR_ARCHS=	alpha i386 sparc sparc64
d7 1
a36 1

d64 1
@


1.12
log
@finish merging Ports, except for
* www/snownews
* x11/gnome

Please start merging these now, and tell OK in IRC
@
text
@d1 2
a2 2
# $MirBSD: Makefile,v 1.11 2003/12/03 19:33:03 tg Exp $
# $OpenBSD: Makefile,v 1.25 2004/01/01 02:16:47 jolan Exp $
d26 2
a27 1
BUILD_DEPENDS=	:zip->=2.3:archivers/zip
d44 1
a44 2
CONFIGURE_ARGS=					\
		--with-system-jpeg=${LOCALBASE}	\
d49 9
a57 1
		--disable-composer		\
d59 1
a59 2
		--enable-plaintext-editor-only	\
		--enable-extensions=default,-inspector,-irc,-venkman,-content-packs,-help \
d61 2
a62 4
		--disable-pedantic		\
		--disable-debug			\
		--disable-tests			\
		--disable-ldap
d65 2
a66 1
CONFIGURE_ENV=	MOZ_PHOENIX=1
d78 1
a78 1
	@@perl -pi -e 's|_LOCALBASE_|${LOCALBASE}|g' \
d83 1
a83 1
.for dir in chrome components defaults icons ipc plugins res searchplugins
d90 1
@


1.11
log
@Merge import of OpenBSD ports tree into MirPorts,
except for xawtv and gnome
@
text
@d1 2
a2 2
# $MirBSD: Makefile,v 1.10 2003/10/31 21:53:38 tg Exp $
# $OpenBSD: Makefile,v 1.24 2003/11/25 05:13:02 jolan Exp $
d10 1
a10 1
PKGNAME=	mozilla-firebird-${VER}
@


1.10
log
@Merge 'cvs import'

* Please, everyone, make sure your ports still work.

  This includes:
  * gnome 2.4.1(sic!) - a few USE_CXX may have vanished by accident *oops*
  * centericq
  * pine

* The ports tree is still locked until ports/INDEX is committed
  with the unlock message
@
text
@d1 2
a2 2
# $MirBSD: Makefile,v 1.9 2003/10/17 16:28:21 tg Exp $
# $OpenBSD: Makefile,v 1.23 2003/10/18 19:44:48 sturm Exp $
a3 1
USE_CXX=	Yes
d8 1
a8 2

VER=		0.6.1
a10 1

a11 1

d21 1
a21 1
DISTFILES=	MozillaFirebird-source-${VER}.tar.bz2
d36 1
@


1.9
log
@break bloatzilla*, it does not honour ${CC}.
i'm not going to dive into this.
@
text
@d1 2
a2 2
# $MirBSD$
# $OpenBSD: Makefile,v 1.21 2003/09/03 17:35:47 pvalchev Exp $
d5 2
a6 2
NOT_FOR_ARCHS=	vax m68k hppa powerpc
BROKEN=		gmake[4]: gcc: Command not found
d18 1
@


1.8
log
@Merge OpenBSD ports tree into MirPorts
@
text
@d1 1
d6 1
@


1.7
log
@Merge import of OpenBSD source, ports and XF4 tree.

While here,
o clean up differences where possible
o whitespace cleanup
o ifdef ./. if defined()
o '...' ./. "..."
o echo foo > bar ./. echo foo >bar
o `...` ./. $(...) ./. $$(...)
o `...' ./. '...'
o modernize "our" tree, e.g. WWW in ports
o fix some typos and brainos introduced when renaming OpenBSD to MirBSD
o use hardware 80387 by default
o migrate Apache 1.3.28 OpenBSD ./. MirBSD ./. KAME
o work around as many CVS bugs as possible (add back/delete files, ...)

Synchronize stuff, ready for ongoing changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/08/18 14:22:13 wilfried Exp $
a2 1
NOT_FOR_ARCHS=	vax m68k hppa
d4 1
@


1.6
log
@mop up
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/07/01 02:34:36 pvalchev Exp $
d4 1
d8 1
a8 1
VER=		0.6
d22 1
a22 1
DISTFILES=	MozillaFirebird-${VER}-source.tar.bz2
d25 1
a25 1
MODGCC3_ARCHES=	sparc64
d35 2
d67 3
a86 1
BROKEN=	Mozilla does not work on OpenBSD and will never do
@


1.5
log
@merge import
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2003/06/26 07:42:59 wilfried Exp $
d36 2
@


1.4
log
@merge cvs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/06/06 12:50:37 wilfried Exp $
d55 1
a55 2
		LD_LIBRARY_PATH="${WRKSRC}/dist/bin" \
		
d62 2
d75 1
a75 1
	${INSTALL_PROGRAM} ${MOB}/regxpcom ${MOB}/MozillaFirebird-bin ${MOZ}
@


1.3
log
@sync with OpenBSD

NB: phoenix is marked "broken". rumour has it that
    you can build it with NO_IGNORE, but i won't unbreak that beast.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/06/02 07:07:42 pvalchev Exp $
d72 2
a73 2
	${INSTALL_SCRIPT} ${MOB}/MozillaFirebird ${PREFIX}/bin
	${INSTALL_SCRIPT} ${MOB}/run-mozilla.sh ${MOZ}
@


1.2
log
@merge CVS import conflicts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/05/21 06:54:54 marcm Exp $
d21 1
a21 2
MODULES=	iconv
MODULES+=	gcc3
d47 1
d52 5
a56 3
CONFIGURE_ENV=	CFLAGS="" CXXFLAGS="" MOZ_PHOENIX=1
MAKE_ENV=	LD_LIBRARY_PATH="${WRKSRC}/dist/bin" \
		CFLAGS="" CXXFLAGS="" MOZ_PHOENIX=1
d59 1
a59 1
MOZ=		${PREFIX}/mozilla
d72 3
a74 3
	${INSTALL_SCRIPT} ${MOB}/MozillaFirebird ${MOB}/run-mozilla.sh ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${MOB}/MozillaFirebird-bin ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${MOB}/regxpcom ${MOZ}
@


1.1
log
@Initial revision
@
text
@d74 1
@


1.1.1.1
log
@Import OpenBSD-current ports tree
@
text
@@


1.1.1.2
log
@Import latest OpenBSD CVS tree by CTM in order
to sync the base system and ports tree with Them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/06/02 07:07:42 pvalchev Exp $
d21 2
a22 1
MODULES=	gcc3
a47 1
		--disable-pedantic		\
d52 3
a54 5
CFLAGS+=	-fno-stack-protector
CONFIGURE_ENV=	MOZ_PHOENIX=1
MAKE_ENV=	MOZ_PHOENIX=1 \
		LD_LIBRARY_PATH="${WRKSRC}/dist/bin" \
		
d57 1
a57 1
MOZ=		${PREFIX}/mozilla-firebird
d70 3
a72 3
	${INSTALL_SCRIPT} ${MOB}/MozillaFirebird ${PREFIX}/bin
	${INSTALL_SCRIPT} ${MOB}/run-mozilla.sh ${MOZ}
	${INSTALL_PROGRAM} ${MOB}/regxpcom ${MOB}/MozillaFirebird-bin ${MOZ}
@


1.1.1.3
log
@Import OpenBSD CVS of roughly 2000-2200 UTC. Last import before release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/06/06 12:50:37 wilfried Exp $
d72 2
a73 2
	${INSTALL_SCRIPT} ${MOB}/MozillaFirebird ${PREFIX}/bin/mozilla-firebird
	${INSTALL_SCRIPT} ${MOB}/run-mozilla.sh ${MOB}/mozilla-config ${MOZ}
@


1.1.1.4
log
@sync with the OpenBSD ports tree
note: this brings us new users (hint: /etc/master.passwd)
and other incompatibilities. Stay tuned.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/06/26 07:42:59 wilfried Exp $
d55 2
a56 1
		LD_LIBRARY_PATH="${WRKSRC}/dist/bin"
a62 2
	@@perl -pi -e 's|_LOCALBASE_|${LOCALBASE}|g' \
		${WRKSRC}/browser/app/mozilla.in
d74 1
a74 1
	${INSTALL_PROGRAM} ${MOB}/regchrome ${MOB}/regxpcom ${MOB}/MozillaFirebird-bin ${MOZ}
@


1.1.1.5
log
@Import OpenBSD ports tree
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.15 2003/07/01 02:34:36 pvalchev Exp $

NOT_FOR_ARCHS=	vax m68k hppa
a33 2
# Regression tests are too hard to adapt to run here
NO_REGRESS=	Yes
@


1.1.1.6
log
@Synchronize MirBSD ports tree with OpenBSD ports tree
Yields several updates and fixes, among them security ones
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/07/17 08:24:25 wilfried Exp $
a33 2
VMEM_WARNING=	Yes

a62 3

post-extract:
	@@cp ${FILESDIR}/xptc* ${WRKSRC}/xpcom/reflect/xptcall/src/md/unix/
@


1.1.1.7
log
@Import latest OpenBSD ports, XFree and source in sync
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/07/24 12:18:41 naddy Exp $
d24 1
a24 1
MODGCC3_ARCHES=	alpha sparc64
@


1.1.1.8
log
@Import OpenBSD CVS repository (checked out) of roughly 12:00 UTC today,
retrieved from the canadian anoncvs server (due to CTM unavailability)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/08/04 12:54:18 wilfried Exp $
d7 1
a7 1
VER=		0.6.1
d21 1
a21 1
DISTFILES=	MozillaFirebird-source-${VER}.tar.bz2
@


1.1.1.9
log
@Synchronize with OpenBSD 3.4-beta
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/08/18 14:22:13 wilfried Exp $
d24 1
a24 1
MODGCC3_ARCHES=	alpha sparc64 powerpc
@


1.1.1.10
log
@Import OpenBSD 3.4-current ports tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/09/03 17:35:47 pvalchev Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	vax m68k hppa powerpc
@


1.1.1.11
log
@Import OpenBSD ports tree into MirPorts Framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/10/18 19:44:48 sturm Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	alpha i386 sparc sparc64
a14 1
# mozilla public license
@


1.1.1.12
log
@By request of bsiegert@@, import OpenBSD ports tree again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/11/25 05:13:02 jolan Exp $
d7 1
a7 1
VER=		0.7
d22 1
a22 1
DISTFILES=	MozillaFirebird-source-${VER}.tar.gz
@


1.1.1.13
log
@Now we can update MirPorts from OpenBSD ports tree again,
that we have fixed pkg_install tools accordingly in both
stable and current, and that these tools are compatible.

Consider MirPorts locked until next commit of ports/INDEX,v
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/01/01 02:16:47 jolan Exp $
d9 1
a9 1
PKGNAME=	mozilla-firebird-${VER}p0
@


1.1.1.14
log
@Import ports from OpenBSD CVS, 26.01.2004 17:25 CET
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/01/25 13:39:12 wilfried Exp $
d27 1
a27 2
BUILD_DEPENDS=	:zip->=2.3:archivers/zip \
		:pkgconfig-*:devel/pkgconfig
d43 2
a44 1
CONFIGURE_ARGS=	--with-system-jpeg=${LOCALBASE}	\
d49 6
a54 2
		--enable-xft			\
		--enable-optimize=-O2		\
d57 1
a57 10
		--disable-pedantic		\
		--disable-installer

# from browser/config/mozconfig
CONFIGURE_ARGS+=--disable-ldap			\
		--disable-mailnews		\
		--enable-extensions=cookie,xml-rpc,xmlextras,p3p,pref,transformiix,universalchardet,typeaheadfind,webservices \
		--enable-crypto			\
		--disable-composer		\
		--disable-profilesharing
d60 1
a60 2
CONFIGURE_ENV=	MOZ_PHOENIX=1 \
		PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig"
d72 1
a72 1
	@@perl -pi -e 's|_LOCALBASE_|${LOCALBASE}|g; s|_X11BASE_|${X11BASE}|g' \
d77 1
a77 1
.for dir in chrome components defaults icons plugins res searchplugins
a83 1
	ln ${PREFIX}/bin/mozilla-firebird ${PREFIX}/bin/firebird
@


