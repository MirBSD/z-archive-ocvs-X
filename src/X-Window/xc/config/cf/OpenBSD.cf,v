head	1.18;
branch	1.1.1;
access;
symbols
	tg-mergetmp-2:1.1.1.9
	cvs-200410241530:1.1.1.9
	cvs-200410012000:1.1.1.8
	cvs-200407141120:1.1.1.7
	cvs-200406231010:1.1.1.7
	MIRBSD_7quater:1.17
	cvs-200405271510:1.1.1.6
	XFree86_4_4_0:1.1.9.1
	cvs-200403021700:1.1.1.5
	XFREE86_20040213:1.1.9.1
	xc:1.1.9
	cvs-200401291925:1.1.1.4
	MIRBSD_7_ALPHA:1.17.0.4
	MIRBSD_7:1.17.0.2
	MIRBSD_7ter:1.17
	cvs-20011091815:1.1.1.3
	cvs-200309162130:1.1.1.3
	cvs-200308302005:1.1.1.3
	ctmx-0388:1.1.1.3
	cvs-200307072234:1.1.1.3
	ctmx-0387:1.1.1.3
	ctmx-0384:1.1.1.3
	MIRBSD_5:1.9
	ctmx-0375:1.1.1.3
	ctmx-0373:1.1.1.3
	ctm-0371:1.1.1.2
	ctm-0370:1.1.1.2
	MIRBSD_4:1.4
	ctm-0363:1.1.1.2
	ctm-0359:1.1.1.2
	ctm-0349:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2003.11.30.18.49.01;	author tg;	state Exp;
branches;
next	1.17;

1.17
date	2003.10.24.06.56.47;	author tg;	state Exp;
branches;
next	1.16;

1.16
date	2003.09.28.15.49.58;	author tg;	state Exp;
branches;
next	1.15;

1.15
date	2003.09.02.10.15.51;	author tg;	state Exp;
branches;
next	1.14;

1.14
date	2003.07.19.14.23.14;	author tg;	state Exp;
branches;
next	1.13;

1.13
date	2003.07.19.14.22.07;	author tg;	state Exp;
branches;
next	1.12;

1.12
date	2003.07.19.13.11.18;	author tg;	state Exp;
branches;
next	1.11;

1.11
date	2003.07.15.11.54.13;	author tg;	state Exp;
branches;
next	1.10;

1.10
date	2003.07.15.11.13.18;	author tg;	state Exp;
branches;
next	1.9;

1.9
date	2003.05.25.14.33.58;	author tg;	state Exp;
branches;
next	1.8;

1.8
date	2003.05.25.13.57.23;	author tg;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.21.19.06.56;	author tg;	state Exp;
branches;
next	1.6;

1.6
date	2003.05.18.12.33.54;	author tg;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.16.17.17.14;	author tg;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.08.19.32.00;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.23.21.58.41;	author tg;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.22.22.36.32;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.19.59.28;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.9.1;
next	;

1.1.1.1
date	2003.03.22.19.59.28;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.04.08.18.17.20;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.16.16.42.10;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2004.01.29.20.53.35;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2004.03.02.17.20.26;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2004.05.27.15.59.32;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.06.23.11.10.17;	author tg;	state Stab;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.10.01.20.59.24;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.10.24.15.47.22;	author tg;	state Exp;
branches;
next	;

1.1.9.1
date	2004.02.14.19.01.35;	author tg;	state Exp;
branches;
next	;


desc
@@


1.18
log
@hm well
* build base/X with gcc 3.2.3
  -> surprise, the library majors shrink
  -> dont sync _that_
* nuke DRI (switch it off)
* hm. well. I think, except propolice I'm finished.
@
text
@XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.17 2003/10/24 06:56:47 tg Exp $
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.122 2003/05/14 09:18:04 mho Exp $




XCOMM platform:  $XFree86: xc/config/cf/OpenBSD.cf,v 3.79 2003/01/12 17:03:23 herrb Exp $
XCOMM

#ifndef OSName
#define OSName			DefaultOSName OSBinaryType
#endif
#ifndef OSMajorVersion
#define OSMajorVersion		DefaultOSMajorVersion
#endif
#ifndef OSMinorVersion
#define OSMinorVersion		DefaultOSMinorVersion
#endif
#ifndef OSTeenyVersion
#define OSTeenyVersion		DefaultOSTeenyVersion
#endif

#define XFree86CustomVersion	"for MirOS BSD"
#undef MirBSDArchitecture
#undef UseElfFormat

#ifdef i386Architecture
#define UseElfFormat		YES	/* safer to override this here */
#define MirBSDArchitecture	i386
#endif

#ifdef SparcArchitecture
#define UseElfFormat		YES
#define MirBSDArchitecture	sparc
#endif

#ifndef MirBSDArchitecture
#error MirBSD only handles the i386 or sparc architecture at the moment!
#endif

#ifndef OSVendor
#define	OSVendor	/**/
#endif
XCOMM operating system:  OSName (OSMajorVersion./**/OSMinorVersion./**/OSTeenyVersion)

#ifdef Ports

#define BinDir			/usr/local/bin
#define LibDir			/usr/local/lib/X11
#define UsrLibDir		/usr/local/lib
#define ManDirectoryRoot	/usr/local/man
#define LdPreLib		-L/usr/X11R6/lib -L/usr/local/lib
#define XpmLibDir		/usr/X11R6/lib
#define XpmIncDir		/usr/X11R6/include
#define ConfigDir		/usr/X11R6/lib/X11/config
#define IncRoot			/usr/local/include
#define TopXInclude		-I/usr/include -I/usr/X11R6/include
#define ImakeCmd		imake -DPorts
#define DocDir			/usr/local/share/doc

#endif

/*
 * C library features
 */
#define HasPoll			YES
#define HasNdbm         	YES
#define HasPutenv       	YES
#define HasSnprintf		YES
#define HasBSD44Sockets 	YES
#define Malloc0ReturnsNull	NO
#define SetTtyGroup     	YES
#define DBMLibrary		/**/
#define HasLibCrypt		NO
#define HasPosixSignals		YES
#define HasShm          	YES
#define HasWChar32		YES
#define HasMkstemp		YES
#define HasSetProcTitle		YES
#define HasZlib			YES
#define HasKrbIV		NO
#define HasKrb5			NO
#define HasUsableFileMmap	YES
#define HasShadowPasswd		NO

#define HasNCurses		YES
#define NCursesLibName		-lcurses
#if defined(TermcapLibrary)
#undef TermcapLibrary
#endif
#define TermcapLibrary		-lcurses

#define HasVarRun		YES
#define HasVarDb		YES
#define VarLibDir		VarDbDirectory

#define InstallXloadSetGID	NO

#ifndef HasIssetugid
# if (OSMajorVersion >= 2)
#  define HasIssetugid		YES
# endif
#endif

#ifndef HasMktemp
# if (OSMajorVersion > 2) || (OSMajorVersion == 2 && OSMinorVersion >= 1)
#  define HasMktemp		YES
# else
#  define HasMktemp		NO
# endif
#endif

/* OpenBSD >= 2.7 has getifaddrs() */
#if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion >= 7)
#define HasGetIfAddrs		YES
#endif

/* OpenBSD >= 2.8 has setusercontext() */
#if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion > 7)
#define HasSetUserContext	YES
#endif

/* OpenBSD after 2.9 has BSD authentication */
#if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion >= 9)
# define HasBSDAuth		YES
#endif

/* OpenBSD 3.0 and later has getpeereid() */
#if OSMajorVersion >= 3
# define HasGetpeereid		YES
#endif

/* OpenBSD 3.0 has APM with kqueue interface */
#if OSMajorVersion >= 3
# define HasApmKqueue		YES
#endif

/* OpenBSD 3.0 has libusb, next versions have libusbhid */
#if OSMajorVersion >= 3 
# define HasLibUsb		YES
# ifndef HasLibUsbHid
#  if OSMajorVersion == 3 && OSMinorVersion > 0 || OSMajorVersion > 3
#   define HasLibUsbHid		YES
#   define UsbHidLib 		-lusbhid
#  else
#   define HasLibUsbHid		NO
#   define UsbHidLib		-lusb
#  endif
# endif
#endif

/*
 * Compiler Features
 */
#define GccUsesGas		YES
#define UseGas			YES
#define GnuCpp			YES

#ifndef HasGccStackProtector	
#define HasGccStackProtector	NO
#endif

#define UseGnuMalloc		NO

#define NeedConstPrototypes	YES
#define NeedFunctionPrototypes	YES
#define NeedNestedPrototypes	YES
#define NeedVarargsPrototypes	YES
#define NeedWidePrototypes	NO

#define MkdirHierCmd		mkdir -p

#ifndef CppCmd
#define CppCmd          	/usr/libexec/cpp
#endif
#define StandardCppOptions	-traditional
#define StandardCppDefines	/**/
#define PreProcessCmd   	CppCmd
#define PreIncDir		DefaultGccIncludeDir

#ifndef CcCmd
#define CcCmd 			cc
#endif
#ifndef DefaultCCOptions
#if defined(UseInstalled)
   /* conform to OpenBSD's habits */
#  define DefaultCCOptions	$(COPTS)
#else
#  ifdef  PpcArchitecture
#    define DefaultCCOptions	-ansi -fsigned-char GccWarningOptions
#  else
#    define DefaultCCOptions 	-ansi GccWarningOptions
#  endif
#endif
#endif

#define GccGasOption 		-DGCCUSESGAS
#define AsmDefines 		-DUSE_GAS

/* UseElfFormat defaults to YES if __ELF__ set */
#ifndef UseElfFormat
# ifdef __ELF__
#  undef __ELF__			/* other imake files shouldn't care */
#  define UseElfFormat YES
# else
#  define UseElfFormat NO
# endif
#endif

/*
 * Increment shared libraries major numbers if using Gcc Stack Protector
 * (This introduces an ABI change)
 */
#ifndef OverrideShlibRevs
# define OverrideShlibRevs     HasGccStackProtector
#endif


#define StandardDefines	-DCSRG_BASED
#define XawI18nDefines	-DUSE_XWCHAR_STRING -DUSE_XMBTOWC

/* Build a shared version of Xinerama on archs that support it */
#define SharedLibXinerama	HasSharedLibraries

#define	AdmDir			/var/log

#define HasFlex			YES

/* OpenBSD doesn't have gperf in the base install */
#define DontRebuildGperfOutput	YES

/*
 * Make & install Features
 */

#define HasBsdMake		YES

#define StripInstalledPrograms	YES
#define BuildCyrillicFonts	YES
#define GzipFontCompression	YES
#define MakeLocalFontDir	YES
#define DefaultUserPath		/bin:/usr/bin:/usr/local/bin:$(BINDIR)
#define DefaultSystemPath	/sbin:/usr/sbin:/bin:/usr/bin:$(BINDIR)

#define InstUidFlags		-m 4755

#ifdef  InstallCmd
# undef  InstallCmd
# define InstallCmd 		/usr/bin/install
#endif

#ifndef ExtraFilesToClean
# define ExtraFilesToClean 	*.core
#endif

#define BuildRman		NO
#define BuildHtmlManPages	NO

/*
 * XDM pixmaps
 */
#define Xdm_15bpp_Pixmap OpenBSD_15bpp.xpm
#define Xdm_8bpp_Pixmap OpenBSD_8bpp.xpm
#define Xdm_4bpp_Pixmap OpenBSD_4bpp.xpm
#define Xdm_1bpp_Pixmap OpenBSD_1bpp.xpm

/*
 * Documentation formatting
 */
#define NeqnCmd			eqn -Tlatin1
#define NroffCmd		nroff -Tlatin1
#define	EqnCmd 			eqn -Tps
#define HasGroff		YES

#ifndef HasCookieMaker
#  define HasCookieMaker	YES
#  define MkCookieCmd \
	'dd if=/dev/urandom bs=16 count=1 2>/dev/null | hexdump -e \\"%08x\\"'
#endif


/*
 * Man pages need to be formatted when installed, so override the default
 * imake rules.
 */
#define ManSuffix	1
#define FileManSuffix	5
#define ManSourcePath	$(MANPATH)/cat

#define InstallManPageLongBase(file,destdir,dest)			@@@@\
all:: file.0								@@@@\
									@@@@\
file.0:: file.$(MANNEWSUFFIX)						@@@@\
	@@if [ -f file.$(MANNEWSUFFIX) ]; \				@@@@\
	then \								@@@@\
	cat file.$(MANNEWSUFFIX) | $(NEQN) | $(TBL) | \			@@@@\
		$(NROFF) $(MANMACROS) | $(COL) > file.0; \		@@@@\
	fi 								@@@@\
									@@@@\
install.man::                                                           @@@@\
	MakeDir($(DESTDIR)destdir)					@@@@\
	-@@if [ -f file.0 ]; \						@@@@\
	then \								@@@@\
	$(INSTALL) -c $(INSTMANFLAGS) file.0 $(DESTDIR)destdir/dest.0; \@@@@\
	fi								@@@@\
									@@@@\
clean::									@@@@\
	RemoveFile(file.0)

#define InstallManPageLong(file,destdir,dest)				@@@@\
BuildInstallHtmlManPage(file,dest,$(MANSUFFIX))				@@@@\
									@@@@\
CppManTarget(file, $(EXTRAMANDEFS))					@@@@\
									@@@@\
InstallManPageLongBase(file,destdir,dest)

#define InstallGenManPageLong(file,destdir,dest,suffix)			@@@@\
BuildInstallHtmlManPage(file,dest,suffix)				@@@@\
									@@@@\
CppManTarget(file, $(EXTRAMANDEFS))					@@@@\
									@@@@\
InstallManPageLongBase(file,destdir,dest)

#define InstallMultipleMan(list,dest)                                   @@@@\
install.man:: 								@@@@\
	MakeDir($(DESTDIR)dest)						@@@@\
	case '${MFLAGS}' in *[i]*) set +e;; esac; \			@@@@\
	for i in list; do \                                             @@@@\
	  (MNAME=`echo $$i | cut -f1 -d.`; \				@@@@\
	  set -x; \							@@@@\
	  cat $$i | $(NEQN) | $(TBL) | $(NROFF) $(MANMACROS) \		@@@@\
		| $(COL) > $${MNAME}.0; \				@@@@\
	  $(INSTALL) -c $(INSTMANFLAGS) $${MNAME}.0 \			@@@@\
			$(DESTDIR)dest/$${MNAME}.0; \			@@@@\
	  $(RM) $${MNAME}.0); \						@@@@\
	done

#define InstallMultipleManSuffix(list,dest,suff)                        @@@@\
install.man:: 								@@@@\
	MakeDir($(DESTDIR)dest)						@@@@\
	case '${MFLAGS}' in *[i]*) set +e;; esac; \			@@@@\
	for i in list; do \                                             @@@@\
	  (set -x; \							@@@@\
	  cat $$i.suff | $(NEQN) | $(TBL) | $(NROFF) $(MANMACROS) \	@@@@\
		| $(COL) > $$i.0; \					@@@@\
	  $(INSTALL) -c $(INSTMANFLAGS) $$i.0	 \			@@@@\
		$(DESTDIR)dest/$$i.0; \					@@@@\
	  $(RM) $$i.0 ); \						@@@@\
	done

#define InstallManPageAliasesBase(file,destdir,aliases)			@@@@\
install.man:: 								@@@@\
	@@case '${MFLAGS}' in *[i]*) set +e;; esac; \                    @@@@\
	for i in aliases; do \                                          @@@@\
		(set -x; \						@@@@\
		$(RM) $(DESTDIR)destdir/$$i.0;\  			@@@@\
		(cd $(DESTDIR)/destdir; $(LN) file.0 $$i.0);\ 		@@@@\
		); \							@@@@\
	done

#define InstallManPageAliases(file,destdir,aliases)			@@@@\
InstallHtmlManPageAliases(file,aliases,$(MANSUFFIX))			@@@@\
									@@@@\
InstallManPageAliasesBase(file,destdir,aliases)

#define InstallGenManPageAliases(file,destdir,suffix,aliases)		@@@@\
InstallHtmlManPageAliases(file,aliases,suffix)				@@@@\
									@@@@\
InstallManPageAliasesBase(file,destdir,aliases)


/*
 * InstallFontAliases - generate rules to install font aliases
 *                      databases without comments for X11R5 servers
 */
#ifndef InstallFontAliasesNoComment
#define InstallFontAliasesNoComment(dest)				@@@@\
install:: fonts.alias							@@@@\
	$(RM) _fonts.alias 						@@@@\
	sed -e '/^!/d' -e '/^$$/d' < fonts.alias > _fonts.alias		@@@@\
	MakeDir($(DESTDIR)dest)						@@@@\
	$(INSTALL) $(INSTALLFLAGS) $(INSTALLDATFLAGS) _fonts.alias \	@@@@\
	$(DESTDIR)dest/fonts.alias					@@@@\
	$(RM) _fonts.alias
#endif /* InstallFontAliasesNoComment */

/*
 * OpenBSD specific Imake Config files
 */
#ifndef LocalConfigFiles
#define LocalConfigFiles \
	OpenBSDLib.rules OpenBSDLib.tmpl
#endif

/*
 * Architecture specific sections - put all architecture dependent
 * options and setting here into the correct section
 */


/*
 * Definitions for the alpha architecture
 */
#ifdef AlphaArchitecture

# if OSMajorVersion == 3 && OSMinorVersion > 1 || OSMajorVersion > 3
#  define HasWeakSymbols		YES
# endif

/* XXX Xvfb currently causes a linker error: */
/* XXX crtbegin.c(.fini+0x10): relocation truncated to fit: BRADDR text */
# ifdef XVirtualFramebufferServer
#  undef XVirtualFramebufferServer
# endif
# define XVirtualFramebufferServer	NO
# ifdef XnestServer
#  undef XnestServer
# endif
# define XnestServer	NO

# if (OSMajorVersion < 3)
#  define HasSharedLibraries	NO
#  define SharedLibXThrStub	NO
# endif

# ifndef XF86Server
#  if OSMajorVersion == 3 && OSMinorVersion >= 2 || OSMajorVersion > 3
#    define XF86Server		YES
#  else
#    define XF86Server		NO
#  endif
# endif

/* Definitions for building the XFree86 server */
# if XF86Server
#   ifndef HasNetBSDApertureDriver
#     define HasNetBSDApertureDriver	YES
#   endif
#   define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME -DDDXOSINIT
#   define ServerExtraDefines	GccGasOption -D_XSERVER64 XFree86ServerDefines
#   define ServerExtraSysLibs	-lalpha
#   ifndef DoLoadableServer
#     define DoLoadableServer	YES
#   endif
#   define XF86OSCardDrivers	wsfb
#   ifndef XFree86ConsoleDefines
#     define XFree86ConsoleDefines -DWSCONS_SUPPORT -DPCVT_SUPPORT
#   endif
#   define UseMatroxHal		NO	/* Matrox HAL is i386 only */

# endif /* XF86Server */

# include <xfree86.cf>

#endif /* AlphaArchitecture */

/*
 * Definitions for the hppa architecture
 */
#ifdef HPArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
# define InstallFontAliases	InstallFontAliasesNoComment
# define HasSharedLibraries     NO
# define HasDlopen              NO
# define BuildGlxExt            NO
# define BuildGLXLibrary        NO

#include <xfree86.cf>

#endif /* HPArchitecture */

/*
 * Definitions for the i386 architecture
 */
#ifdef i386Architecture

# ifndef DoLoadableServer
#  define DoLoadableServer	YES
# endif

# define HasWeakSymbols		YES

/* To use the NetBSD Aperture driver */
# ifndef HasNetBSDApertureDriver
#  define HasNetBSDApertureDriver	YES
# endif

/* 2.7 and later have support for setting MTRRs */
# ifndef HasMTRRSupport
#  if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion > 6)
#   define HasMTRRSupport		YES
#  else
#   define HasMTRRSupport		NO
#  endif
# endif

/* 
 * agpgart support (OpenBSD 3.2 and up) 
 */ 
# if OSMajorVersion > 3 || (OSMajorVersion == 3 && OSMinorVersion > 1)
#  ifndef HasAgpGart 
#   define HasAgpGart   YES 
#  endif 
# endif 
 
/* Direct rendering (OpenBSD 3.3 and up). */ 
/* DRI works, DRM not. DRI blanks the screen if no suitable
 * DRM is found, so enabling it right now would be pointless. */
# if OSMajorVersion > 3 || (OSMajorVersion == 3 && OSMinorVersion > 2)
#  ifndef BuildXF86DRI
#   define BuildXF86DRI			NO
#  endif 
#  ifndef BuildXF86DRM
#   define BuildXF86DRM			NO
#  endif 
#  ifndef BuildXF86OldDRMCompat
#   define BuildXF86OldDRMCompat	NO
#  endif
# endif 

# ifndef DefaultGcc2i386Opt
#   if (OSMajorVersion == 2 && OSMinorVersion >= 3) || OSMajorVersion > 2
      /* The GCC strength-reduce bug is fixed for OpenBSD 2.3 and later */
#     define DefaultGcc2i386Opt	-O2
#   endif
# endif
# define OptimizedCDebugFlags	DefaultGcc2i386Opt
# define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME
# define ServerExtraSysLibs	-li386
# define LdPostLib		/**/
# define ServerExtraDefines GccGasOption XFree86ServerDefines
# ifndef XFree86ConsoleDefines
#   define XFree86ConsoleDefines -DWSCONS_SUPPORT -DPCVT_SUPPORT
# endif

# define JoystickSupport	NO

/* Support for USB Mices */
# ifndef UsbMouseSupport
#  if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion >= 6)
#   define UsbMouseSupport	YES
#  endif
# endif

/* Usb Tablets */
# ifndef OSXInputDrivers
#  if HasLibUsb
#   define OSXInputDrivers	usbtablet
#  endif
# endif

/* A hack to work around an optimization problem with gcc 2.95.2 */
# if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion >= 6)
#  define GccOptBug295
# endif

/* No MMX support in OpenBSD/a.out gas */
# ifndef HasMMXSupport
#   define HasMMXSupport	UseElfFormat
# endif

/* for DRI */
# ifndef HasX86Support
#  define HasX86Support		UseElfFormat
# endif

/* Build configuration tools on the i386 */
# ifndef BuildXFree86ConfigTools
#  define BuildXFree86ConfigTools	YES
# endif

# include <xfree86.cf>

#endif /* i386Architecture */


/*
 * Definitions for the m68k architecture (currently amiga, hp300,
 * mac68k, mvme68k, sun3)
 */
#ifdef Mc68020Architecture

/*
 * Function CSE makes gas -k not recognize external function calls as lazily
 * resolvable symbols, thus sometimes making ld.so report undefined symbol
 * errors on symbols found in shared library members that would never be
 * called.  Ask niklas@@openbsd.org for details.
 */

# define PositionIndependentCFlags -fpic -fno-function-cse
# define BuildGlxExt		NO
# define BuildGLXLibrary	YES
 
#endif /* Mc68020Architecture */


/*
 * Definitions for the amiga architecture
 */
#ifdef AmigaArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif

# define ServerExtraDefines	-DXFree86Server

# include <xfree86.cf>

#endif /* AmigaArchitecture */


/*
 * Definitions for the hp300 architecture
 */
#ifdef Hp300Architecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO
# define UseRgb			YES
# define XdmServersType		ws

# define ServerExtraDefines	-DXFree86Server

#include <xfree86.cf>

#endif /* Hp300Architecture */


/*
 * Definitions for the mac68k architecture
 */
#ifdef Mac68kArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif

# define ServerExtraDefines	-DXFree86Server

# include <xfree86.cf>

#endif /* mac68kArchitecture */


/*
 * Definitions for the mvme68k architecture
 */
#ifdef Mvme68kArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif

# define ServerExtraDefines	-DXFree86Server

# include <xfree86.cf>

#endif /* Mvme68kArchitecture */


/*
 * Definitions for the sun3 architecture
 */
#ifdef Sun3Architecture

# include <xf86.rules>

# define ServerOSDefines       -DDDXOSINIT
# define BootstrapCFlags       -Dsun3
# define UnalignedReferencesAllowed	YES /* changes _XtCopyArgs() */
/* Note: -ansi turns off -Dmc68000 */
# define ServerExtraDefines    GccGasOption -Dmc68000 -Dmc68020 \
			       -DXFree86Server -DINCLUDE_CG2_HEADER

# ifndef Xsun24Server
#  define Xsun24Server		NO
# endif
# ifndef XsunServer
#  define XsunServer		YES
# endif
# ifndef XsunMonoServer
#  define XsunMonoServer	NO
# endif

#define XkbServerDefines  -DXKB_ALWAYS_USES_SOFT_REPEAT

#endif /* Sun3Architecture */


/*
 * Definitions for the mips architecture (currently arc, pmax)
 */
#ifdef MipsArchitecture

 /*
  * Mips ELF shared libs need some special handling.
  */
# define PositionIndependentCFlags
# define SharedLibraryLoadFlags -x -shared --whole-archive -soname `echo $@@ | sed 's/\.[0-9]*$$//'`
# define SharedXtReqs -L$(BUILDLIBDIR) $(XLIBONLY) $(SMLIB) $(ICELIB)
# define SharedXmuReqs $(LDPRELIB) $(XTOOLONLYLIB) $(XONLYLIB) $(EXTENSIONLIB)

#endif /* MipsArchitecture */


/*
 * Definitions for the arc architecture
 */
#ifdef ArcArchitecture

#  define ServerExtraDefines GccGasOption XFree86ServerDefines
#  ifndef XFree86ConsoleDefines
#    define XFree86ConsoleDefines -DPCCONS_SUPPORT
#  endif

# include <xfree86.cf>

#endif /* ArcArchitecture */


/*
 * Definitions for the pmax architecture
 */
#ifdef PmaxArchitecture

# include <xf86.rules>
# ifndef BuildServer
#  define BuildServer		NO
# endif
/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO

#endif /* PmaxArchitecture */

/*
 * Definitions for the PowerPC architecture 
 */
#ifdef PpcArchitecture

# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT
# ifndef XFree86ConsoleDefines
#   define XFree86ConsoleDefines	-DWSCONS_SUPPORT
# endif

# if OSMajorVersion == 3 && OSMinorVersion > 1 || OSMajorVersion > 3
#  define HasWeakSymbols	YES
# endif
# ifndef GccWarningOptions
#  if defined(XFree86Devel) && XFree86Devel
#   define GccWarningOptions -Wall -Wpointer-arith -Wstrict-prototypes \
			  -Wmissing-prototypes -Wmissing-declarations \
			  -Wnested-externs
#  else
#   define GccWarningOptions -Wall -Wpointer-arith
#  endif
# endif

# ifndef XF86Server
#   define XF86Server		YES
# endif

/* Definitions for building the X server */
# if XF86Server
#   define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME -DDDXOSINIT
#   define ServerExtraDefines	GccGasOption XFree86ServerDefines
#   ifndef DoLoadableServer
#     define DoLoadableServer	YES
#   endif
#   define XF86OSCardDrivers	wsfb
#   ifndef XF86CardDrivers
#    define XF86CardDrivers	ati mga glint s3virge sis savage\
				trident chips tdfx \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
#   endif
#   ifndef DevelDrivers 
#    define DevelDrivers nv
#   endif

    /* Support for USB Mices */
#   ifndef UsbMouseSupport
#     define UsbMouseSupport		YES
#   endif

# endif /* XF86Server */

# if defined(KDriveXServer) && KDriveXServer
#  include <kdrive.cf>
# else 
#  include <xfree86.cf>
# endif

#endif /* PpcArchitecture */

/*
 * Definitions for the sparc architecture
 */
#ifdef SparcArchitecture

# define HasWeakSymbols		YES

/* Set to YES to build XFree86 with wsfb server */
# define	XF86Server	YES

# if !XF86Server

#  ifndef Xsun24Server
#   define Xsun24Server		YES
#  endif
#  ifndef XsunServer
#   define XsunServer		YES
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	YES
#  endif

#  define ServerOSDefines 	-DDDXOSINIT
#  define ServerExtraDefines	-DAVOID_GLYPHBLT -DPIXPRIV  -DXFree86Server \
				ServerSnprintfDefines DebugDefines \
				-DX_BYTE_ORDER=ByteOrder -DINCLUDE_CG2_HEADER
#  ifndef InstallXserverSetUID
#   define InstallXserverSetUID NO
#  endif

# else /* XF86Server */

#  ifndef DoLoadableServer
#    define DoLoadableServer	YES
#  endif

#  define XF86CardDrivers	wsfb
#  define XFree86ConsoleDefines -DWSCONS_SUPPORT
#  define BuildXInputExt	YES
#  define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME -DDDXOSINIT
#  define ServerExtraDefines	GccGasOption XFree86ServerDefines

# endif /* XF86Server */

# define BuildXF86MiscExt	NO
# define BuildMITMiscExt	NO

# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 2
#  ifndef Xsun24Server
#   define Xsun24Server		YES
#  endif
#  ifndef XsunServer
#   define XsunServer		YES
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	YES
#  endif
# else 
#  ifndef Xsun24Server
#   define Xsun24Server		NO
#  endif
#  ifndef XsunServer
#   define XsunServer		NO
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	NO
#  endif
#endif

# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT


# define BuildXF86VidModeExt	NO
# define BuildXF86DGA		NO
# ifndef BuildXInputExt
# define BuildXInputExt		NO
# endif
# include <xfree86.cf>

#endif /* SparcArchitecture */

/*
 * Definitions for the sparc64 architecture
 */

#ifdef Sparc64Architecture

# if OSMajorVersion == 3 && OSMinorVersion > 1 || OSMajorVersion > 3
#  define HasWeakSymbols	YES
# endif

# ifndef XF86Server
#  define XF86Server		YES
# endif

# define ServerExtraDefines	GccGasOption -D_XSERVER64 XFree86ServerDefines
# define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME -DDDXOSINIT
# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT

# if XF86Server
#   ifndef DoLoadableServer
#     define DoLoadableServer	NO
#   endif
#   define XF86OSCardDrivers	wsfb
#   define XFree86ConsoleDefines -DWSCONS_SUPPORT

    /* Support for USB Mices */
#   ifndef UsbMouseSupport
#     define UsbMouseSupport	YES
#   endif
# endif

# include <xfree86.cf>

#endif /* Sparc64Architecture */

/*
 * Definitions for the vax architecture
 */
#ifdef VaxArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO
# define UseRgb			YES

# define ServerExtraDefines	-DXFree86Server
# define UnalignedReferencesAllowed YES
# define HasSharedLibraries	NO
# define HasDlopen		NO

# define BuildGlxExt		NO
# define BuildGLXLibrary	NO

#include <xfree86.cf>

#endif /* VaxArchitecture */
 
/* End or architecture specific section */

/*
 * Generic settings for all architectures
 * which can be overridden by architecture specific sections above
 */

#if !defined(OptimizedCDebugFlags)
# define OptimizedCDebugFlags	-O2
#endif

#ifndef ServerOSDefines
#  define ServerOSDefines 	/**/
#endif

#ifndef ServerExtraDefines
#  define ServerExtraDefines GccGasOption
#endif

#ifndef ServerExtraSysLibs
#  define ServerExtraSysLibs	/**/
#endif

#ifndef HasWeakSymbols
# define HasWeakSymbols		NO
#endif

/*
 * Multi-thread safe libs 
 */	
#if HasWeakSymbols == YES && (OSMajorVersion == 2 && OSMinorVersion >= 6 || OSMajorVersion >= 3)
#  define HasPosixThreads		YES
#  define ThreadedX			YES
#  define SystemMTDefines		-D_REENTRANT
#  define BuildThreadStubLibrary	YES 
#  define NeedUIThrStubs		YES 
#  define ThreadsCompileFlag		-pthread
#  define ThreadsLibraries		-pthread
#else
#  define ThreadedX			NO
#endif

/* Set this to YES when getpwuid_r is added to libc_r */
#define HasThreadSafeAPI	NO

#ifndef ExtraLibraries
# define ExtraLibraries		/**/
#endif

/* Dynamic loading of i18n modules in libX11 has too many problems for now */
#ifndef BuildLoadableXlibI18n
#define BuildLoadableXlibI18n		NO
#endif
 
#ifndef DoLoadableServer
#define DoLoadableServer	NO
#endif

#ifndef XVirtualFramebufferServer
# undef BuildServer
# define BuildServer			YES
# define XVirtualFramebufferServer	YES
#endif

#ifndef XnestServer
# undef BuildServer
# define BuildServer			YES
# define XnestServer			YES
#endif

#ifndef BuildScreenSaverLibrary
# define BuildScreenSaverLibrary	YES
#endif

#ifndef BuildXInputLib
# define BuildXInputLib			YES
#endif

#ifndef BuildXFree86ConfigTools
# define BuildXFree86ConfigTools	NO
#endif

#ifndef ForceNormalLib
# define ForceNormalLib			YES
#endif

#ifndef CompressAllFonts
# define CompressAllFonts		YES
#endif

#ifndef SharedLibXdmGreet
# define SharedLibXdmGreet		NO
#endif

/*
 * XFree86 uses its own (more portable) database routines to speed up
 * the RGB database lookups
 * However, if you want to use ndbm anyway, you can set that to NO in
 * host.def
 */
#ifndef UseRgbTxt
# define UseRgbTxt			YES
#endif

#ifndef HasXdmAuth
# define HasXdmAuth			YES
#endif

#ifndef OSBinaryType
# if UseElfFormat
#  define OSBinaryType			[ELF]
# else
#  define OSBinaryType			/**/
# endif
#endif

#ifndef HasDlopen
# define HasDlopen		YES
#endif

#ifndef DlLibrary
# if (OSMajorVersion < 3 || OSMajorVersion == 3 && OSMinorVersion == 0)\
    && UseElfFormat
#  define DlLibrary -ldl
# else
#  define DlLibrary /**/
# endif
#endif

#ifndef GccWarningOptions
#  define GccWarningOptions -Wall -Wpointer-arith
#endif

/* This must come last */
#if OSMajorVersion == 2 && OSMinorVersion >= 8 || OSMajorVersion > 2
# include <OpenBSDLib.rules>
#else
# include <bsdLib.rules>
#endif
@


1.17
log
@Rumours have it that MirBSD for x86-32 will be superseded
by MirOS BSD for i386 and sparc soon. Adjust to this change.
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.16 2003/09/28 15:49:58 tg Exp $
d510 2
d514 1
a514 1
#   define BuildXF86DRI			YES
@


1.16
log
@include /usr/include before /usr/X11R6/include (hard-coded now)
surprisingly, this fixes ports/print/gv...
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.15 2003/09/02 10:15:51 tg Exp $
d23 4
a26 1
#define XFree86CustomVersion	"for MirBSD"
a27 1
#undef UseElfFormat
d29 10
a38 2
#else
#error MirBSD only handles the x86-32 architecture at the moment!
@


1.15
log
@define GccWarningOptions if notdef
fixes bootstrap problem that came from the nirvana (wtf?)
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.14 2003/07/19 14:23:14 tg Exp $
d47 1
a47 1
#define TopXInclude		-I/usr/X11R6/include
@


1.14
log
@reduce diff to OpenBSD and XC
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.13 2003/07/19 14:22:07 tg Exp $
d1063 4
@


1.13
log
@OldDRMCompat is kernel stuff, and non-OpenBSD yet
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.12 2003/07/19 13:11:18 tg Exp $
d3 4
d505 1
a505 1
#   define BuildXF86DRM			NO	/* FreeBSD only yet */
d508 1
a508 1
#   define BuildXF86OldDRMCompat	NO	/* kernel stuff?! */
@


1.12
log
@move NO_CXX_INSTALLED logic out of Imakefile, which
does not include <bsd.own.mk>, to top-level BSD Makefile,
which patches host.def accordingly.
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.11 2003/07/15 11:54:13 tg Exp $
d504 1
a504 1
#   define BuildXF86OldDRMCompat	YES
@


1.11
log
@use NO_CXX_INSTALLED
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.10 2003/07/15 11:13:18 tg Exp $
a24 6
#endif

#ifdef NO_CXX_INSTALLED
#define HasCplusplus		NO
#else
#define HasCplusplus		YES
@


1.10
log
@use CXX_INSTALLED
enable DRI support (just a try, hey...)
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.9 2003/05/25 14:33:58 tg Exp $
d22 1
a22 1
#define UseElfFormat YES	/* safer to override this here */
d27 5
a31 1
#define HasCplusplus $(CXX_INSTALLED)
@


1.9
log
@our eqn is neqn
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.8 2003/05/25 13:57:23 tg Exp $
d27 1
a27 3
#if OSMajorVersion == 3 && OSMinorVersion == 3
#define HasCplusplus NO		/* MirBSD #5 (interim) is gcc 2.95 only */
#endif
d500 1
a500 1
#   define BuildXF86DRI			NO
d503 1
a503 1
#   define BuildXF86DRM			NO
d506 1
a506 1
#   define BuildXF86OldDRMCompat	NO
@


1.8
log
@oops... the #if line got deleted accidentally
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.7 2003/05/21 19:06:56 tg Exp $
d260 1
a260 1
#define NeqnCmd			neqn -Tlatin1
@


1.7
log
@define HasCplusplus to NO, may make it build
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.6 2003/05/18 12:33:54 tg Exp $
d109 1
@


1.6
log
@disable DRM for now, it breaks make clean *g*
(no <bsd.kmod.mk> - fbsdism)
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.5 2003/05/16 17:17:14 tg Exp $
d27 4
a108 1
#if OSMajorVersion > 2 || (OSMajorVersion == 2 && OSMinorVersion > 7)
@


1.5
log
@merge conflicts; enable DRI/DRM (3D acceleration)
@
text
@d1 1
a1 1
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.4 2003/04/08 19:32:00 tg Exp $
d498 1
a498 1
#   define BuildXF86DRI			YES
d501 1
a501 1
#   define BuildXF86DRM			YES
d504 1
a504 1
#   define BuildXF86OldDRMCompat	YES
@


1.4
log
@merge conflicts
@
text
@d1 2
a2 2
XCOMM platform:	$MirBSD: OpenBSD.cf,v 1.3 2003/03/23 21:58:41 tg Exp $
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.120 2003/04/03 21:13:21 matthieu Exp $
a84 4
#ifndef HasLibPthread
#define HasLibPthread		NO
#endif

d495 12
d545 7
a551 2
# if !UseElfFormat
#   define HasMMXSupport	NO
d970 2
@


1.3
log
@MirBSD particulars
@
text
@d1 3
a3 3
XCOMM platform:	$MirBSD$
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.118 2003/02/17 23:04:20 matthieu Exp $
XCOMM platform:  $XFree86: xc/config/cf/OpenBSD.cf,v 3.66.2.1 2002/09/04 02:38:08 dawes Exp $
d24 1
a24 1
#error MirBSD only handles the x86-32 architecture!
a31 4
#ifndef OverrideShlibRevs
# define OverrideShlibRevs YES
#endif

d35 1
d70 1
d81 1
d118 5
d132 1
a132 1
#  if OSMajorVersion == 3 && OSMinorVersion > 0 || OSMajorVersion > 3 
d149 6
d163 1
d165 1
d171 15
a185 2
#undef CcCmd
#define CcCmd 			gcc
d200 6
a205 11
#ifndef DefaultCCOptions
# if defined(UseInstalled)
   /* conform to OpenBSD's habits */
#  define DefaultCCOptions	$(COPTS)
# else
#  ifdef  PpcArchitecture
#    define DefaultCCOptions	-ansi -fsigned-char GccWarningOptions
#  else
#    define DefaultCCOptions 	-ansi GccWarningOptions
#  endif
# endif
d208 1
a211 5
#ifndef ExtraLibraries
#define ExtraLibraries		/**/
#endif
#define UseGnuMalloc		NO

a263 3
/* Don't build HTML manual pages */
#define BuildRman		NO
#define BuildHtmlManPages	NO
d390 1
a393 1

d406 4
d417 5
a421 1
#  define XF86Server		YES
a428 1
#   define XF86OSCardDrivers	wsfb
d435 1
d447 17
d466 1
a466 1
 * Definitions for the i386 architecture		
d470 5
a474 1
#define HasWeakSymbols			YES
d499 1
d515 1
a515 5
# ifndef DoLoadableServer
#  define DoLoadableServer	YES
# endif

#define JoystickSupport	NO
d536 5
a585 25
/*
 * Definitions for the vax architecture
 */
#ifdef VaxArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO
# define UseRgb			YES

# define ServerExtraDefines	-DXFree86Server
# define UnalignedReferencesAllowed YES
# define HasSharedLibraries	NO
# define HasDlopen		NO

# define BuildGlxExt		NO
# define BuildGLXLibrary	NO

#include <xfree86.cf>

#endif /* VaxArchitecture */
a607 17
/*
 * Definitions for the hppa architecture
 */
#ifdef HPArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
# define InstallFontAliases	InstallFontAliasesNoComment
# define HasSharedLibraries     NO
# define HasDlopen              NO
# define BuildGlxExt            NO
# define BuildGLXLibrary        NO

#include <xfree86.cf>

#endif /* HPArchitecture */
d653 1
a653 1
				-DXFree86Server -DINCLUDE_CG2_HEADER
d731 1
a731 1
#  if XFree86Devel
d769 1
a769 1
# if KDriveXServer
d824 22
d848 1
d874 1
a874 2

# define XkbServerDefines  -DXKB_ALWAYS_USES_SOFT_REPEAT
d885 1
a885 1
#     define UsbMouseSupport		YES
d893 26
d931 1
a931 1
#  define ServerOSDefines 		/**/
d939 1
a939 1
#  define ServerExtraSysLibs
d943 1
a943 1
#define HasWeakSymbols			NO
d950 7
a956 7
# define HasPosixThreads		YES
# define ThreadedX			YES
# define SystemMTDefines		-D_REENTRANT
# define BuildThreadStubLibrary		YES 
# define NeedUIThrStubs			YES 
# define ThreadsCompileFlag		-pthread
# define ThreadsLibraries		-pthread
d960 5
a964 1
#define HasThreadSafeAPI		NO
d970 1
a970 1

d972 1
a972 1
#define DoLoadableServer		NO
a986 4
/*
 * Standard extensions client side libs that should be built
 * even if the server doesn't support this extension
 */
d990 1
d1039 1
a1039 1
    && UseElfFormat 
@


1.2
log
@Merge over MirBSD stuff
remove kerberos programmes
comment out wm2 for now (resolve c++ or rm it)
remove xc-mit because the arch is unsupported

TODO: add evilwm
@
text
@d1 1
a2 4




d21 1
@


1.1
log
@Initial revision
@
text
@d22 6
a27 1
#define XFree86CustomVersion	"for OpenBSD"
d72 2
a73 3
#ifndef HasKrbIV
#define HasKrbIV		YES
#endif
@


1.1.9.1
log
@OpenBSD just has imported exactly this tree into their vendor branch,
called the same tag, in XF4/xc
This is, apparently, the last XFree86 snapshot before the licence change
(ie, addition of the advertising clause)

Since the developers don't see any problems with that, and we would like
to integrate improvements done by the remaining one or two (or so) XFree86
developers (j/k), this prepares enabling us to update X-Window in the future.
@
text
@d1 6
a6 1
XCOMM platform:  $XFree86: xc/config/cf/OpenBSD.cf,v 3.101 2004/01/09 00:35:00 dawes Exp $
d22 2
d29 4
a35 1
#define LibDir			/usr/local/lib/X11
a45 1
#define BuildHtmlManPages	NO
a55 3
#if OSMajorVersion == 2 && OSMinorVersion >= 4 || OSMajorVersion >= 3
# define HasStrlcat		YES
#endif
d61 1
d68 1
a68 9
# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 3
#  define HasKrbIV		YES
#  if OSMajorVersion == 2 && OSMinorVersion <= 8
#   define KrbIVLibraries	-lkrb -lkafs -ldes
#  endif
# else
   /* Kerberos IV was removed after OpenBSD 3.3 */
#  define HasKrbIV		NO
# endif
a70 4
#define HasShadowPasswd		NO
#define IPv6SocketsAlsoIPv4	NO

#define HasArc4Random		YES
a80 1
#define VarLibDir		VarDbDirectory
d84 4
a116 5
/* OpenBSD 3.0 and later has getpeereid() */
#if OSMajorVersion >= 3
# define HasGetpeereid		YES
#endif

d126 1
a126 1
#  if OSMajorVersion == 3 && OSMinorVersion > 0 || OSMajorVersion > 3
a142 6
#ifndef HasGccStackProtector	
#define HasGccStackProtector	NO
#endif

#define UseGnuMalloc		NO

a150 1
#ifndef CppCmd
a151 1
#endif
d157 2
a158 17
#ifndef CcCmd
#define CcCmd 			cc
#endif
#ifndef AsCmd
#define AsCmd			cc -c -x assembler
#endif
#ifndef DefaultCCOptions
#if defined(UseInstalled)
#define DefaultCCOptions 	/**/
#else
#  ifdef  PpcArchitecture
#    define DefaultCCOptions	-ansi -fsigned-char GccWarningOptions
#  else
#    define DefaultCCOptions 	-ansi GccWarningOptions
#  endif
#endif
#endif
d173 11
a183 6
/*
 * Increment shared libraries major numbers if using Gcc Stack Protector
 * (This introduces an ABI change)
 */
#ifndef OverrideShlibRevs
# define OverrideShlibRevs     HasGccStackProtector
a185 1

d189 7
d210 1
d213 1
d228 11
d246 3
a374 1

d378 1
a390 4
# ifdef XnestServer
#  undef XnestServer
# endif
# define XnestServer	NO
d398 1
a398 5
#  if OSMajorVersion == 3 && OSMinorVersion >= 2 || OSMajorVersion > 3
#    define XF86Server		YES
#  else
#    define XF86Server		NO
#  endif
d406 2
a407 2
#   define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
d426 1
a426 1
 * Definitions for the i386 architecture
d430 1
a430 18
# ifndef DoLoadableServer
#  define DoLoadableServer	YES
# endif

/* Direct rendering (OpenBSD 3.3 and up). */ 
# if OSMajorVersion > 3 || (OSMajorVersion == 3 && OSMinorVersion > 2)
#  ifndef BuildXF86DRI
#   define BuildXF86DRI			NO
#  endif 
#  ifndef BuildXF86DRM
#   define BuildXF86DRM			NO
#  endif 
#  ifndef BuildXF86OldDRMCompat
#   define BuildXF86OldDRMCompat	NO
#  endif
# endif 

#define HasWeakSymbols		YES
a454 1

d458 1
a458 1
#     define DefaultGcc2i386Opt	-O2 GccAliasingArgs
d470 4
d479 1
a479 1
#   define UsbMouseSupport		YES
d483 6
d495 3
a497 8
/* No MMX support in OpenBSD/a.out gas */
# ifndef HasMMXSupport
#   define HasMMXSupport	UseElfFormat
# endif

/* for DRI */
# ifndef HasX86Support
#  define HasX86Support		UseElfFormat
a518 1
# define HasWeakSymbols		NO
d540 25
d579 1
d587 17
d676 2
a677 2
# define SharedXtReqs -L$(BUILDLIBDIR) $(XONLYLIB) $(SMLIB) $(ICELIB)
# define SharedXmuReqs $(LDPRELIB) $(XTOOLONLYLIB) $(XLIB)
d727 1
a727 1
#  if defined(XFree86Devel) && XFree86Devel
d742 1
a742 2
#   define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
d747 1
d765 5
a769 1
# include <xfree86.cf>
d778 4
a781 2
# define BuildXF86MiscExt	NO
# define BuildMITMiscExt	NO
d783 1
a783 3
# if OSMajorVersion > 3 || OSMajorVersion == 3 && OSMinorVersion >= 2
#  define HasWeakSymbols	YES
#endif 
a784 5
# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 2
#  define ServerOSDefines 	-DDDXOSINIT
#  define ServerExtraDefines	-DAVOID_GLYPHBLT -DPIXPRIV  -DXFree86Server \
				DebugDefines -DINCLUDE_CG2_HEADER \
				-DX_BYTE_ORDER=$(X_BYTE_ORDER)
d794 7
a800 3
# else 
#  ifndef Xsun24Server
#   define Xsun24Server		NO
d802 5
a806 2
#  ifndef XsunServer
#   define XsunServer		NO
d808 11
a818 4
#  ifndef XsunMonoServer
#   define XsunMonoServer	NO
#  endif
# endif
d824 1
d826 1
d846 3
a848 3
# define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT
d854 1
d856 5
a866 27
/*
 * Definitions for the vax architecture
 */
#ifdef VaxArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif

/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO
# define UseRgb			YES

# define ServerExtraDefines	-DXFree86Server
# define UnalignedReferencesAllowed YES
# define HasSharedLibraries	NO
# define HasDlopen		NO

# define BuildGlxExt		NO
# define BuildGLXLibrary	NO

# include <xfree86.cf>

#endif /* VaxArchitecture */
 
d879 1
a879 1
#  define ServerOSDefines 	/**/
d886 4
d891 1
a891 1
# define HasWeakSymbols			NO
d898 7
a904 12
#  define HasPosixThreads		YES
#  define ThreadedX			YES
#  define SystemMTDefines		/**/
#  define BuildThreadStubLibrary	YES
#  define NeedUIThrStubs		YES
#  define ThreadsCompileFlag		-pthread
#  define ThreadsLibraries		-pthread
#  define SharedX11Reqs			$(LDPRELIBS) $(XTHRSTUBLIB)
#  define SharedXtReqs			$(LDPRELIB) $(XONLYLIB) $(SMLIB) \
					$(ICELIB) $(XTHRSTUBLIB)
#else
#  define ThreadedX			NO
a906 1

d910 3
a912 2
#ifndef ExtraLibraries
# define ExtraLibraries		/**/
d916 1
a916 1
#define DoLoadableServer	NO
d931 4
d938 11
d968 4
d986 1
a986 1
    && UseElfFormat
a991 4

#  if !defined(GccWarningOptions)
#    define GccWarningOptions 		-Wall -Wpointer-arith
#  endif
@


1.1.1.1
log
@Import OpenBSD 3.3 XF4 repository from CTM 3132 the first time
This finalizes starting an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright © 1968-2003  The authors of And contributors to UNIX®, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@The X-Windowing System

Import XFree86 4.3 from OpenBSD by CTM, in the hope it's stable
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.120 2003/04/03 21:13:21 matthieu Exp $
d6 1
a6 1
XCOMM platform:  $XFree86: xc/config/cf/OpenBSD.cf,v 3.79 2003/01/12 17:03:23 herrb Exp $
d29 4
a35 1
#define LibDir			/usr/local/lib/X11
a70 1
#define HasShadowPasswd		NO
a80 1
#define VarLibDir		VarDbDirectory
a116 5
/* OpenBSD 3.0 and later has getpeereid() */
#if OSMajorVersion >= 3
# define HasGetpeereid		YES
#endif

d126 1
a126 1
#  if OSMajorVersion == 3 && OSMinorVersion > 0 || OSMajorVersion > 3
a142 6
#ifndef HasGccStackProtector	
#define HasGccStackProtector	NO
#endif

#define UseGnuMalloc		NO

a150 1
#ifndef CppCmd
a151 1
#endif
d157 2
a158 15
#ifndef CcCmd
#define CcCmd 			cc
#endif
#ifndef DefaultCCOptions
#if defined(UseInstalled)
   /* conform to OpenBSD's habits */
#  define DefaultCCOptions	$(COPTS)
#else
#  ifdef  PpcArchitecture
#    define DefaultCCOptions	-ansi -fsigned-char GccWarningOptions
#  else
#    define DefaultCCOptions 	-ansi GccWarningOptions
#  endif
#endif
#endif
d173 11
a183 6
/*
 * Increment shared libraries major numbers if using Gcc Stack Protector
 * (This introduces an ABI change)
 */
#ifndef OverrideShlibRevs
# define OverrideShlibRevs     HasGccStackProtector
a185 1

d189 5
d246 3
a374 1

d378 1
a390 4
# ifdef XnestServer
#  undef XnestServer
# endif
# define XnestServer	NO
d398 1
a398 5
#  if OSMajorVersion == 3 && OSMinorVersion >= 2 || OSMajorVersion > 3
#    define XF86Server		YES
#  else
#    define XF86Server		NO
#  endif
d406 1
a412 1
#   define XF86OSCardDrivers	wsfb
a423 17
/*
 * Definitions for the hppa architecture
 */
#ifdef HPArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
# define InstallFontAliases	InstallFontAliasesNoComment
# define HasSharedLibraries     NO
# define HasDlopen              NO
# define BuildGlxExt            NO
# define BuildGLXLibrary        NO

#include <xfree86.cf>

#endif /* HPArchitecture */
d426 1
a426 1
 * Definitions for the i386 architecture
d430 1
a430 5
# ifndef DoLoadableServer
#  define DoLoadableServer	YES
# endif

# define HasWeakSymbols		YES
a454 1

d470 5
a474 1
# define JoystickSupport	NO
a494 5
/* No MMX support in OpenBSD/a.out gas */
# if !UseElfFormat
#   define HasMMXSupport	NO
# endif

d540 25
d587 17
d649 1
a649 1
			       -DXFree86Server -DINCLUDE_CG2_HEADER
d727 1
a727 1
#  if defined(XFree86Devel) && XFree86Devel
d765 1
a765 1
# if defined(KDriveXServer) && KDriveXServer
a819 22
# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 2
#  ifndef Xsun24Server
#   define Xsun24Server		YES
#  endif
#  ifndef XsunServer
#   define XsunServer		YES
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	YES
#  endif
# else 
#  ifndef Xsun24Server
#   define Xsun24Server		NO
#  endif
#  ifndef XsunServer
#   define XsunServer		NO
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	NO
#  endif
#endif

a821 1

d847 2
a848 1
# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT
d859 1
a859 1
#     define UsbMouseSupport	YES
a866 26
/*
 * Definitions for the vax architecture
 */
#ifdef VaxArchitecture

# ifndef BuildServer
#  define BuildServer		NO
# endif
/* For the X11R5 server */
# define CompressAllFonts	NO
# define InstallFontAliases	InstallFontAliasesNoComment
# define UseRgbTxt		NO
# define UseRgb			YES

# define ServerExtraDefines	-DXFree86Server
# define UnalignedReferencesAllowed YES
# define HasSharedLibraries	NO
# define HasDlopen		NO

# define BuildGlxExt		NO
# define BuildGLXLibrary	NO

#include <xfree86.cf>

#endif /* VaxArchitecture */
 
d879 1
a879 1
#  define ServerOSDefines 	/**/
d887 1
a887 1
#  define ServerExtraSysLibs	/**/
d891 1
a891 1
# define HasWeakSymbols		NO
d898 7
a904 7
#  define HasPosixThreads		YES
#  define ThreadedX			YES
#  define SystemMTDefines		-D_REENTRANT
#  define BuildThreadStubLibrary	YES 
#  define NeedUIThrStubs		YES 
#  define ThreadsCompileFlag		-pthread
#  define ThreadsLibraries		-pthread
d908 1
a908 5
#define HasThreadSafeAPI	NO

#ifndef ExtraLibraries
# define ExtraLibraries		/**/
#endif
d914 1
a914 1
 
d916 1
a916 1
#define DoLoadableServer	NO
d931 4
a937 1

d986 1
a986 1
    && UseElfFormat
@


1.1.1.3
log
@Import OpenBSD XF4 tree (DRI/DRM userland) from CTM
with new branch and tag spec (openbsd:ctmx-0???)

Can't import src/ports because Wim seems to be on
holidays, and there are no new deltas.
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.122 2003/05/14 09:18:04 mho Exp $
d65 1
a65 1
#define HasKrbIV		NO
d83 4
a496 12
/* Direct rendering (OpenBSD 3.3 and up). */ 
# if OSMajorVersion > 3 || (OSMajorVersion == 3 && OSMinorVersion > 2)
#  ifndef BuildXF86DRI
#   define BuildXF86DRI			NO
#  endif 
#  ifndef BuildXF86DRM
#   define BuildXF86DRM			NO
#  endif 
#  ifndef BuildXF86OldDRMCompat
#   define BuildXF86OldDRMCompat	NO
#  endif
# endif 
d535 2
a536 7
# ifndef HasMMXSupport
#   define HasMMXSupport	UseElfFormat
# endif

/* for DRI */
# ifndef HasX86Support
#  define HasX86Support		UseElfFormat
a954 2
#else
#  define ThreadedX			NO
@


1.1.1.4
log
@A bunch of improvements and fixes from the one-man OpenBSD XF4/X11 team,
Matthieu Herrb :)
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.127 2004/01/21 15:26:04 todd Exp $
d58 1
d446 4
a449 2
# define XF86Server		YES
# define HasWeakSymbols		YES
d455 1
a455 16
# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT

# if XF86Server
#   ifndef DoLoadableServer
#     define DoLoadableServer	NO
#   endif
#   define XF86OSCardDrivers	wsfb
#   define XFree86ConsoleDefines -DWSCONS_SUPPORT

    /* Support for USB Mices */
#   ifndef UsbMouseSupport
#     define UsbMouseSupport	YES
#   endif
# endif

# include <xfree86.cf>
a679 20
/*
 * Definitions for the Mc88000Architecture architecture (currently mvme88k)
 */
#ifdef Mc88000Architecture

# define HasSharedLibraries	NO
# define HasDlopen		NO

# define BuildGlxExt		NO
# define BuildGLXLibrary	YES 

# ifndef BuildServer
#  define BuildServer		NO
# endif

# define ServerExtraDefines	-DXFree86Server

# include <xfree86.cf>

#endif /* Mc88000Architecture */
@


1.1.1.5
log
@That's what OpenBSD will, probably, ship as XF4 in 3.5
their last sync against XFree86 4.3-current has been
imported into our vendor branch, too
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.133 2004/02/28 13:56:40 matthieu Exp $
d6 1
a6 1
XCOMM platform:  $XFree86: xc/config/cf/OpenBSD.cf,v 3.101 2004/01/09 00:35:00 dawes Exp $
a42 1
#define BuildHtmlManPages	NO
a52 3
#if OSMajorVersion == 2 && OSMinorVersion >= 4 || OSMajorVersion >= 3
# define HasStrlcat		YES
#endif
d64 1
a64 9
# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 3
#  define HasKrbIV		YES
#  if OSMajorVersion == 2 && OSMinorVersion <= 8
#   define KrbIVLibraries	-lkrb -lkafs -ldes
#  endif
# else
   /* Kerberos IV was removed after OpenBSD 3.3 */
#  define HasKrbIV		NO
# endif
a67 3
#define IPv6SocketsAlsoIPv4	NO

#define HasArc4Random		YES
a166 3
#ifndef AsCmd
#define AsCmd			cc -c -x assembler
#endif
d173 1
a173 1
#    define DefaultCCOptions	-fsigned-char GccWarningOptions
d175 1
a175 1
#    define DefaultCCOptions 	GccWarningOptions
d201 2
d205 2
d422 1
a422 2
#   define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
a440 49
 * Definitions for the AMD64 architecture
 */
#ifdef AMD64Architecture

# define HasWeakSymbols		YES
# define HasSharedLibraries	YES
# define HasDlopen		YES

# define XF86Server		YES

# ifndef DoLoadableServer
#  define DoLoadableServer	NO
# endif

# ifndef HasNetBSDApertureDriver
#  define HasNetBSDApertureDriver	YES
# endif

# define HasAgpGart		YES

# define ServerOSDefines	XFree86ServerOSDefines -DDDXTIME

# define ServerExtraSysLibs	-lamd64
# define ServerExtraDefines	GccGasOption -D_XSERVER64 XFree86ServerDefines

# ifndef XFree86ConsoleDefines
#  define XFree86ConsoleDefines	-DWSCONS_SUPPORT -DPCVT_SUPPORT
# endif

# ifndef UsbMouseSupport
#  define UsbMouseSupport	YES
# endif

# ifndef OSXInputDrivers
#   define OSXInputDrivers	usbtablet
# endif

# ifndef HasMMXSupport
#   define HasMMXSupport	YES
# endif

# ifndef HasX86Support
#  define HasX86Support		YES
# endif
# include <xfree86.cf>

#endif /* AMD64Architecture */

/*
d467 1
a467 1
#include <xfree86.cf>
a479 13
/* Direct rendering (OpenBSD 3.3 and up). */ 
# if OSMajorVersion > 3 || (OSMajorVersion == 3 && OSMinorVersion > 2)
#  ifndef BuildXF86DRI
#   define BuildXF86DRI			NO
#  endif 
#  ifndef BuildXF86DRM
#   define BuildXF86DRM			NO
#  endif 
#  ifndef BuildXF86OldDRMCompat
#   define BuildXF86OldDRMCompat	NO
#  endif
# endif 

d505 12
d521 1
a521 1
#     define DefaultGcc2i386Opt	-O2 GccAliasingArgs
d564 5
d676 1
a676 1
				-DXFree86Server -DINCLUDE_CG2_HEADER
d697 2
a698 2
# define HasSharedLibraries     NO
# define HasDlopen              NO
d701 2
a702 2
# define BuildGLXLibrary	YES
 
a707 1
# define OptimizedCDebugFlags	-O1
d723 2
a724 2
# define SharedXtReqs -L$(BUILDLIBDIR) $(XONLYLIB) $(SMLIB) $(ICELIB)
# define SharedXmuReqs $(LDPRELIB) $(XTOOLONLYLIB) $(XLIB)
d789 1
a789 2
#   define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
d812 5
a816 1
# include <xfree86.cf>
d825 1
a825 2
# define BuildXF86MiscExt	NO
# define BuildMITMiscExt	NO
d827 2
a828 13
# if OSMajorVersion > 3 || OSMajorVersion == 3 && OSMinorVersion >= 2
#  define HasWeakSymbols	YES
#endif 

# if OSMajorVersion == 2 || OSMajorVersion == 3 && OSMinorVersion < 2
#  define ServerOSDefines 	-DDDXOSINIT
#  define ServerExtraDefines	-DAVOID_GLYPHBLT -DPIXPRIV  -DXFree86Server \
				DebugDefines -DINCLUDE_CG2_HEADER \
				-DX_BYTE_ORDER=$(X_BYTE_ORDER)
#  define XF86Server		NO
# else
#  define XF86Server		YES
# endif 
d841 5
a851 9
#  ifndef Xsun24Server
#   define Xsun24Server		NO
#  endif
#  ifndef XsunServer
#   define XsunServer		NO
#  endif
#  ifndef XsunMonoServer
#   define XsunMonoServer	NO
#  endif
d862 26
a887 1
# endif
d891 1
d895 1
a895 1
#  define BuildXInputExt	NO
d916 1
a916 2
# define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
a943 1

d958 1
a958 1
# include <xfree86.cf>
a968 4
#ifndef StandardDefines
# define StandardDefines	-DCSRG_BASED 
#endif

d996 2
a997 2
#  define BuildThreadStubLibrary	YES
#  define NeedUIThrStubs		YES
a1003 1

d1005 1
a1005 1
#define HasThreadSafeAPI		NO
@


1.1.1.6
log
@Import OpenBSD X-Window subsystem (based upon XFree86 4.4RC2)
into vendor branch
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.134 2004/04/06 18:26:35 miod Exp $
d768 1
@


1.1.1.7
log
@OpenBSD updated X-Window plus fontconfig 2.2.2.
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.136 2004/06/16 16:03:55 todd Exp $
d190 1
a190 1
#  if defined(PpcArchitecture) || defined(Arm32Architecture)
a220 5
#ifdef Arm32Architecture
#undef StandardDefines
#define StandardDefines	-DCSRG_BASED -D__arm32__
#endif /* */

d511 2
a515 10
# if OSMajorVersion < 3 || (OSMajorVersion == 3 && OSMinorVersion < 5)
#  define HasSharedLibraries	NO
#  define SharedLibXThrStub	NO
#  define HasDlopen		NO
# else
#  define HasSharedLibraries	YES
#  define SharedLibXThrStub	YES
#  define HasDlopen		YES
# endif

a819 56
/*
 * Definitions for the ARM architecture 
 */
#ifdef Arm32Architecture

# define XkbServerDefines	-DXKB_ALWAYS_USES_SOFT_REPEAT
# ifndef XFree86ConsoleDefines
#   define XFree86ConsoleDefines	-DWSCONS_SUPPORT
# endif

# if OSMajorVersion == 3 && OSMinorVersion > 1 || OSMajorVersion > 3
#  define HasWeakSymbols	YES
# endif
# ifndef GccWarningOptions
#  if defined(XFree86Devel) && XFree86Devel
#   define GccWarningOptions -Wall -Wpointer-arith -Wstrict-prototypes \
			  -Wmissing-prototypes -Wmissing-declarations \
			  -Wnested-externs
#  else
#   define GccWarningOptions -Wall -Wpointer-arith
#  endif
# endif

# ifndef XF86Server
#   define XF86Server		YES
# endif

/* Definitions for building the X server */
# if XF86Server
#   define ServerOSDefines	XFree86ServerOSDefines \
				-DDDXTIME -DDDXOSINIT
#   define ServerExtraDefines	GccGasOption XFree86ServerDefines
#   ifndef DoLoadableServer
#     define DoLoadableServer	YES
#   endif
#   define XF86OSCardDrivers	wsfb
#   ifndef XF86CardDrivers
#    define XF86CardDrivers	ati mga glint s3virge sis savage\
				trident chips tdfx \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
#   endif
#   ifndef DevelDrivers 
#    define DevelDrivers nv
#   endif

    /* Support for USB Mices */
#   ifndef UsbMouseSupport
#     define UsbMouseSupport		YES
#   endif

# endif /* XF86Server */

# include <xfree86.cf>

#endif /* Arm32Architecture */
@


1.1.1.8
log
@OpenBSD's XFree86 based module, latest fixes etc.
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.139 2004/09/25 08:20:19 matthieu Exp $
d519 1
a519 1
# if OSMajorVersion < 3 || (OSMajorVersion == 3 && OSMinorVersion <= 5)
d787 1
a787 1
 * Definitions for the mips architectures (currently sgi)
d790 9
a798 1
/* Nothing there for now... */
a800 1
#ifdef SGIArchitecture
d802 14
a815 1
# define HasWeakSymbols		YES
d817 4
a820 1
# define DependFlags		-D__MIPSEB__
d822 1
d826 4
d831 1
a831 3
# include <xfree86.cf>

#endif /* SGIArchitecture */
d922 1
a922 1
#     define DoLoadableServer	NO
@


1.1.1.9
log
@sync with openbsd, for bugfixes and build optimisation
@
text
@d1 1
a1 1
XCOMM platform:	$OpenBSD: OpenBSD.cf,v 1.140 2004/10/10 14:47:28 matthieu Exp $
d136 11
a146 7
/* OpenBSD 3.1 and later have libusbhid */
#ifndef HasLibUsbHid
# if OSMajorVersion == 3 && OSMinorVersion > 0 || OSMajorVersion > 3
#  define HasLibUsbHid		YES
#  define UsbHidLib		-lusbhid
# else
#  define HasLibUsbHid		NO
d622 1
a622 1
#  if HasLibUsbHid
@


