head	1.4;
access;
symbols
	tg-mergetmp-2:1.4
	cvs-200410241530:1.1.1.9
	cvs-200410012000:1.1.1.8
	cvs-200407141120:1.1.1.8
	cvs-200406231010:1.1.1.8
	MIRBSD_7quater:1.1.1.6
	cvs-200405271510:1.1.1.8
	XFree86_4_4_0:1.1.9.1
	cvs-200403021700:1.1.1.7
	XFREE86_20040213:1.1.9.1
	xc:1.1.9
	cvs-200401291925:1.1.1.6
	MIRBSD_7_ALPHA:1.1.1.6.0.4
	MIRBSD_7:1.1.1.6.0.2
	MIRBSD_7ter:1.1.1.6
	cvs-20011091815:1.1.1.6
	cvs-200309162130:1.1.1.6
	cvs-200308302005:1.1.1.6
	ctmx-0388:1.1.1.5
	cvs-200307072234:1.1.1.5
	ctmx-0387:1.1.1.4
	ctmx-0384:1.1.1.4
	MIRBSD_5:1.1.1.4
	ctmx-0375:1.1.1.4
	ctmx-0373:1.1.1.4
	ctm-0371:1.1.1.3
	ctm-0370:1.1.1.3
	MIRBSD_4:1.1.1.2
	ctm-0363:1.1.1.2
	ctm-0359:1.1.1.2
	ctm-0349:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2004.10.24.16.59.50;	author tg;	state Exp;
branches;
next	1.3;

1.3
date	2004.05.28.13.44.31;	author tg;	state Stab;
branches;
next	1.2;

1.2
date	2003.04.24.07.57.24;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.22.19.59.29;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.9.1;
next	;

1.1.1.1
date	2003.03.22.19.59.29;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.04.08.18.17.22;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.05.17.06.07;	author tg;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.05.16.16.42.14;	author tg;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.07.07.22.35.35;	author tg;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.08.30.21.17.04;	author tg;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.03.02.17.20.58;	author tg;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.05.27.15.59.41;	author tg;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.10.24.15.47.34;	author tg;	state Exp;
branches;
next	;

1.1.9.1
date	2004.02.14.19.01.45;	author tg;	state Exp;
branches;
next	;


desc
@@


1.4
log
@merge
@
text
@XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.467 2004/01/28 01:47:26 dawes Exp $
/*
 * This configuration file contains all of the configuration
 * information for the XFree86 based X Servers.
 *
 * Most of these settings can be overridden in a vendor.cf or the
 * BeforeVendor part of the site.def file.
 */
XCOMM $Xorg: xfree86.cf,v 1.4 2000/08/17 19:41:49 cpqbld Exp $


/* Get and set version information. */

#include "version.def"
#include "date.def"
/*
 * As of the development trunk after 4.0.2, XFree86 versions are
 * M.m.P.s, and XFree86Version is:
 *
 *    M * 10000000 + m * 100000 + P * 1000 + s
 *
 * See xc/programs/Xserver/hw/xfree86/doc/Versions for further details.
 *
 * From 3.9.15 to 4.0.x, XFree86 release versions are X.Y.Z, and
 * XFree86Version is:
 *
 *    X * 1000 + Y * 100 + Z
 *
 * For the 3.3.x branch, the versions are X.Y.Z.W, with XFree86Version
 * calculated as:
 *
 *    X * 1000 + Y * 100 + Z * 10 + W
 *
 */
#ifndef XFree86Version
# ifdef XF86_VERSION_CURRENT
#  define XFree86Version	XF86_VERSION_CURRENT
# else	/* Must be defined for bootstrapping purposes */
#  define XFree86Version	0
# endif
#endif

#if !defined(XFree86VersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
#define XFree86VersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH | sed 's/ /./g'`
#else
#define XFree86VersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH XF86_VERSION_SNAP | sed 's/ /./g'`
# endif
#endif

#if !defined(XFree86ManVersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
#else
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH XF86_VERSION_SNAP | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
# endif
#endif

#if !defined(XFree86DateString) && defined(XF86_DATE)
# define XFree86DateString XF86_DATE
#endif

#ifndef BuildDateCmd
# define BuildDateCmd	date +%Y%m%d
#endif

#if !defined(BuildDate)
# define BuildDate 	`BuildDateCmd`
#endif

#ifndef ChangelogDateCmd
# define ChangelogDateCmd if tail $(CHANGELOGFILE) | \			@@@@\
	fgrep '$$XFree86:' >/dev/null 2>&1; then \			@@@@\
	  tail $(CHANGELOGFILE) | fgrep '$$XFree86:' | \		@@@@\
	  sed s,'.* \([0-9][0-9]*\)/\([0-9][0-9]*\)/\([0-9][0-9]*\).*,\1\2\3,'; \ @@@@\
	else echo 0; fi
#endif

#if !defined(ChangelogDate)
# define ChangelogDate	`ChangelogDateCmd`
#endif

#ifndef XVendorString
# define XVendorString	"The XFree86 Project, Inc"
#endif

#ifndef XVendorRelease
# define XVendorRelease	XFree86Version
#endif

#ifndef XVendorManVersionString
#define XVendorManVersionString XFree86ManVersionString
#endif

#ifndef XVendorManNameString
#define XVendorManNameString XFree86
#endif

/*
 * This enables some settings for developers.
 */

#ifndef XFree86Devel
# if !defined(PatheticCpp) || !PatheticCpp
#  if (XFree86Version % 1000)
#   define XFree86Devel		YES
#  else
#   define XFree86Devel		NO
#  endif
# else
#  define XFree86Devel		NO	/* Assume the worst */
# endif
#endif

#ifndef BuildDebug
# define BuildDebug 		YES
#endif

/*
 * settings for the config file parser
 */

#ifndef XConfigFile
#define XConfigFile		XF86Config
#endif
#ifndef XConfigDir
#define XConfigDir		EtcX11Directory
#endif
#ifndef XLogFile
#define XLogFile		XFree86
#endif

/*
 * BuildXFree86ConfigTools:
 *
 * Turning this on allows the XFree86 config tools to build when
 * BuildServersOnly is YES.  This requires more than the servonly CVS
 * module.  This cannot be used to disable building the config tools with
 * a full build.
 */
#ifndef BuildXFree86ConfigTools
#ifdef BuildServersOnly
#define BuildXFree86ConfigTools		!BuildServersOnly
#else
#define BuildXFree86ConfigTools		YES
#endif
#endif

#ifndef BuildLibrariesForConfigTools
#define BuildLibrariesForConfigTools	BuildXFree86ConfigTools
#endif

#if BuildXFree86ConfigTools && BuildLibrariesForConfigTools
#define BuildLibraries		YES
#define BuildXF86MiscLibrary	YES
#define BuildXF86VidModeLibrary	YES
#define BuildXKBlib		YES
#define BuildXKBfilelib		YES
#define BuildXKBuilib		YES
#endif

/*
 * When this is set, modules are always built separately from the libraries
 * that statically link into an Xserver.  This is for platforms where the
 * module and native object formats are different (e.g., OS/2).
 */
#ifndef BuildModuleInSubdir
#define BuildModuleInSubdir	NO
#endif

#ifndef MakeDllModules
#define MakeDllModules		NO
#endif
#ifndef DoLoadableServer
#define DoLoadableServer	NO
#endif 

/*
 * Default settings for which X Servers to build.
 */

/* OS.cf files may set this for OS-specific input drivers */
#ifndef OSXInputDrivers
#define OSXInputDrivers /**/
#endif

/* This may be set in host.def for 3rd party input drivers */
#ifndef ExtraXInputDrivers
#define ExtraXInputDrivers /**/
#endif

/* XInput drivers */
#ifndef XInputDrivers
#define XInputDrivers		mouse keyboard acecad calcomp citron \
				digitaledge dmc dynapro elographics tek4957 \
				microtouch mutouch penmount spaceorb summa \
				wacom void magellan /* magictouch */ hyperpen \
				jamstudio fpit \
				palmax OSXInputDrivers ExtraXInputDrivers
#endif

/* <linux/input.h> support mainly for USB support */
#ifndef HasLinuxInput
# define HasLinuxInput NO
#endif

/* OS.cf files may set this for OS-specific drivers */
#ifndef XF86OSCardDrivers
#define XF86OSCardDrivers /**/
#endif

/* This may be set in host.def for 3rd party drivers */
#ifndef XF86ExtraCardDrivers
#define XF86ExtraCardDrivers /**/
#endif

/* OS.cf files may set this for OS-specific drivers */
#ifndef HasAgpGart
#define HasAgpGart NO
#endif

/* The glide driver only works for the loadable server at the moment */
#ifndef HasGlide2
#define HasGlide2 NO
#endif
#ifndef HasGlide3
#define HasGlide3 NO
#endif
#if HasGlide2 && DoLoadableServer
#define GlideDriver glide
#else
#define GlideDriver /**/
#endif

/*
 * There are three parameters that determine where and how the Matrox HAL
 * library is used:
 *
 *   HaveMatroxHal  -- You have the HALlib.a binary library installed
 *                     in xfree86/drivers/mga/HALlib, and you want it to
 *                     be used.
 *                     Default: NO
 *
 *   BuildMatroxHal -- You have the source for the HALlib library (installed
 *                     in xfree86/drivers/mga/hallib), and want to build and
 *                     use it.
 *                     Default: NO
 *
 *   UseMatroxHal   -- You want to build support for loading/using the HAL
 *                     library into the mga driver.  For module server builds
 *                     you don't need to have the HALlib library to do this.
 *                     but you want to build support for loading it and using
 *                     it into the mga driver module.
 *                     Default: YES for loadable server build
 *                              (HaveMatroxHal || BuildMatroxHal) for static
 */

#ifndef HaveMatroxHal
#define HaveMatroxHal NO
#endif

#ifndef BuildMatroxHal
#define BuildMatroxHal NO
#endif

#ifndef UseMatroxHal
#if DoLoadableServer
#define UseMatroxHal YES
#else
#define UseMatroxHal (HaveMatroxHal || BuildMatroxHal)
#endif
#endif

/*
 * For Intel platforms, the default is to build all modules which
 * are supported on this platform.
 */
#if defined(i386Architecture) || defined(ia64Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

/*
 * Amiga framebuffer module.
 * This is mostly for build testing, but the vesa driver references it.
 */
# ifndef XF86AFB
#  define XF86AFB		YES
# endif

# define AgpGartDrivers	/**/

/*
 * Drivers under development, but not ready for binary releases, or
 * drivers included on this platform only for build testing.
 */
# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		imstt newport
#  else
#   define DevelDrivers		/**/
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  /* Don't build the nsc driver on IA64 */
#  ifndef ia64Architecture
#   define NscDriver		nsc
#  else
#   define NscDriver		/**/
#  endif
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic i740 tdfx savage \
				cirrus vmware tseng trident chips apm \
				GlideDriver i128 NscDriver \
				ati i810 AgpGartDrivers DevelDrivers ark \
				cyrix siliconmotion via \
				fbdev vesa vga \
				dummy XF86OSCardDrivers XF86ExtraCardDrivers
# endif

/*
 * DRI drivers under development, or drivers included on this platform
 * only for build testing.
 */
# ifndef DevelDRIDrivers
#  if XFree86Devel
#   define DevelDRIDrivers	ffb
#  else
#   define DevelDRIDrivers	/**/
#  endif
# endif

# ifndef DriDrivers
#  define DriDrivers		gamma i810 i830 mga r128 radeon r200 \
				sis tdfx DevelDRIDrivers
# endif
#endif

#if defined(AMD64Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
# ifndef XF86AFB
#  define XF86AFB		!DoLoadableServer
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif

/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# define AgpGartDrivers	/**/

# define DevelDrivers		/**/

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic tdfx savage cirrus tseng trident \
				chips apm i128 ati ark cyrix siliconmotion \
				vga dummy fbdev vesa
# endif

/* DRI tdfx driver needs Glide, which is not available for AMD64 */
# define TdfxDriDriver		/**/

# define DevelDRIDrivers	/**/

# define DriDrivers		gamma i810 mga r128 radeon r200 \
				TdfxDriDriver DevelDRIDrivers
#endif /*AMD64Arcitecture*/

/* SPARC and UltraSPARC drivers */

#if  (defined(SparcArchitecture) || defined(Sparc64Architecture)) && \
    !defined(LynxOSArchitecture) && \
    !defined(NetBSDArchitecture) && \
    !defined(OpenBSDArchitecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32wid fb module */
# ifndef XF8_32Wid
#  define XF8_32Wid		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
   /*
    * Some of these are compiled just for the fun of it.  Undoubtedly some
    * require changes (or even removal) for things like endianness, etc.  Move
    * those known to work into the main XF86CardDrivers #define.
    */
#   define DevelDrivers		apm ark chips cirrus i128 i740 i810 imstt \
				neomagic newport nv rendition s3virge savage \
				siliconmotion tga trident vmware dummy
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure SBUS and PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	sunffb sunleo suncg6 suncg3 suncg14 suntcx \
				sunbw2 glint mga tdfx ati vesa vga fbdev \
				XF86OSCardDrivers XF86ExtraCardDrivers \
				DevelDrivers
# endif
# ifndef DriDrivers
#  define DriDrivers		ffb
# endif

#endif

/* Sparc64 Drivers */
#if defined(OpenBSDArchitecture) && defined(Sparc64Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* Amiga framebuffer module */
# ifndef XF86AFB
#  define XF86AFB		NO
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif

/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
# ifndef UseX86Emu
#  define UseX86Emu		NO
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	ati \
				DevelDrivers \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
# define TdfxDriDriver		/**/
# ifndef DriDrivers
#  define DriDrivers		/**/
# endif
#endif

/* MIPS drivers */

#ifdef MipsArchitecture
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif

/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

# ifndef XF86CardDrivers
#  define XF86CardDrivers	mga glint nv s3 s3virge sis savage \
				trident chips tdfx fbdev ati \
				DevelDrivers newport \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
#endif

/*
 * DEC Alpha drivers
 */
#ifdef AlphaArchitecture
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	mga tdfx glint s3 s3virge rendition tga ati \
				savage nv cirrus DevelDrivers siliconmotion  \
				vga XF86OSCardDrivers XF86ExtraCardDrivers
# endif
# ifndef DriDrivers
#  define DriDrivers		gamma tdfx mga r128 radeon r200 /*sis*/
# endif
#endif

/*
 * Motorola 68k and PowerPC drivers
 */
#if defined(PpcArchitecture) || defined(Mc68020Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* Amiga framebuffer module */
# ifndef XF86AFB
#  define XF86AFB		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		imstt
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
				trident chips tdfx fbdev \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
# ifndef DriDrivers
#  define DriDrivers		gamma tdfx mga r128 radeon r200
# endif
#endif

/*
 * Intel StrongARM and Hewlett-Packard PA-RISC
 */
#if defined(Arm32Architecture) || defined(HPArchitecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
				trident chips tdfx fbdev \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
# if HasGlide3
#  define TdfxDriDriver		tdfx
# else
#  define TdfxDriDriver		/**/
# endif
# ifndef DriDrivers
#  define DriDrivers		gamma tdfx mga r128 radeon r200
# endif
#endif

/* SuperH drivers */

#if defined(SuperHArchitecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef XF86CardDrivers
#  define XF86CardDrivers		fbdev XF86OSCardDrivers XF86ExtraCardDrivers
# endif
#endif


/*
 * For Mips/Arc platforms, the default is to build all modules which
 * are supported on this platform.
 */
#ifdef ArcArchitecture
# ifndef XF86Server
#  define XF86Server		YES
# endif
#endif

#if BuildDebug
# define DebugDefines -DBUILDDEBUG
#else
# define DebugDefines /**/
#endif

#ifndef XF86Server
# define XF86Server		NO
#endif
#if !XF86Server
# undef DoLoadableServer
# define DoLoadableServer	NO
#endif

/*
 * Fbdev module defines.  They are set to indicate the fb types supported
 * on different architectures.
 */
#ifndef XF86AFB
# define XF86AFB		NO
#endif
#ifndef XF86ILBM
# define XF86ILBM		NO
#endif
#ifndef XF86IPLAN2P2
# define XF86IPLAN2P2		NO
#endif
#ifndef XF86IPLAN2P4
# define XF86IPLAN2P4		NO
#endif
#ifndef XF86IPLAN2P8
# define XF86IPLAN2P8		NO
#endif
#if XF86AFB
AFB_DEFS = -DUSE_AFB
#endif
#if XF86ILBM
ILBM_DEFS = -DUSE_ILBM
#endif
#if XF86IPLAN2P2
IPLAN2P2_DEFS = -DUSE_IPLAN2P2
#endif
#if XF86IPLAN2P4
IPLAN2P4_DEFS = -DUSE_IPLAN2P4
#endif
#if XF86IPLAN2P8
IPLAN2P8_DEFS = -DUSE_IPLAN2P8
#endif
#ifndef FbdevDefines
# define FbdevDefines $(AFB_DEFS) $(ILBM_DEFS) $(IPLAN2P2_DEFS) \
		     $(IPLAN2P4_DEFS) $(IPLAN2P8_DEFS)
#endif

/*
 * The default is to install the X servers setuid-root on most OSs.
 * It the servers are only started by xdm, they should not be setuid-root.
 */
#if !defined(i386MachArchitecture) && !defined(OS2Architecture)
# ifndef InstallXserverSetUID
#  define InstallXserverSetUID	YES
# endif
#endif

/*
 * Build GLX server interface
 *   --- Doesn't work for 1-bit and 4-bit servers
 */
#ifndef BuildGlxExt
#  define BuildGlxExt	YES
#endif

#ifndef BuildXF86DRI
#define BuildXF86DRI	NO
#endif

#ifndef BuildXF86DRM
#define BuildXF86DRM	NO
#endif

#ifndef GlxUseSGISI
#define GlxUseSGISI	NO
#endif

#if BuildXF86DRI

#ifndef BuildGLXLibrary
#  if defined (BuildServersOnly) && BuildServersOnly
#    define BuildGLXLibrary	NO
#  else
#    define BuildGLXLibrary	YES
#  endif
#endif

#ifndef BuildXF86OldDRMCompat
#  define BuildXF86OldDRMCompat	YES
#endif

/*
 * One and ONLY one of the GlxBuiltIn* drivers can be defined to be YES.
 * If more than one are defined, the compilation will fail with multiply
 * defined references of GLX and OpenGL functions.
 */

/*
 * The first is a built-in driver that does software rendering client-side
 * and renders to the X server via Xlib.
 */

#  ifndef GlxBuiltInXMesa
#    define GlxBuiltInXMesa         NO
#  endif

/*
 * The rest are hardware-specific DRI drivers.
 */
#  ifndef GlxBuiltInGamma
#    define GlxBuiltInGamma        NO
#  endif
#  ifndef GlxBuiltInTdfx
#    define GlxBuiltInTdfx         NO
#  endif
#  ifndef GlxBuiltInMga
#    define GlxBuiltInMga          NO
#  endif
#  ifndef GlxBuiltInI810
#    define GlxBuiltInI810         NO
#  endif
#  ifndef GlxBuiltInI830
#    define GlxBuiltInI830         NO
#  endif
#  ifndef GlxBuiltInR128
#    define GlxBuiltInR128         NO
#  endif
#  ifndef GlxBuiltInRadeon
#    define GlxBuiltInRadeon       NO
#  endif
#  ifndef GlxBuiltInR200
#    define GlxBuiltInR200         NO
#  endif
#  ifndef GlxBuiltInFfb
#    define GlxBuiltInFfb          NO
#  endif
#  ifndef GlxBuiltInSIS
#    define GlxBuiltInSIS          NO
#  endif

#  if GlxBuiltInTdfx || \
      GlxBuiltInMga || \
      GlxBuiltInI810 || \
      GlxBuiltInI830 || \
      GlxBuiltInR128 || \
      GlxBuiltInRadeon || \
      GlxBuiltInR200 || \
      GlxBuiltInFfb || \
      GlxBuiltInSIS
#    define GlxDriverUsesMesa      YES
#  else
#    define GlxDriverUsesMesa      NO
#  endif

#  if GlxBuiltInGamma || \
      GlxBuiltInTdfx || \
      GlxBuiltInMga || \
      GlxBuiltInI810 || \
      GlxBuiltInI830 || \
      GlxBuiltInR128 || \
      GlxBuiltInRadeon || \
      GlxBuiltInR200 || \
      GlxBuiltInFfb || \
      GlxBuiltInSIS
#    define GlxUseBuiltInDRIDriver YES
#    define DRIDynLoadDefines /**/
#  else
#    define GlxUseBuiltInDRIDriver NO
#    define DRIDynLoadDefines -DGLX_USE_DLOPEN
#  endif

#  if GlxUseBuiltInDRIDriver
#    undef DriDrivers
#    if GlxBuiltInGamma
#      define DriDrivers gamma
#    endif
#    if GlxBuiltInTdfx
#      define DriDrivers tdfx
#    endif
#    if GlxBuiltInMga
#      define DriDrivers mga
#    endif
#    if GlxBuiltInI810
#      define DriDrivers i810
#    endif
#    if GlxBuiltInI830
#      define DriDrivers i830
#    endif
#    if GlxBuiltInR128
#      define DriDrivers r128
#    endif
#    if GlxBuiltInRadeon
#      define DriDrivers radeon
#    endif
#    if GlxBuiltInR200
#      define DriDrivers r200
#    endif
#    if GlxBuiltInSIS
#      define DriDrivers sis
#    endif
#    if GlxBuiltInFfb
#      define DriDrivers ffb
#    endif
#  endif

#endif

/*
 * This enables building DRI support into video drivers, which can be done
 * even on platforms that don't have functional DRI support.
 *
 * Defining BuildXF86DRIDriverSupport to YES will not work until we have a
 * separate set of defines set up for building driver-only support for the
 * DRI.
 */
#ifndef BuildXF86DRIDriverSupport
# define BuildXF86DRIDriverSupport NO
#endif

#if BuildGlxExt

#  if BuildXF86DRI
#    define DRIDefines -DXF86DRI -DGLX_DIRECT_RENDERING DRIDynLoadDefines
#  else
#    define DRIDefines /**/
#  endif
#  if defined(GlxUseSGISI) && GlxUseSGISI
#    define GlxCoreLibDefines -DGLX_USE_SGI_SI
#  else
#    define GlxCoreLibDefines -DGLX_USE_MESA
#  endif

#  if defined(SparcArchitecture)  \
   || defined (Sparc64Architecture) \
   || defined(ia64Architecture) \
   || defined(s390xArchitecture) \
   || defined(AMD64Architecture)
#    define GlxArchDefines -D__GLX_ALIGN64
#  elif defined(AlphaArchitecture)
/* On the Alpha we need to ensure floating point accuracy for 3D */
#    define GlxArchDefines -D__GLX_ALIGN64 -mieee
#  elif defined(DarwinArchitecture)
/* GLX contains lots of uninitialized globals, which can upset Darwin */
#    define GlxArchDefines -fno-common
#  else
#    define GlxArchDefines /**/
#  endif

#  ifndef GlxExtraDefines
#    define GlxExtraDefines DRIDefines GlxCoreLibDefines GlxArchDefines
#  endif

#else

/* If we are not building GLX, then make sure the DRI is not built */
#  undef  BuildXF86DRI
#  define BuildXF86DRI   NO
#  undef  BuildXF86DRIDriverSupport
#  define BuildXF86DRIDriverSupport NO

#endif

#if !BuildXF86DRI
# define GlxUseBuiltInDRIDriver NO	/* For libOSmesa */
#endif

# ifndef UseX86Emu
#  define UseX86Emu		YES
# endif

#define X86INT10_STUB   0
#define X86EMU_GENERIC  1
#define X86VM           2
#define X86EMU_OS       3

#ifndef XF86INT10_BUILD
# if UseX86Emu
#  define XF86INT10_BUILD		X86EMU_GENERIC
# else
#  define XF86INT10_BUILD		X86INT10_STUB
# endif
#endif
/*
 * Build the Rush extension library (non standard extension for cooperation
 * between glide library and X server). Enabled by default only for Linux.
 */
#ifndef BuildXF86RushExt
# define BuildXF86RushExt	NO
#endif

#ifndef BuildDBElib
# define BuildDBElib	YES
#endif

#ifndef BuildRECORDlib
# define BuildRECORDlib	YES
#endif

#ifndef BuildXKBlib
# define BuildXKBlib	YES
#endif

#ifndef BuildScreenSaverExt
# define BuildScreenSaverExt	YES
#endif

/*
 * Build XInput support
 */
#ifndef BuildXInputExt
# define BuildXInputExt		YES
#endif

/* Build Xinerama (aka panoramiX) extension */
#ifndef BuildXinerama
# define BuildXinerama		YES
#endif

/* Build Render extension */
#ifndef BuildRender
# define BuildRender		YES
#endif

#if 0
#ifndef JoystickSupport
# define JoystickSupport	NO
#endif
#endif

#if 0
/*
 * Build the extra extension libs even when not including the extra extensions
 * in the servers
 */
#ifndef BuildScreenSaverLibrary
# define BuildScreenSaverLibrary   YES
#endif
#ifndef BuildXF86MiscLibrary
# define BuildXF86MiscLibrary	YES
#endif
#ifndef BuildXF86DGALibrary
# define BuildXF86DGALibrary	YES
#endif
#ifndef BuildXF86VidModeLibrary
# define BuildXF86VidModeLibrary YES
#endif
#ifndef BuildXvLibrary
# define BuildXvLibrary		YES
#endif
#ifndef BuildXvMCLibrary
# define BuildXvMCLibrary	YES
#endif
#ifndef BuildGLXLibrary
# define BuildGLXLibrary	YES
#endif
#ifndef BuildXResLibrary
# define BuildXResLibrary       YES
#endif
#endif

/*
 * Build the XFree86-VidMode extension
 */
#ifndef BuildXF86VidModeExt
# define BuildXF86VidModeExt		YES
#endif

/* Don't build this now because the interface hasn't been done yet */
/*
 * Build the XFree86-Misc extension
 */
#ifndef BuildXF86MiscExt
# define BuildXF86MiscExt		YES
#endif

/*
 * Build the XFree86-Bigfont extension
 */
#ifndef BuildXF86BigfontExt
# define BuildXF86BigfontExt		YES
#endif

/*
 * Build the XFree86 DGA support
 */
#ifndef BuildXF86DGA
# define BuildXF86DGA			YES
#endif

/*
 * Build the DPMS extension support
 */
#ifndef BuildDPMSExt
# define BuildDPMSExt			YES
#endif

/*
 * Build the X Video Extension
 */
#ifndef BuildXvExt
# define BuildXvExt			YES
#endif

/*
 * Build the X Video Motion Compensation Extension
 */
#ifndef BuildXvMCExt
# define BuildXvMCExt			YES
#endif

/*
 * Build the X-Resource Extension 
 */
#ifndef BuildXResExt
# define BuildXResExt                   YES
#endif

#if Malloc0ReturnsNull
# ifndef XtMalloc0ReturnsNullDefines
#  define XtMalloc0ReturnsNullDefines	Malloc0ReturnsNullDefines -DXTMALLOC_BC
# endif
#endif

#ifndef UseInternalMalloc
# define UseInternalMalloc	NO
#endif

#ifndef HasDlsymBug
# define HasDlsymBug		NO
#endif

#ifndef HasMTRRSupport
# define HasMTRRSupport		NO
#endif

/*
 * The expiry date for beta versions
 *
 * 853286400 is Wed Jan 15 00:00:00 1997 GMT
 * 855964800 is Sat Feb 15 00:00:00 1997 GMT
 * 866332800 is Sun Jun 15 00:00:00 1997 GMT
 */
#ifndef XF86ServerExpiry
# define XF86ServerExpiry 866332800
#endif

/*
 * Build the font server
 */
#ifndef BuildFontServer
# define BuildFontServer	YES
#endif

/*
 * Include fonts support
 */
#ifndef BuildSpeedo
# define BuildSpeedo		YES
#endif

#ifndef BuildType1
# define BuildType1		YES
#endif

#ifndef BuildCID
# define BuildCID		YES
#endif

#ifndef BuildFreeType
# define BuildFreeType		YES
#endif

#ifndef BuildXTrueType
# define BuildXTrueType		YES
#endif

/*
 * By default, build all of the fonts.
 */
#ifndef Build75DpiFonts
# define Build75DpiFonts	YES
#endif
#ifndef Build100DpiFonts
# define Build100DpiFonts	YES
#endif
#ifndef BuildSpeedoFonts
# define BuildSpeedoFonts	YES
#endif
#ifndef BuildType1Fonts
# define BuildType1Fonts	YES
#endif
#ifndef BuildCIDFonts
# define BuildCIDFonts		YES
#endif
#ifndef BuildTrueTypeFonts
# define BuildTrueTypeFonts	YES
#endif
#ifndef BuildCyrillicFonts
# define BuildCyrillicFonts	YES
#endif

/*
 * Build scanpci?
 */
#ifndef SystemV
#define SystemV			NO
#endif
#ifndef SystemV4
#define SystemV4		NO
#endif
#ifndef BuildScanpci
# if SystemV || SystemV4 || \
    (defined(LinuxArchitecture) && !defined(Mc68020Architecture)) || \
    defined(i386BsdArchitecture) || defined(LynxOSArchitecture) || \
    defined(OS2Architecture) || defined(GNUMachArchitecture)
#   define BuildScanpci		YES
# else
#   define BuildScanpci		NO
# endif
#endif

#ifndef CompressAllFonts
# define CompressAllFonts	YES
#endif

#ifndef GzipFontCompression
# define GzipFontCompression	YES
#endif

/* Disable stripping installed programs for this release. */
#ifndef StripInstalledPrograms
# define StripInstalledPrograms	NO
#endif

#ifndef InstallJapaneseDocs
#define InstallJapaneseDocs	NO
#endif

#if BuildXF86DGA
# define XFree86DGADefines	-DXFreeXDGA
#else
# define XFree86DGADefines	/**/
#endif

#if BuildXvExt
# define XFree86XvDefines	-DXvExtension
#else
# define XFree86XvDefines	/**/
#endif

#if BuildXvMCExt
# define XFree86XvMCDefines	-DXvMCExtension
#else
# define XFree86XvMCDefines	/**/
#endif

#if BuildXResExt
# define XFree86XResDefines     -DXResExtension
#else
# define XFree86XResDefines     /**/
#endif

#ifndef DlopenHack
# define DlopenHack		-DDLOPEN_HACK
#endif

#ifndef ExtraLoaderDefines
# if MakeDllModules
#  define ExtraLoaderDefines	DlopenHack
# else
#  define ExtraLoaderDefines	/**/
# endif
#endif

#if DoLoadableServer
# define XFree86LoaderDefines	-DXFree86LOADER ExtraLoaderDefines
#else
# define XFree86LoaderDefines	/**/
#endif

#ifndef HasBsdMake
#define HasBsdMake		NO
#endif

#ifndef MakeHasPosixVariableSubstitutions
# if !HasBsdMake && !defined(SunArchitecture)
#  define MakeHasPosixVariableSubstitutions	NO
# else
#  define MakeHasPosixVariableSubstitutions	YES
# endif
#endif

#ifndef UseSmartScheduler
#define UseSmartScheduler YES
#endif

#if UseSmartScheduler
#define SmartScheduleDefines -DSMART_SCHEDULE
#else
#define SmartScheduleDefines /**/
#endif

/* Server defines required for all OSs */
#ifndef XFree86ServerDefines
# define XFree86ServerDefines	-DAVOID_GLYPHBLT -DPIXPRIV -DSINGLEDEPTH \
				XFree86DGADefines XFree86XvDefines \
				XFree86LoaderDefines -DXFree86Server \
				VidModeExtensionDefines \
				XFree86XvMCDefines \
				SmartScheduleDefines \
				DebugDefines XFree86XResDefines \
				-DX_BYTE_ORDER=$(X_BYTE_ORDER)
#endif

#ifndef XFree86ServerOSDefines
# define XFree86ServerOSDefines	-DDDXOSINIT -DSERVER_LOCK -DDDXOSFATALERROR \
				-DDDXOSVERRORF
#endif

#ifndef XFree86ConsoleDefines
# if defined(i386BsdArchitecture) || defined(AlphaBsdArchitecture)
#  define XFree86ConsoleDefines	-DPCCONS_SUPPORT -DSYSCONS_SUPPORT -DPCVT_SUPPORT
# elif defined(FreeBSDArchitecture)
#  define XFree86ConsoleDefines -DSYSCONS_SUPPORT
# else
#  define XFree86ConsoleDefines	/**/
# endif
#endif

/* Support for USB mouse */
#ifndef UsbMouseSupport
# define UsbMouseSupport NO
#endif
/* Does this OS have libusb ? */
#ifndef HasLibUsbHid
# define HasLibUsbHid	NO
#endif

#ifndef UseServerLock
# define UseServerLock	YES
#endif

#ifndef XnestServer
# define XnestServer		YES
#endif
#ifndef XVirtualFramebufferServer
# define XVirtualFramebufferServer	YES
#endif
#ifndef XprtServer
# define XprtServer			YES
#endif

#ifndef ServerExtraDefines
# define ServerExtraDefines	XFree86ServerDefines
#endif

#ifndef ServerOSDefines
# define ServerOSDefines	XFree86ServerOSDefines
#endif

#ifndef DriverSDKDir
# define DriverSDKDir     $(USRLIBDIR)/Server
#endif

#ifndef DriverSDKModuleDir
# define DriverSDKModuleDir     $(USRLIBDIR)/Server/modules
#endif

#ifndef DriverSDKIncludeDir
# define DriverSDKIncludeDir     $(USRLIBDIR)/Server/include
#endif

DRIVERSDKDIR = DriverSDKDir
DRIVERSDKMODULEDIR = DriverSDKModuleDir
DRIVERSDKINCLUDEDIR = DriverSDKIncludeDir

/*
 * Some commonly refered to directories are defined here.
 */

       XF86SRC = $(SERVERSRC)/hw/xfree86
    XF86COMSRC = $(XF86SRC)/common
 XF86PARSERSRC = $(XF86SRC)/parser
     XF86OSSRC = $(XF86SRC)/os-support
 XF86DRIVERSRC = $(XF86SRC)/drivers
     DRIVERSRC = $(XF86DRIVERSRC)

/*
 * Installed location of the XFree86 documentation
 */

        XFREE86DOCDIR = $(DOCDIR)
      XFREE86PSDOCDIR = $(DOCPSDIR)
     XFREE86PDFDOCDIR = $(DOCPDFDIR)
    XFREE86HTMLDOCDIR = $(DOCHTMLDIR)
XFREE86JAPANESEDOCDIR = $(DOCDIR)/Japanese

/*
 * Other stuff used in the X Server source.
 */

#ifndef OtherIConfigFiles
# define OtherIConfigFiles $(IRULESRC)/xfree86.cf $(IRULESRC)/xf86.rules
#endif

#ifndef UseRgbTxt
# define UseRgbTxt	YES
#endif

#ifndef ManSuffix
# define ManSuffix	1
#endif

/*
 * GNU Compiler stuff
 */
#ifndef HasGcc3
# define HasGcc3 NO
#endif
#ifndef HasGcc2
# define HasGcc2 HasGcc3
#endif
#ifndef HasGcc
# define HasGcc HasGcc2
#endif
#ifndef HasGcc2ForCplusplus
# define HasGcc2ForCplusplus HasGcc2
#endif

#if HasGcc
# ifndef Gcc28Warnings
#  if (GccMajorVersion > 2) || \
      ((GccMajorVersion == 2) && (GccMinorVersion >= 8))
#   define Gcc28Warnings -Wundef
#  else
#   define Gcc28Warnings /* */
#  endif
# endif
# ifndef GccWarningOptions
#  if XFree86Devel
#   define GccWarningOptions -Wall -Wpointer-arith -Wstrict-prototypes \
			  -Wmissing-prototypes -Wmissing-declarations \
			  -Wredundant-decls -Wnested-externs Gcc28Warnings
#  else
#   define GccWarningOptions -Wall -Wpointer-arith Gcc28Warnings
#  endif
# endif
# ifndef DefaultCCOptions
#  if defined(UseInstalled)
#   define DefaultCCOptions /* -ansi */
#  else
#   define DefaultCCOptions -ansi -pedantic GccWarningOptions
#  endif
# endif
# if defined(UseInstalled)
#  ifndef UseGccMakeDepend
#   define UseGccMakeDepend YES
#  endif
# endif
#endif

/* Make imake noisier.  Note that this is ineffective for 3.0 <= GCC <= 3.2 */
#ifndef ImakeWarningFlags
# ifdef Gcc28Warnings
#  define ImakeWarningFlags Gcc28Warnings
# else
#  define ImakeWarningFlags /* */
# endif
#endif

#if  (GccMajorVersion == 3) &&  (GccMinorVersion >= 1)
# define GccAliasingArgs      -fno-strict-aliasing
#else
# define GccAliasingArgs      /* */
#endif

#if HasGcc2 && defined(i386Architecture)
# ifndef DefaultGcc2i386Opt
#  define DefaultGcc2i386Opt -O2 -fno-strength-reduce GccAliasingArgs
# endif
#endif

#if HasGcc2 && defined(AMD64Architecture)
# ifndef DefaultGcc2AMD64Opt
#  define DefaultGcc2AMD64Opt -O2 -fno-strength-reduce GccAliasingArgs
# endif
#endif

#if HasGcc2 && defined(AlphaArchitecture)
# ifndef DefaultGcc2AxpOpt
#  define DefaultGcc2AxpOpt -O2 GccAliasingArgs
# endif
#endif

#if HasGcc2 && defined(PpcArchitecture)
# ifndef DefaultGcc2PpcOpt
#  define DefaultGcc2PpcOpt -O2 GccAliasingArgs
# endif
#endif

#ifndef DefaultGcc2DebugOpt
# define DefaultGcc2DebugOpt -g
#endif

#ifndef DebuggableLibraries
# define DebuggableLibraries NO
#endif

#if HasGcc2 && DebuggableLibraries
# define LibraryDebugOpt DefaultGcc2DebugOpt
#endif

/*
 * Some versions of gcc have optimisation bugs that cause problems building
 * some files.  The definitions here cover those.
 */

#ifndef Egcs112Bug
  /* Not exactly precise, but it'll do for now... */
# if HasGcc2 && defined(i386Architecture) && \
     (GccMajorVersion == 2) && (GccMinorVersion > 8)
#  define Egcs112Bug YES
# else
#  define Egcs112Bug NO
# endif
#endif

#ifdef i386Architecture
# ifndef HasX86Support
#  define HasX86Support YES
# endif
# ifndef HasMMXSupport
#  define HasMMXSupport YES
# endif
# ifndef HasSSESupport
#  define HasSSESupport NO
# endif
# ifndef Has3DNowSupport
#  define Has3DNowSupport NO
# endif
#elif defined (AMD64Architecture)
# ifndef HasX86Support
#  define HasX86Support NO
# endif
# ifndef HasMMXSupport
#  define HasMMXSupport NO
# endif
# ifndef HasSSESupport
#  define HasSSESupport NO
# endif
# ifndef Has3DNowSupport
#  define Has3DNowSupport NO
# endif
#else 
# ifndef HasX86Support
#  define HasX86Support NO
# endif
# ifndef HasMMXSupport
#  define HasMMXSupport NO
# endif
# ifndef HasSSESupport
#  define HasSSESupport NO
# endif
# ifndef Has3DNowSupport
#  define Has3DNowSupport NO
# endif
#endif

#ifndef StaticNeedsPicForShared
# if defined (AMD64Architecture)\
  || defined (AlphaArchitecture) \
  || defined (ia64Architecture) \
  || defined (PpcArchitecture) \
  || defined (SparcArchitecture) \
  || defined (s390xArchitecture) 
#  define StaticNeedsPicForShared YES
# else
#  define StaticNeedsPicForShared NO
# endif
#endif

#ifndef XF8_32Wid
# define XF8_32Wid		NO
#endif

#if CrossCompiling
#include <cross.def>
#endif
#include <xf86.rules>

@


1.3
log
@revert change from OpenBSD: -Wbounded is available via \$COPTS
@
text
@a210 5
/* libusbhid used for USB support */
#ifndef HasLibUsbHid 
# define HasLibUsbHid	NO
#endif

d1766 2
a1767 2
#ifndef HasLibUsb
# define HasLibUsb	NO
@


1.2
log
@merge -current
@
text
@d1 1
a1 1
XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.439 2003/02/26 20:07:59 dawes Exp $
d75 12
d131 1
a131 1
#define XConfigDir		$(LIBDIR)
d198 1
a198 1
#define XInputDrivers		mouse keyboard /* acecad */ calcomp citron \
d235 3
d376 3
a378 9
#  ifdef ia64Architecture /* removed nsc driver */
#   define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic i740 tdfx savage \
				cirrus vmware tseng trident chips apm \
				GlideDriver fbdev i128 \
				ati i810 AgpGartDrivers DevelDrivers ark \
				cyrix siliconmotion \
				vesa vga \
				dummy XF86OSCardDrivers XF86ExtraCardDrivers
d380 3
a382 1
#   define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
d385 1
a385 1
				GlideDriver fbdev i128 nsc \
d387 2
a388 2
				cyrix siliconmotion \
				vesa vga \
a389 1
#  endif
d406 1
a406 1
				/*sis*/ tdfx DevelDRIDrivers
d410 1
a410 1
#if defined(x86_64Architecture)
d414 3
d491 1
a491 1
/* DRI tdfx driver needs Glide, which is not available for x86_64 */
d498 1
a498 1
#endif /*x86_64Arcitecture*/
d502 1
a502 1
#if  defined(SparcArchitecture) && \
d949 1
a949 1
#  define XF86CardDrivers	ati mga glint s3 s3virge sis savage\
a1194 15
 * The server-side of PEX is not 64-bit clean.
 */
#if !defined(BuildPexExt)
# if XF86Server \
  && !defined(AlphaArchitecture) \
  && !defined(ia64Architecture) \
  && !defined(s390xArchitecture) \
  && !defined (x86_64Architecture)
#  define BuildPexExt		NO	/* But we turn off PEX anyway now */
# else
#  define BuildPexExt		NO
# endif
#endif

/*
a1209 4
#ifndef GlxStubLib
#define GlxStubLib	NO
#endif

d1224 4
d1358 2
a1359 11
#  if !defined(GlxStaticServerLib) && !GlxStubLib
#    if BuildXF86DRI
#      define DRIDefines -DXF86DRI -DGLX_DIRECT_RENDERING DRIDynLoadDefines
#    else
#      define DRIDefines /**/
#    endif
#    if defined(GlxUseSGISI) && GlxUseSGISI
#      define GlxCoreLibDefines -DGLX_USE_SGI_SI
#    else
#      define GlxCoreLibDefines -DGLX_USE_MESA
#    endif
d1362 5
a1366 1
#    define GlxCoreLibDefines /**/
d1373 1
a1373 1
   || defined(x86_64Architecture)
d1379 1
a1379 1
/* GLX contains lots of uninitalized globals, which can upset Darwin */
a1426 11
/*
 * XIE
 */
#ifndef BuildXIE
# if XF86Server
#  define BuildXIE		NO
# else
#  define BuildXIE		NO
# endif
#endif

a1519 24
 * Build XF86Setup -- needs Tk and Tcl
 */
/* There are problems building XF86Setup, so turn it off for now */
#ifndef BuildXF86Setup
# define BuildXF86Setup NO
#endif

#ifndef BuildXF86Setup
# if HasTk && HasTcl && \
     BuildXF86VidModeLibrary && BuildXF86MiscLibrary && BuildXKBlib
#  define BuildXF86Setup		YES
# else
#  define BuildXF86Setup		NO
# endif
#endif

#ifndef XF86SetupUsesStaticTk
# define XF86SetupUsesStaticTk		YES
#endif
#ifndef XF86SetupUsesStaticTcl
# define XF86SetupUsesStaticTcl		YES
#endif

/*
a1636 3
#ifndef UseKoi8RForCyrillic
# define UseKoi8RForCyrillic	YES
#endif
a1728 6
#if !HasSnprintf
# define ServerSnprintfDefines -DNEED_SNPRINTF
#else
# define ServerSnprintfDefines /**/
#endif

a1745 1
				ServerSnprintfDefines \
d1748 1
a1748 1
				-DX_BYTE_ORDER=ByteOrder
d1759 2
d1830 1
d1907 4
a1910 2
#ifndef GccAliasingArgs
#define GccAliasingArgs /* */
d1919 3
a1921 3
#if HasGcc2 && defined(x86_64Architecture)
# ifndef DefaultGcc2x86_64Opt
#  define DefaultGcc2x86_64Opt -O2 -fno-strength-reduce GccAliasingArgs
a1963 9
/*
 * Some Linux distributions (like RH 7.0) use glibc 2.1-style setjmp,
 * but have the glibc version set to 2.2.  This can be set it host.def
 * to handle these cases.
 */
#ifndef HasGlibc21Sigsetjmp
#define HasGlibc21Sigsetjmp NO
#endif

d1977 1
a1977 1
#elif defined (x86_64Architecture)
d2006 1
a2006 1
# if defined (x86_64Architecture)\
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.388 2002/01/03 22:51:54 alanh Exp $
d15 1
d36 5
a40 3
#ifdef XF86_VERSION_CURRENT
# define XFree86Version XF86_VERSION_CURRENT
#endif
d43 4
a46 3
#ifndef XFree86VersionString
#ifdef XF86_VERSION_MAJOR
#if XF86_VERSION_SNAP == 0
d50 1
d52 9
d62 3
d67 2
a68 4
#ifndef XFree86DateString
#ifdef XF86_DATE
#define XFree86DateString XF86_DATE
#endif
d71 2
a72 3
/* This must be defined here for boostrapping purposes */
#ifndef XFree86Version
# define XFree86Version	0
d84 1
a84 1
#define XVendorManVersionString Version XFree86VersionString
d96 6
a101 2
# if (XFree86Version % 1000)
#  define XFree86Devel		YES
d103 1
a103 1
#  define XFree86Devel		NO
d155 16
d174 4
a177 1
/* XInput drivers */
d179 3
a181 3
/* OS.cf can set this for OS specific input drivers */
#ifndef OSXInputDrivers
#define OSXInputDrivers		/**/
d184 1
d186 2
a187 2
#define XInputDrivers		mouse /* acecad */ calcomp citron \
				digitaledge dmc dynapro elographics \
d189 3
a191 2
				wacom void /* magictouch */ hyperpen \
				OSXInputDrivers
d220 3
d260 1
a260 1
#ifndef UseMatroxHal 
a327 1

d332 4
d339 1
a339 1
 * This is for build testing only.  It isn't actually used on this platform.
d345 1
a345 5
# if HasAgpGart || XFree86Devel
#  define AgpGartDrivers	i810
# else
#  define AgpGartDrivers	/**/
# endif
d361 2
a362 1
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
d366 14
a379 3
				ati AgpGartDrivers DevelDrivers ark cyrix \
				siliconmotion \
				vesa vga XF86OSCardDrivers XF86ExtraCardDrivers
d381 11
a391 4
# if HasGlide3
#  define TdfxDriDriver		tdfx
# else
#  define TdfxDriDriver		/**/
d393 1
d395 2
a396 1
#  define DriDrivers		gamma TdfxDriDriver mga i810 i830 r128 radeon sis
d400 88
a487 1
/* Sparc drivers */
d492 1
a492 1
    !defined(OpenBSDArchitecture) 
d494 1
a494 1
#  define XF86Server            YES
d498 1
a498 1
#  define XF1Bpp                YES
d524 4
d534 1
a534 1
#  define XF86XAA               YES
d556 19
d579 3
a581 2
				sunbw2 ati glint fbdev \
				XF86OSCardDrivers XF86ExtraCardDrivers
d590 1
a590 2
#if defined(OpenBSDArchitecture) && \
    (defined(Sparc64Architecture) || defined(SparcArchitecture))
d658 4
d683 1
a683 1
/* Mips drivers */
d746 4
d768 1
a768 2
 * For Digital Alpha platforms, the default is to build all modules which
 * are supported on this platform.
a825 1

d830 4
d846 1
a846 1
				savage nv DevelDrivers siliconmotion cirrus \
a848 5
# if HasGlide3
#  define TdfxDriDriver		tdfx
# else
#  define TdfxDriDriver		/**/
# endif
d850 1
a850 1
#  define DriDrivers		gamma TdfxDriDriver mga r128 radeon sis
d855 1
a855 2
 * For Motorola 68k and PPC (currently Linux, LynxOS and Net/OpenBSD)
 * and Intel StrongARM (currently Linux, maybe NetBSD)
d857 1
a857 2
#if defined(PpcArchitecture) || defined(Mc68020Architecture) || \
    defined(Arm32Architecture) || defined(HPArchitecture)
a916 1

d921 4
d941 88
d1035 1
a1035 1
#  define DriDrivers		gamma TdfxDriDriver mga r128 radeon
a1038 1

d1043 1
a1043 1
#  define XF86Server           YES
d1047 1
a1047 1
#  define XF1Bpp               YES
d1051 1
a1051 1
#  define XF4Bpp               YES
d1055 1
a1055 1
#  define XF8_32Bpp            YES
d1059 1
a1059 1
#  define XF8_16Bpp            YES
d1063 1
a1063 1
#  define XF24_32Bpp           YES
d1067 1
a1067 1
#  define XFShadowFB           YES
d1071 1
a1071 1
#  define XF86FBDevHw          YES
d1075 1
a1075 1
#  define XF86XAA              YES
d1079 1
a1079 1
#  define XF86Ramdac           YES
d1083 1
a1083 1
#  define XF86I2C              YES
d1087 1
a1087 1
#  define XF86DDC              YES
d1091 1
a1091 1
#  define XF86RAC              YES
a1092 1

d1095 5
a1099 1
#  define XF86Int10            YES
d1103 1
a1103 1
#  define XF86CardDrivers              fbdev XF86OSCardDrivers XF86ExtraCardDrivers
d1108 1
a1108 1
/* 
d1110 1
a1110 1
 * are supported on this platform. 
d1137 1
a1137 1
# define XF86AFB NO
d1140 1
a1140 1
# define XF86ILBM NO
d1143 1
a1143 1
# define XF86IPLAN2P2 NO
d1146 1
a1146 1
# define XF86IPLAN2P4 NO
d1149 1
a1149 1
# define XF86IPLAN2P8 NO
d1185 5
a1189 1
# if XF86Server && !defined(AlphaArchitecture) && !defined(ia64Architecture) && !defined(s390xArchitecture)
d1201 1
a1201 1
#  define BuildGlxExt    YES
d1208 12
d1223 5
a1227 1
#define BuildGLXLibrary	YES
d1235 13
a1250 3
#  ifndef GlxBuiltInMesa
#    define GlxBuiltInMesa         NO
#  endif
d1269 3
d1285 2
a1286 1
      GlxBuildInFfb || \
d1289 2
d1300 1
d1302 1
a1302 2
      GlxBuiltInSIS || \
      GlxBuiltInMesa
d1333 3
d1376 5
a1380 1
#  if defined(SparcArchitecture) || defined(Sparc64Architecture) || defined(ia64Architecture) || defined(s390xArchitecture)
d1406 4
d1510 3
d1576 1
a1576 1
 * Build the X Video Extension 
d1589 6
d1684 1
a1684 1
 * By default, create the local font directory
d1686 5
a1690 2
#ifndef MakeLocalFontDir
# define MakeLocalFontDir	YES
a1691 4

/*
 * Build scanpci?
 */
d1694 1
a1694 2
    (defined(LinuxArchitecture) && !defined(Mc68020Architecture) && \
     !defined(PpcArchitecture)) || \
d1738 6
d1762 4
d1799 1
a1799 1
				DebugDefines \
d1902 3
d1906 1
a1906 1
# define HasGcc2 NO
d1916 8
d1928 1
a1928 1
			  -Wredundant-decls -Wnested-externs
d1930 1
a1930 1
#   define GccWarningOptions -Wall -Wpointer-arith
d1947 13
d1962 7
a1968 1
#  define DefaultGcc2i386Opt -O2 -fno-strength-reduce
d1974 1
a1974 1
#  define DefaultGcc2AxpOpt -O2
d1980 1
a1980 1
#  define DefaultGcc2PpcOpt -O2
d1988 4
d2002 3
a2004 1
# if HasGcc2 && defined(i386Architecture)
d2011 9
d2021 3
d2027 15
a2041 2
# ifndef HasKatmaiSupport
#  define HasKatmaiSupport NO
d2046 4
a2049 1
#else
d2053 2
a2054 2
# ifndef HasKatmaiSupport
#  define HasKatmaiSupport NO
d2061 20
@


1.1.9.1
log
@OpenBSD just has imported exactly this tree into their vendor branch,
called the same tag, in XF4/xc
This is, apparently, the last XFree86 snapshot before the licence change
(ie, addition of the advertising clause)

Since the developers don't see any problems with that, and we would like
to integrate improvements done by the remaining one or two (or so) XFree86
developers (j/k), this prepares enabling us to update X-Window in the future.
@
text
@d1 1
a1 1
XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.467 2004/01/28 01:47:26 dawes Exp $
a14 1
#include "date.def"
d35 3
a37 5
# ifdef XF86_VERSION_CURRENT
#  define XFree86Version	XF86_VERSION_CURRENT
# else	/* Must be defined for bootstrapping purposes */
#  define XFree86Version	0
# endif
d40 3
a42 4
#if !defined(XFree86VersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
a45 1
# endif
a46 9

#if !defined(XFree86ManVersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
#else
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH XF86_VERSION_SNAP | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
# endif
a47 3

#if !defined(XFree86DateString) && defined(XF86_DATE)
# define XFree86DateString XF86_DATE
d50 3
a52 2
#ifndef BuildDateCmd
# define BuildDateCmd	date +%Y%m%d
a53 3

#if !defined(BuildDate)
# define BuildDate 	`BuildDateCmd`
d56 3
a58 10
#ifndef ChangelogDateCmd
# define ChangelogDateCmd if tail $(CHANGELOGFILE) | \			@@@@\
	fgrep '$$XFree86:' >/dev/null 2>&1; then \			@@@@\
	  tail $(CHANGELOGFILE) | fgrep '$$XFree86:' | \		@@@@\
	  sed s,'.* \([0-9][0-9]*\)/\([0-9][0-9]*\)/\([0-9][0-9]*\).*,\1\2\3,'; \ @@@@\
	else echo 0; fi
#endif

#if !defined(ChangelogDate)
# define ChangelogDate	`ChangelogDateCmd`
d70 1
a70 1
#define XVendorManVersionString XFree86ManVersionString
d82 2
a83 6
# if !defined(PatheticCpp) || !PatheticCpp
#  if (XFree86Version % 1000)
#   define XFree86Devel		YES
#  else
#   define XFree86Devel		NO
#  endif
d85 1
a85 1
#  define XFree86Devel		NO	/* Assume the worst */
d137 1
a137 3
 * When this is set, modules are always built separately from the libraries
 * that statically link into an Xserver.  This is for platforms where the
 * module and native object formats are different (e.g., OS/2).
a138 3
#ifndef BuildModuleInSubdir
#define BuildModuleInSubdir	NO
#endif
d140 1
a140 6
#ifndef MakeDllModules
#define MakeDllModules		NO
#endif
#ifndef DoLoadableServer
#define DoLoadableServer	NO
#endif 
d142 1
a142 5
/*
 * Default settings for which X Servers to build.
 */

/* OS.cf files may set this for OS-specific input drivers */
d144 1
a144 6
#define OSXInputDrivers /**/
#endif

/* This may be set in host.def for 3rd party input drivers */
#ifndef ExtraXInputDrivers
#define ExtraXInputDrivers /**/
a146 1
/* XInput drivers */
d148 2
a149 2
#define XInputDrivers		mouse keyboard acecad calcomp citron \
				digitaledge dmc dynapro elographics tek4957 \
d151 2
a152 3
				wacom void magellan /* magictouch */ hyperpen \
				jamstudio fpit \
				palmax OSXInputDrivers ExtraXInputDrivers
d160 5
a180 3
#ifndef HasGlide2
#define HasGlide2 NO
#endif
d218 1
a218 1
#ifndef UseMatroxHal
d286 1
a290 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d294 1
a294 1
 * This is mostly for build testing, but the vesa driver references it.
d300 5
a304 1
# define AgpGartDrivers	/**/
a319 6
#  /* Don't build the nsc driver on IA64 */
#  ifndef ia64Architecture
#   define NscDriver		nsc
#  else
#   define NscDriver		/**/
#  endif
d323 4
a326 5
				GlideDriver i128 NscDriver \
				ati i810 AgpGartDrivers DevelDrivers ark \
				cyrix siliconmotion via \
				fbdev vesa vga \
				dummy XF86OSCardDrivers XF86ExtraCardDrivers
d328 4
a331 11

/*
 * DRI drivers under development, or drivers included on this platform
 * only for build testing.
 */
# ifndef DevelDRIDrivers
#  if XFree86Devel
#   define DevelDRIDrivers	ffb
#  else
#   define DevelDRIDrivers	/**/
#  endif
a332 1

d334 1
a334 2
#  define DriDrivers		gamma i810 i830 mga r128 radeon r200 \
				sis tdfx DevelDRIDrivers
d338 1
a338 86
#if defined(AMD64Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif

/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# define AgpGartDrivers	/**/

# define DevelDrivers		/**/

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic tdfx savage cirrus tseng trident \
				chips apm i128 ati ark cyrix siliconmotion \
				vga dummy fbdev vesa
# endif

/* DRI tdfx driver needs Glide, which is not available for AMD64 */
# define TdfxDriDriver		/**/

# define DevelDRIDrivers	/**/

# define DriDrivers		gamma i810 mga r128 radeon r200 \
				TdfxDriDriver DevelDRIDrivers
#endif /*AMD64Arcitecture*/
d340 1
a340 3
/* SPARC and UltraSPARC drivers */

#if  (defined(SparcArchitecture) || defined(Sparc64Architecture)) && \
d343 1
a343 1
    !defined(OpenBSDArchitecture)
d345 1
a345 1
#  define XF86Server		YES
d349 1
a349 1
#  define XF1Bpp		YES
a374 4
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
d381 1
a381 1
#  define XF86XAA		YES
a402 19
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
   /*
    * Some of these are compiled just for the fun of it.  Undoubtedly some
    * require changes (or even removal) for things like endianness, etc.  Move
    * those known to work into the main XF86CardDrivers #define.
    */
#   define DevelDrivers		apm ark chips cirrus i128 i740 i810 imstt \
				neomagic newport nv rendition s3virge savage \
				siliconmotion tga trident vmware dummy
#  else
#   define DevelDrivers		/* */
#  endif
# endif
d407 2
a408 3
				sunbw2 glint mga tdfx ati vesa vga fbdev \
				XF86OSCardDrivers XF86ExtraCardDrivers \
				DevelDrivers
d417 2
a418 1
#if defined(OpenBSDArchitecture) && defined(Sparc64Architecture)
a485 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d507 1
a507 1
/* MIPS drivers */
a569 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d588 2
a589 1
 * DEC Alpha drivers
d647 1
a651 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d664 1
a664 1
				savage nv cirrus DevelDrivers siliconmotion  \
d667 5
d673 1
a673 1
#  define DriDrivers		gamma tdfx mga r128 radeon r200 /*sis*/
d678 2
a679 1
 * Motorola 68k and PowerPC drivers
d681 2
a682 1
#if defined(PpcArchitecture) || defined(Mc68020Architecture)
d742 1
a746 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d758 1
a758 89
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
				trident chips tdfx fbdev \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
# ifndef DriDrivers
#  define DriDrivers		gamma tdfx mga r128 radeon r200
# endif
#endif

/*
 * Intel StrongARM and Hewlett-Packard PA-RISC
 */
#if defined(Arm32Architecture) || defined(HPArchitecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
d769 1
a769 1
#  define DriDrivers		gamma tdfx mga r128 radeon r200
d773 1
d778 1
a778 1
#  define XF86Server		YES
d782 1
a782 1
#  define XF1Bpp		YES
d786 1
a786 1
#  define XF4Bpp		YES
d790 1
a790 1
#  define XF8_32Bpp		YES
d794 1
a794 1
#  define XF8_16Bpp		YES
d798 1
a798 1
#  define XF24_32Bpp		YES
d802 1
a802 1
#  define XFShadowFB		YES
d806 1
a806 1
#  define XF86FBDevHw		YES
d810 1
a810 1
#  define XF86XAA		YES
d814 1
a814 1
#  define XF86Ramdac		YES
d818 1
a818 1
#  define XF86I2C		YES
d822 1
a822 1
#  define XF86DDC		YES
d826 1
a826 1
#  define XF86RAC		YES
d828 1
d831 1
a831 5
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
d835 1
a835 1
#  define XF86CardDrivers		fbdev XF86OSCardDrivers XF86ExtraCardDrivers
d840 1
a840 1
/*
d842 1
a842 1
 * are supported on this platform.
d869 1
a869 1
# define XF86AFB		NO
d872 1
a872 1
# define XF86ILBM		NO
d875 1
a875 1
# define XF86IPLAN2P2		NO
d878 1
a878 1
# define XF86IPLAN2P4		NO
d881 1
a881 1
# define XF86IPLAN2P8		NO
d914 11
d929 1
a929 1
#  define BuildGlxExt	YES
a935 8
#ifndef BuildXF86DRM
#define BuildXF86DRM	NO
#endif

#ifndef GlxUseSGISI
#define GlxUseSGISI	NO
#endif

d939 1
a939 9
#  if defined (BuildServersOnly) && BuildServersOnly
#    define BuildGLXLibrary	NO
#  else
#    define BuildGLXLibrary	YES
#  endif
#endif

#ifndef BuildXF86OldDRMCompat
#  define BuildXF86OldDRMCompat	YES
a946 13

/*
 * The first is a built-in driver that does software rendering client-side
 * and renders to the X server via Xlib.
 */

#  ifndef GlxBuiltInXMesa
#    define GlxBuiltInXMesa         NO
#  endif

/*
 * The rest are hardware-specific DRI drivers.
 */
d950 3
a970 3
#  ifndef GlxBuiltInR200
#    define GlxBuiltInR200         NO
#  endif
d984 1
a984 2
      GlxBuiltInR200 || \
      GlxBuiltInFfb || \
a986 2
#  else
#    define GlxDriverUsesMesa      NO
a995 1
      GlxBuiltInR200 || \
d997 2
a998 1
      GlxBuiltInSIS
a1028 3
#    if GlxBuiltInR200
#      define DriDrivers r200
#    endif
d1053 11
a1063 2
#  if BuildXF86DRI
#    define DRIDefines -DXF86DRI -DGLX_DIRECT_RENDERING DRIDynLoadDefines
d1066 1
a1066 5
#  endif
#  if defined(GlxUseSGISI) && GlxUseSGISI
#    define GlxCoreLibDefines -DGLX_USE_SGI_SI
#  else
#    define GlxCoreLibDefines -DGLX_USE_MESA
d1069 1
a1069 5
#  if defined(SparcArchitecture)  \
   || defined (Sparc64Architecture) \
   || defined(ia64Architecture) \
   || defined(s390xArchitecture) \
   || defined(AMD64Architecture)
d1075 1
a1075 1
/* GLX contains lots of uninitialized globals, which can upset Darwin */
a1094 4
#if !BuildXF86DRI
# define GlxUseBuiltInDRIDriver NO	/* For libOSmesa */
#endif

d1119 11
a1194 3
#ifndef BuildXResLibrary
# define BuildXResLibrary       YES
#endif
d1220 24
d1258 1
a1258 1
 * Build the X Video Extension
a1270 6
/*
 * Build the X-Resource Extension 
 */
#ifndef BuildXResExt
# define BuildXResExt                   YES
#endif
d1355 10
a1368 6
#ifndef SystemV
#define SystemV			NO
#endif
#ifndef SystemV4
#define SystemV4		NO
#endif
d1371 2
a1372 1
    (defined(LinuxArchitecture) && !defined(Mc68020Architecture)) || \
a1415 6
#if BuildXResExt
# define XFree86XResDefines     -DXResExtension
#else
# define XFree86XResDefines     /**/
#endif

a1433 4
#ifndef HasBsdMake
#define HasBsdMake		NO
#endif

d1442 6
d1465 1
d1467 2
a1468 2
				DebugDefines XFree86XResDefines \
				-DX_BYTE_ORDER=$(X_BYTE_ORDER)
a1478 2
# elif defined(FreeBSDArchitecture)
#  define XFree86ConsoleDefines -DSYSCONS_SUPPORT
a1547 1
     XFREE86PDFDOCDIR = $(DOCPDFDIR)
a1569 3
#ifndef HasGcc3
# define HasGcc3 NO
#endif
d1571 1
a1571 1
# define HasGcc2 HasGcc3
a1580 8
# ifndef Gcc28Warnings
#  if (GccMajorVersion > 2) || \
      ((GccMajorVersion == 2) && (GccMinorVersion >= 8))
#   define Gcc28Warnings -Wundef
#  else
#   define Gcc28Warnings /* */
#  endif
# endif
d1585 1
a1585 1
			  -Wredundant-decls -Wnested-externs Gcc28Warnings
d1587 1
a1587 1
#   define GccWarningOptions -Wall -Wpointer-arith Gcc28Warnings
a1603 15
/* Make imake noisier.  Note that this is ineffective for 3.0 <= GCC <= 3.2 */
#ifndef ImakeWarningFlags
# ifdef Gcc28Warnings
#  define ImakeWarningFlags Gcc28Warnings
# else
#  define ImakeWarningFlags /* */
# endif
#endif

#if  (GccMajorVersion == 3) &&  (GccMinorVersion >= 1)
# define GccAliasingArgs      -fno-strict-aliasing
#else
# define GccAliasingArgs      /* */
#endif

d1606 1
a1606 7
#  define DefaultGcc2i386Opt -O2 -fno-strength-reduce GccAliasingArgs
# endif
#endif

#if HasGcc2 && defined(AMD64Architecture)
# ifndef DefaultGcc2AMD64Opt
#  define DefaultGcc2AMD64Opt -O2 -fno-strength-reduce GccAliasingArgs
d1612 1
a1612 1
#  define DefaultGcc2AxpOpt -O2 GccAliasingArgs
d1618 1
a1618 1
#  define DefaultGcc2PpcOpt -O2 GccAliasingArgs
a1625 4
#ifndef DebuggableLibraries
# define DebuggableLibraries NO
#endif

d1636 1
a1636 3
  /* Not exactly precise, but it'll do for now... */
# if HasGcc2 && defined(i386Architecture) && \
     (GccMajorVersion == 2) && (GccMinorVersion > 8)
a1643 3
# ifndef HasX86Support
#  define HasX86Support YES
# endif
d1647 2
a1648 2
# ifndef HasSSESupport
#  define HasSSESupport NO
d1653 1
a1653 4
#elif defined (AMD64Architecture)
# ifndef HasX86Support
#  define HasX86Support NO
# endif
d1657 2
a1658 2
# ifndef HasSSESupport
#  define HasSSESupport NO
a1662 26
#else 
# ifndef HasX86Support
#  define HasX86Support NO
# endif
# ifndef HasMMXSupport
#  define HasMMXSupport NO
# endif
# ifndef HasSSESupport
#  define HasSSESupport NO
# endif
# ifndef Has3DNowSupport
#  define Has3DNowSupport NO
# endif
#endif

#ifndef StaticNeedsPicForShared
# if defined (AMD64Architecture)\
  || defined (AlphaArchitecture) \
  || defined (ia64Architecture) \
  || defined (PpcArchitecture) \
  || defined (SparcArchitecture) \
  || defined (s390xArchitecture) 
#  define StaticNeedsPicForShared YES
# else
#  define StaticNeedsPicForShared NO
# endif
a1664 7
#ifndef XF8_32Wid
# define XF8_32Wid		NO
#endif

#if CrossCompiling
#include <cross.def>
#endif
@


1.1.1.1
log
@Import OpenBSD 3.3 XF4 repository from CTM 3132 the first time
This finalizes starting an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@The X-Windowing System

Import XFree86 4.3 from OpenBSD by CTM, in the hope it's stable
@
text
@d1 1
a1 1
XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.439 2003/02/26 20:07:59 dawes Exp $
a14 1
#include "date.def"
d35 3
a37 5
# ifdef XF86_VERSION_CURRENT
#  define XFree86Version	XF86_VERSION_CURRENT
# else	/* Must be defined for bootstrapping purposes */
#  define XFree86Version	0
# endif
d40 3
a42 4
#if !defined(XFree86VersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
a45 1
# endif
d47 1
a47 9

#if !defined(XFree86ManVersionString) && \
    defined(XF86_VERSION_MAJOR) && defined(XF86_VERSION_MINOR) && \
    defined(XF86_VERSION_PATCH) && defined(XF86_VERSION_SNAP)
# if XF86_VERSION_SNAP == 0
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH | sed -e 's/ /./g' -e 's/^/Version /'`
#else
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH XF86_VERSION_SNAP | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
# endif
d50 3
a52 2
#if !defined(XFree86DateString) && defined(XF86_DATE)
# define XFree86DateString XF86_DATE
a53 3

#ifndef BuildDateCmd
# define BuildDateCmd	date +%Y%m%d
d56 3
a58 2
#if !defined(BuildDate)
# define BuildDate 	`BuildDateCmd`
d70 1
a70 1
#define XVendorManVersionString XFree86ManVersionString
d82 2
a83 6
# if !defined(PatheticCpp) || !PatheticCpp
#  if (XFree86Version % 1000)
#   define XFree86Devel		YES
#  else
#   define XFree86Devel		NO
#  endif
d85 1
a85 1
#  define XFree86Devel		NO	/* Assume the worst */
d137 1
a137 3
 * When this is set, modules are always built separately from the libraries
 * that statically link into an Xserver.  This is for platforms where the
 * module and native object formats are different (e.g., OS/2).
a138 3
#ifndef BuildModuleInSubdir
#define BuildModuleInSubdir	NO
#endif
d140 1
a140 6
#ifndef MakeDllModules
#define MakeDllModules		NO
#endif
#ifndef DoLoadableServer
#define DoLoadableServer	NO
#endif 
d142 1
a142 5
/*
 * Default settings for which X Servers to build.
 */

/* OS.cf files may set this for OS-specific input drivers */
d144 1
a144 6
#define OSXInputDrivers /**/
#endif

/* This may be set in host.def for 3rd party input drivers */
#ifndef ExtraXInputDrivers
#define ExtraXInputDrivers /**/
a146 1
/* XInput drivers */
d148 2
a149 2
#define XInputDrivers		mouse keyboard /* acecad */ calcomp citron \
				digitaledge dmc dynapro elographics tek4957 \
d151 2
a152 3
				wacom void magellan /* magictouch */ hyperpen \
				jamstudio fpit \
				palmax OSXInputDrivers ExtraXInputDrivers
a180 3
#ifndef HasGlide2
#define HasGlide2 NO
#endif
d218 1
a218 1
#ifndef UseMatroxHal
d286 1
a290 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d294 1
a294 1
 * This is mostly for build testing, but the vesa driver references it.
d300 5
a304 1
# define AgpGartDrivers	/**/
d320 1
a320 2
#  ifdef ia64Architecture /* removed nsc driver */
#   define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
d324 3
a326 14
				ati i810 AgpGartDrivers DevelDrivers ark \
				cyrix siliconmotion \
				vesa vga \
				dummy XF86OSCardDrivers XF86ExtraCardDrivers
#  else
#   define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic i740 tdfx savage \
				cirrus vmware tseng trident chips apm \
				GlideDriver fbdev i128 nsc \
				ati i810 AgpGartDrivers DevelDrivers ark \
				cyrix siliconmotion \
				vesa vga \
				dummy XF86OSCardDrivers XF86ExtraCardDrivers
#  endif
d328 4
a331 11

/*
 * DRI drivers under development, or drivers included on this platform
 * only for build testing.
 */
# ifndef DevelDRIDrivers
#  if XFree86Devel
#   define DevelDRIDrivers	ffb
#  else
#   define DevelDRIDrivers	/**/
#  endif
a332 1

d334 1
a334 2
#  define DriDrivers		gamma i810 i830 mga r128 radeon r200 \
				/*sis*/ tdfx DevelDRIDrivers
d338 1
a338 88
#if defined(x86_64Architecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif

/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# define AgpGartDrivers	/**/

# define DevelDrivers		/**/

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
				neomagic tdfx savage cirrus tseng trident \
				chips apm i128 ati ark cyrix siliconmotion \
				vga dummy fbdev vesa
# endif

/* DRI tdfx driver needs Glide, which is not available for x86_64 */
# define TdfxDriDriver		/**/

# define DevelDRIDrivers	/**/

# define DriDrivers		gamma i810 mga r128 radeon r200 \
				TdfxDriDriver DevelDRIDrivers
#endif /*x86_64Arcitecture*/

/* SPARC and UltraSPARC drivers */
d343 1
a343 1
    !defined(OpenBSDArchitecture)
d345 1
a345 1
#  define XF86Server		YES
d349 1
a349 1
#  define XF1Bpp		YES
a374 4
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
d381 1
a381 1
#  define XF86XAA		YES
a402 19
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
   /*
    * Some of these are compiled just for the fun of it.  Undoubtedly some
    * require changes (or even removal) for things like endianness, etc.  Move
    * those known to work into the main XF86CardDrivers #define.
    */
#   define DevelDrivers		apm ark chips cirrus i128 i740 i810 imstt \
				neomagic newport nv rendition s3virge savage \
				siliconmotion tga trident vmware dummy
#  else
#   define DevelDrivers		/* */
#  endif
# endif
d407 2
a408 3
				sunbw2 glint mga tdfx ati vesa vga fbdev \
				XF86OSCardDrivers XF86ExtraCardDrivers \
				DevelDrivers
d417 2
a418 1
#if defined(OpenBSDArchitecture) && defined(Sparc64Architecture)
a485 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d507 1
a507 1
/* MIPS drivers */
a569 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d588 2
a589 1
 * DEC Alpha drivers
d647 1
a651 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
d664 1
a664 1
				savage nv cirrus DevelDrivers siliconmotion  \
d667 5
d673 1
a673 1
#  define DriDrivers		gamma tdfx mga r128 radeon r200 /*sis*/
d678 2
a679 1
 * Motorola 68k and PowerPC drivers
d681 2
a682 1
#if defined(PpcArchitecture) || defined(Mc68020Architecture)
d742 1
a746 4
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif
a762 88
# ifndef DriDrivers
#  define DriDrivers		gamma tdfx mga r128 radeon r200
# endif
#endif

/*
 * Intel StrongARM and Hewlett-Packard PA-RISC
 */
#if defined(Arm32Architecture) || defined(HPArchitecture)
# ifndef XF86Server
#  define XF86Server		YES
# endif
/* 1bpp module */
# ifndef XF1Bpp
#  define XF1Bpp		YES
# endif
/* 4bpp module */
# ifndef XF4Bpp
#  define XF4Bpp		YES
# endif
/* 8/32bpp overlay module */
# ifndef XF8_32Bpp
#  define XF8_32Bpp		YES
# endif
/* 8/16bpp dual fb module */
# ifndef XF8_16Bpp
#  define XF8_16Bpp		YES
# endif
/* 24/32bpp conversion module */
# ifndef XF24_32Bpp
#  define XF24_32Bpp		YES
# endif
/* shadow fb module */
# ifndef XFShadowFB
#  define XFShadowFB		YES
# endif
/* vgahw module */
# ifndef XF86VgaHw
#  define XF86VgaHw		YES
# endif
/* fbdevhw module */
# ifndef XF86FBDevHw
#  define XF86FBDevHw		YES
# endif
/* XAA module */
# ifndef XF86XAA
#  define XF86XAA		YES
# endif
/* ramdac module */
# ifndef XF86Ramdac
#  define XF86Ramdac		YES
# endif
/* I2C module */
# ifndef XF86I2C
#  define XF86I2C		YES
# endif
/* DDC module */
# ifndef XF86DDC
#  define XF86DDC		YES
# endif
/* RAC (Resource Access Control) module */
# ifndef XF86RAC
#  define XF86RAC		YES
# endif
/* int10 module */
# ifndef XF86Int10
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
# endif

# ifndef DevelDrivers
#  if XFree86Devel
#   define DevelDrivers		/* */
#  else
#   define DevelDrivers		/* */
#  endif
# endif

/* Pure PCI drivers should go first */
# ifndef XF86CardDrivers
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
				trident chips tdfx fbdev \
				DevelDrivers vga \
				XF86OSCardDrivers XF86ExtraCardDrivers
# endif
d769 1
a769 1
#  define DriDrivers		gamma tdfx mga r128 radeon r200
d773 1
d778 1
a778 1
#  define XF86Server		YES
d782 1
a782 1
#  define XF1Bpp		YES
d786 1
a786 1
#  define XF4Bpp		YES
d790 1
a790 1
#  define XF8_32Bpp		YES
d794 1
a794 1
#  define XF8_16Bpp		YES
d798 1
a798 1
#  define XF24_32Bpp		YES
d802 1
a802 1
#  define XFShadowFB		YES
d806 1
a806 1
#  define XF86FBDevHw		YES
d810 1
a810 1
#  define XF86XAA		YES
d814 1
a814 1
#  define XF86Ramdac		YES
d818 1
a818 1
#  define XF86I2C		YES
d822 1
a822 1
#  define XF86DDC		YES
d826 1
a826 1
#  define XF86RAC		YES
d828 1
d831 1
a831 5
#  define XF86Int10		YES
# endif
/* vbe module */
# ifndef XF86VBE
#  define XF86VBE		YES
d835 1
a835 1
#  define XF86CardDrivers		fbdev XF86OSCardDrivers XF86ExtraCardDrivers
d840 1
a840 1
/*
d842 1
a842 1
 * are supported on this platform.
d869 1
a869 1
# define XF86AFB		NO
d872 1
a872 1
# define XF86ILBM		NO
d875 1
a875 1
# define XF86IPLAN2P2		NO
d878 1
a878 1
# define XF86IPLAN2P4		NO
d881 1
a881 1
# define XF86IPLAN2P8		NO
d917 1
a917 5
# if XF86Server \
  && !defined(AlphaArchitecture) \
  && !defined(ia64Architecture) \
  && !defined(s390xArchitecture) \
  && !defined (x86_64Architecture)
d929 1
a929 1
#  define BuildGlxExt	YES
a935 12
#ifndef BuildXF86DRM
#define BuildXF86DRM	NO
#endif

#ifndef GlxStubLib
#define GlxStubLib	NO
#endif

#ifndef GlxUseSGISI
#define GlxUseSGISI	NO
#endif

d939 1
a939 5
#  if defined (BuildServersOnly) && BuildServersOnly
#    define BuildGLXLibrary	NO
#  else
#    define BuildGLXLibrary	YES
#  endif
a946 13

/*
 * The first is a built-in driver that does software rendering client-side
 * and renders to the X server via Xlib.
 */

#  ifndef GlxBuiltInXMesa
#    define GlxBuiltInXMesa         NO
#  endif

/*
 * The rest are hardware-specific DRI drivers.
 */
d950 3
a970 3
#  ifndef GlxBuiltInR200
#    define GlxBuiltInR200         NO
#  endif
d984 1
a984 2
      GlxBuiltInR200 || \
      GlxBuiltInFfb || \
a986 2
#  else
#    define GlxDriverUsesMesa      NO
a995 1
      GlxBuiltInR200 || \
d997 2
a998 1
      GlxBuiltInSIS
a1028 3
#    if GlxBuiltInR200
#      define DriDrivers r200
#    endif
d1069 1
a1069 5
#  if defined(SparcArchitecture)  \
   || defined (Sparc64Architecture) \
   || defined(ia64Architecture) \
   || defined(s390xArchitecture) \
   || defined(x86_64Architecture)
a1094 4
#if !BuildXF86DRI
# define GlxUseBuiltInDRIDriver NO	/* For libOSmesa */
#endif

a1194 3
#ifndef BuildXResLibrary
# define BuildXResLibrary       YES
#endif
d1258 1
a1258 1
 * Build the X Video Extension
a1270 6
/*
 * Build the X-Resource Extension 
 */
#ifndef BuildXResExt
# define BuildXResExt                   YES
#endif
d1360 7
a1368 6
#ifndef SystemV
#define SystemV			NO
#endif
#ifndef SystemV4
#define SystemV4		NO
#endif
d1371 2
a1372 1
    (defined(LinuxArchitecture) && !defined(Mc68020Architecture)) || \
a1415 6
#if BuildXResExt
# define XFree86XResDefines     -DXResExtension
#else
# define XFree86XResDefines     /**/
#endif

a1433 4
#ifndef HasBsdMake
#define HasBsdMake		NO
#endif

d1467 1
a1467 1
				DebugDefines XFree86XResDefines \
a1569 3
#ifndef HasGcc3
# define HasGcc3 NO
#endif
d1571 1
a1571 1
# define HasGcc2 HasGcc3
a1580 8
# ifndef Gcc28Warnings
#  if (GccMajorVersion > 2) || \
      ((GccMajorVersion == 2) && (GccMinorVersion >= 8))
#   define Gcc28Warnings -Wundef
#  else
#   define Gcc28Warnings /* */
#  endif
# endif
d1585 1
a1585 1
			  -Wredundant-decls -Wnested-externs Gcc28Warnings
d1587 1
a1587 1
#   define GccWarningOptions -Wall -Wpointer-arith Gcc28Warnings
a1603 13
/* Make imake noisier.  Note that this is ineffective for 3.0 <= GCC <= 3.2 */
#ifndef ImakeWarningFlags
# ifdef Gcc28Warnings
#  define ImakeWarningFlags Gcc28Warnings
# else
#  define ImakeWarningFlags /* */
# endif
#endif

#ifndef GccAliasingArgs
#define GccAliasingArgs /* */
#endif

d1606 1
a1606 7
#  define DefaultGcc2i386Opt -O2 -fno-strength-reduce GccAliasingArgs
# endif
#endif

#if HasGcc2 && defined(x86_64Architecture)
# ifndef DefaultGcc2x86_64Opt
#  define DefaultGcc2x86_64Opt -O2 -fno-strength-reduce GccAliasingArgs
d1612 1
a1612 1
#  define DefaultGcc2AxpOpt -O2 GccAliasingArgs
d1618 1
a1618 1
#  define DefaultGcc2PpcOpt -O2 GccAliasingArgs
a1625 4
#ifndef DebuggableLibraries
# define DebuggableLibraries NO
#endif

d1636 1
a1636 3
  /* Not exactly precise, but it'll do for now... */
# if HasGcc2 && defined(i386Architecture) && \
     (GccMajorVersion == 2) && (GccMinorVersion > 8)
a1642 9
/*
 * Some Linux distributions (like RH 7.0) use glibc 2.1-style setjmp,
 * but have the glibc version set to 2.2.  This can be set it host.def
 * to handle these cases.
 */
#ifndef HasGlibc21Sigsetjmp
#define HasGlibc21Sigsetjmp NO
#endif

a1643 3
# ifndef HasX86Support
#  define HasX86Support YES
# endif
d1647 2
a1648 2
# ifndef HasSSESupport
#  define HasSSESupport NO
d1653 1
a1653 17
#elif defined (x86_64Architecture)
# ifndef HasX86Support
#  define HasX86Support NO
# endif
# ifndef HasMMXSupport
#  define HasMMXSupport NO
# endif
# ifndef HasSSESupport
#  define HasSSESupport NO
# endif
# ifndef Has3DNowSupport
#  define Has3DNowSupport NO
# endif
#else 
# ifndef HasX86Support
#  define HasX86Support NO
# endif
d1657 2
a1658 2
# ifndef HasSSESupport
#  define HasSSESupport NO
a1664 20
#ifndef StaticNeedsPicForShared
# if defined (x86_64Architecture)\
  || defined (AlphaArchitecture) \
  || defined (ia64Architecture) \
  || defined (PpcArchitecture) \
  || defined (SparcArchitecture) \
  || defined (s390xArchitecture) 
#  define StaticNeedsPicForShared YES
# else
#  define StaticNeedsPicForShared NO
# endif
#endif

#ifndef XF8_32Wid
# define XF8_32Wid		NO
#endif

#if CrossCompiling
#include <cross.def>
#endif
@


1.1.1.3
log
@Import OpenBSD XF4 as of CTM delta 370 to prepare sync of the entire base system _before_ the hackathon
@
text
@d57 1
a57 1
#define XFree86ManVersionString `echo XF86_VERSION_MAJOR XF86_VERSION_MINOR XF86_VERSION_PATCH | sed -e 's/ /./g' -e 's/^/Version\\\ /'`
@


1.1.1.4
log
@Import OpenBSD XF4 tree (DRI/DRM userland) from CTM
with new branch and tag spec (openbsd:ctmx-0???)

Can't import src/ports because Wim seems to be on
holidays, and there are no new deltas.
@
text
@a1229 4
#ifndef BuildXF86OldDRMCompat
#  define BuildXF86OldDRMCompat	YES
#endif

@


1.1.1.5
log
@last fix from -current
@
text
@d119 1
a119 1
#define XConfigDir		EtcX11Directory
@


1.1.1.6
log
@Synchronize with OpenBSD 3.4-beta
@
text
@a222 3
#ifndef HasGlide3
#define HasGlide3 NO
#endif
@


1.1.1.7
log
@That's what OpenBSD will, probably, ship as XF4 in 3.5
their last sync against XFree86 4.3-current has been
imported into our vendor branch, too
@
text
@d1 1
a1 1
XCOMM $XFree86: xc/config/cf/xfree86.cf,v 3.467 2004/01/28 01:47:26 dawes Exp $
a74 12
#ifndef ChangelogDateCmd
# define ChangelogDateCmd if tail $(CHANGELOGFILE) | \			@@@@\
	fgrep '$$XFree86:' >/dev/null 2>&1; then \			@@@@\
	  tail $(CHANGELOGFILE) | fgrep '$$XFree86:' | \		@@@@\
	  sed s,'.* \([0-9][0-9]*\)/\([0-9][0-9]*\)/\([0-9][0-9]*\).*,\1\2\3,'; \ @@@@\
	else echo 0; fi
#endif

#if !defined(ChangelogDate)
# define ChangelogDate	`ChangelogDateCmd`
#endif

d186 1
a186 1
#define XInputDrivers		mouse keyboard acecad calcomp citron \
d364 9
a372 3
#  /* Don't build the nsc driver on IA64 */
#  ifndef ia64Architecture
#   define NscDriver		nsc
d374 1
a374 3
#   define NscDriver		/**/
#  endif
#  define XF86CardDrivers	mga glint nv tga s3 s3virge sis rendition \
d377 1
a377 1
				GlideDriver i128 NscDriver \
d379 2
a380 2
				cyrix siliconmotion via \
				fbdev vesa vga \
d382 1
d399 1
a399 1
				sis tdfx DevelDRIDrivers
d403 1
a403 1
#if defined(AMD64Architecture)
a406 3
# ifndef XF86AFB
#  define XF86AFB		!DoLoadableServer
# endif
d481 1
a481 1
/* DRI tdfx driver needs Glide, which is not available for AMD64 */
d488 1
a488 1
#endif /*AMD64Arcitecture*/
d492 1
a492 1
#if  (defined(SparcArchitecture) || defined(Sparc64Architecture)) && \
d939 1
a939 1
#  define XF86CardDrivers	ati mga glint nv s3 s3virge sis savage\
d1185 15
d1215 4
d1367 11
a1377 2
#  if BuildXF86DRI
#    define DRIDefines -DXF86DRI -DGLX_DIRECT_RENDERING DRIDynLoadDefines
d1380 1
a1380 5
#  endif
#  if defined(GlxUseSGISI) && GlxUseSGISI
#    define GlxCoreLibDefines -DGLX_USE_SGI_SI
#  else
#    define GlxCoreLibDefines -DGLX_USE_MESA
d1387 1
a1387 1
   || defined(AMD64Architecture)
d1393 1
a1393 1
/* GLX contains lots of uninitialized globals, which can upset Darwin */
d1441 11
d1545 24
d1686 3
d1781 6
d1804 1
d1807 1
a1807 1
				-DX_BYTE_ORDER=$(X_BYTE_ORDER)
a1817 2
# elif defined(FreeBSDArchitecture)
#  define XFree86ConsoleDefines -DSYSCONS_SUPPORT
a1886 1
     XFREE86PDFDOCDIR = $(DOCPDFDIR)
d1963 2
a1964 4
#if  (GccMajorVersion == 3) &&  (GccMinorVersion >= 1)
# define GccAliasingArgs      -fno-strict-aliasing
#else
# define GccAliasingArgs      /* */
d1973 3
a1975 3
#if HasGcc2 && defined(AMD64Architecture)
# ifndef DefaultGcc2AMD64Opt
#  define DefaultGcc2AMD64Opt -O2 -fno-strength-reduce GccAliasingArgs
d2018 9
d2040 1
a2040 1
#elif defined (AMD64Architecture)
d2069 1
a2069 1
# if defined (AMD64Architecture)\
@


1.1.1.8
log
@Import OpenBSD X-Window subsystem (based upon XFree86 4.4RC2)
into vendor branch
@
text
@d1879 1
a1879 2
			  -Wredundant-decls -Wnested-externs -Wbounded \
			  Gcc28Warnings
@


1.1.1.9
log
@sync with openbsd, for bugfixes and build optimisation
@
text
@d211 5
d1771 2
a1772 2
#ifndef HasLibUsbHid
# define HasLibUsbHid	NO
@


