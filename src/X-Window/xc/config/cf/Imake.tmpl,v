head	1.1;
branch	1.1.1;
access;
symbols
	tg-mergetmp-2:1.1.1.3
	cvs-200410241530:1.1.1.3
	cvs-200410012000:1.1.1.3
	cvs-200407141120:1.1.1.3
	cvs-200406231010:1.1.1.3
	MIRBSD_7quater:1.1.1.2
	cvs-200405271510:1.1.1.3
	XFree86_4_4_0:1.1.9.1
	cvs-200403021700:1.1.1.3
	XFREE86_20040213:1.1.9.1
	xc:1.1.9
	cvs-200401291925:1.1.1.2
	MIRBSD_7_ALPHA:1.1.1.2.0.4
	MIRBSD_7:1.1.1.2.0.2
	MIRBSD_7ter:1.1.1.2
	cvs-20011091815:1.1.1.2
	cvs-200309162130:1.1.1.2
	cvs-200308302005:1.1.1.2
	ctmx-0388:1.1.1.2
	cvs-200307072234:1.1.1.2
	ctmx-0387:1.1.1.2
	ctmx-0384:1.1.1.2
	MIRBSD_5:1.1.1.2
	ctmx-0375:1.1.1.2
	ctmx-0373:1.1.1.2
	ctm-0371:1.1.1.2
	ctm-0370:1.1.1.2
	MIRBSD_4:1.1.1.2
	ctm-0363:1.1.1.2
	ctm-0359:1.1.1.2
	ctm-0349:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2003.03.22.19.59.28;	author tg;	state Exp;
branches
	1.1.1.1
	1.1.9.1;
next	;

1.1.1.1
date	2003.03.22.19.59.28;	author tg;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.04.08.18.17.19;	author tg;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2004.03.02.17.20.23;	author tg;	state Stab;
branches;
next	;

1.1.9.1
date	2004.02.14.19.01.35;	author tg;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@XCOMM ----------------------------------------------------------------------
XCOMM Makefile generated from IMAKE_TEMPLATE and INCLUDE_IMAKEFILE
XCOMM $Xorg: Imake.tmpl,v 1.4 2000/08/17 19:41:46 cpqbld Exp $
XCOMM
XCOMM
XCOMM
XCOMM
XCOMM $XFree86: xc/config/cf/Imake.tmpl,v 3.116.2.1 2002/09/04 02:38:08 dawes Exp $
XCOMM ----------------------------------------------------------------------

/*
 * generic imake template
 */

/*
 * Modify Imake.cf when adding a new architecture, do not modify this file.
 * Platform-specific parameters may be set in the appropriate <vendor>.cf
 * configuration files.  Site-specific parameters should be set in the file
 * site.def.  Full rebuilds are recommended if any parameters are changed.
 * If your C preprocessor does not define any unique symbols, you will need
 * to set BOOTSTRAPCFLAGS when rebuilding imake (usually when doing
 * "make World" the first time).
 */

#define ImakeConfigRelease 6

#define	YES	1
#define NO	0

/* Ensure that "all" is the default target in the Makefile. */
all::

.SUFFIXES: .i

/* Intercept clean rules for current directory */
#undef clean
#define clean cleandir

#include <Imake.cf>

XCOMM -----------------------------------------------------------------------
XCOMM site-specific configuration parameters that need to come before
XCOMM the platform-specific parameters - edit site.def to change
#define BeforeVendorCF
#include <site.def>
#undef BeforeVendorCF

#if defined(HasGcc2) && !defined(HasGcc)
# define HasGcc HasGcc2
#endif

#ifndef HasClearmake
# define HasClearmake NO
#endif

/*
 * ClearmakeOSName - insert the current OS type into the clearmake
 * build script, so .o files from different platforms cannot be winked in.
 * If clearmake finds the build script for two .o files is the same, it
 * will share the .o, even across different architectures.  Inserting the
 * O/S name into the build script in a comment prevents unwanted sharing.
 * Note the trailing double-@@ in the macro: end a line using this macro
 * with backslash without the double-@@ usually used.
 * Like this:
 *
 * #define SomeRule() @@@@\
 *     something or other @@@@\
 *     ClearmakeOSName \
 *     something else @@@@\
 *     and more
 */
#ifndef ClearmakeOSName
# if HasClearmake
#  define ClearmakeOSName @@ XCOMM $(OSNAME) @@@@
# else
#  define ClearmakeOSName /**/
# endif
#endif

#if HasClearmake
# ifndef MakeCmd
#  define MakeCmd clearmake
# endif
#endif

#if HasClearmake
XCOMM ----------------------------------------------------------------------
.c.o:
	ClearmakeOSName	$(CC) -c $(CFLAGS) $*.c
#endif

XCOMM ----------------------------------------------------------------------
XCOMM platform-specific configuration parameters - edit MacroFile to change
#include MacroIncludeFile

XCOMM ----------------------------------------------------------------------
XCOMM site-specific configuration parameters that go after
XCOMM the platform-specific parameters - edit site.def to change
#define AfterVendorCF
#include <site.def>
#undef AfterVendorCF

/*
 * defaults for various generic parameters; set in site.def if needed
 */

/* the following are needed before we can include Imake.rules */

#ifndef NothingOutsideProjectRoot
#define NothingOutsideProjectRoot NO
#endif

#ifndef HasVarDirectory
#define HasVarDirectory		YES
#endif
#ifndef UseEtcX11
#define UseEtcX11		YES
#endif
#if NothingOutsideProjectRoot
#undef UseEtcX11
#define UseEtcX11		NO
#endif
#ifndef UseSeparateConfDir
#define UseSeparateConfDir	(UseEtcX11 || HasVarDirectory)
#endif
#if NothingOutsideProjectRoot
#undef UseSeparateConfDir
#define UseSeparateConfDir	NO
#endif
#ifndef SystemV
#define SystemV			NO	/* SYSV (R3) */
#endif
#ifndef SystemV4
#define SystemV4		NO	/* SVR4 */
#endif
#ifndef HasCodeCenter
#define HasCodeCenter		NO
#endif
#ifndef HasSentinel
#define HasSentinel		NO
#endif
#ifndef HasPurify
#define HasPurify		NO
#endif
#ifndef HasTestCenter
#define HasTestCenter		NO
#endif
#ifndef HasGnuMake
#define HasGnuMake		NO
#endif
/*
 * The following fixes a glitch with GNU make -j
 */
#ifndef ForceServerRemake
#define ForceServerRemake	HasGnuMake
#endif
#ifndef HasBsdMake
#define HasBsdMake		NO
#endif
#ifndef HasParallelMake
#define HasParallelMake		NO
#endif
#ifndef RemoveTargetProgramByMoving
#define RemoveTargetProgramByMoving NO
#endif
#ifndef DoRanlibCmd
#if SystemV || SystemV4
#define DoRanlibCmd NO
#else
#define DoRanlibCmd YES
#endif
#endif
#ifndef ExecableScripts
#if SystemV
#define ExecableScripts		NO
#else
#define ExecableScripts		YES	/* kernel exec() can handle #! */
#endif
#endif

#ifndef HasMakefileSafeInclude	    /* -include or sinclude in a Makefile */
#if HasClearmake || HasBsdMake
#define HasMakefileSafeInclude	YES
#else
#define HasMakefileSafeInclude	NO   /* see also vendor-specific .cf files */
#endif
#endif

#ifndef HasSymLinks
#define HasSymLinks YES
#endif

#ifndef HasPerl
#define HasPerl			YES
#endif

#ifndef HasPerl5
#define HasPerl5		HasPerl
#endif

#ifndef PerlCmd
#define PerlCmd			perl
#endif

#ifndef PerlOptions
#define PerlOptions		/**/
#endif

#ifndef BuildRman
#define BuildRman YES
#endif

#ifndef HasGperf
#define HasGperf		NO
#endif

#ifndef GperfCmd
#define GperfCmd		gperf
#endif

#ifndef RmanCmd
#if BuildRman
#ifdef UseInstalled		/* assume BINDIR in path */
#define RmanCmd rman
#else
#define RmanCmd $(TOP)/config/util/rman
#endif
#endif
#endif

#ifndef RmanOptions
#if BuildRman
#define RmanOptions -f HTML
#endif
#endif

#ifndef BuildHtmlManPages
#ifdef RmanCmd
#define BuildHtmlManPages YES
#else
#define BuildHtmlManPages NO
#endif
#endif
/* Can't do this while bootstrapping imake */
#ifdef BootStrap
#undef BuildHtmlManPages
#define BuildHtmlManPages NO
#endif

#ifndef DontPreprocessManPages
#ifdef UseInstalled
#define DontPreprocessManPages YES
#else
#define DontPreprocessManPages NO
#endif
#endif

#ifndef HasGroff
#define HasGroff NO
#endif

#ifndef HasCookieMaker
#define HasCookieMaker	NO
#endif

#include <Imake.rules>

#ifndef HasSharedLibraries
#define HasSharedLibraries NO
#endif
#ifndef OSMajorVersion
#define OSMajorVersion          0
#endif
#ifndef OSMinorVersion
#define OSMinorVersion          0
#endif
#ifndef OSTeenyVersion
#define OSTeenyVersion		0
#endif
#ifndef UnalignedReferencesAllowed
#define UnalignedReferencesAllowed NO	/* if arbitrary deref is okay */
#endif
#ifndef AvoidNullMakeCommand
#if !HasBsdMake
#define AvoidNullMakeCommand NO
#else
#define AvoidNullMakeCommand YES
#endif
#endif
#if AvoidNullMakeCommand
#ifndef NullMakeCommand
#define NullMakeCommand		@@ echo -n
#endif
/*
 * An obscure bug in BSD4.3's original make causes it not to recognize a
 * macro definition if the macro name starts with a non-alpha and in
 * column one.
 */
 _NULLCMD_ = NullMakeCommand
#endif

#ifndef CrossCompiling
#define CrossCompiling		NO
#endif
#ifndef BourneShell			/* to force shell in makefile */
#define BourneShell		/bin/sh
#endif
#ifndef ConstructMFLAGS
#if SystemV
#define ConstructMFLAGS		YES	/* build MFLAGS from MAKEFLAGS */
#else
#define ConstructMFLAGS		NO	/* build MFLAGS from MAKEFLAGS */
#endif
#endif

#ifndef ConstructMAKEFLAGS		/* needed on old BSD-based? */
#define ConstructMAKEFLAGS	NO	/* build MAKEFLAGS from MFLAGS */
#endif

#ifndef HasLargeTmp
#define HasLargeTmp		NO	/* be paranoid */
#endif

#ifndef HasBSD44Sockets
#define HasBSD44Sockets		NO
#endif
#ifndef HasSockets
#define HasSockets		YES
#endif
#ifndef HasStreams
#define HasStreams		!HasSockets
#endif
#ifndef HasDECnet
#define HasDECnet		NO
#endif
#ifndef HasPoll
#if SystemV || SystemV4
#define HasPoll			YES
#else
#define HasPoll			NO
#endif
#endif
#ifndef HasVFork
#if SystemV
#define HasVFork		NO	/* not yet... */
#else
#define HasVFork		YES
#endif
#endif
#ifndef HasSetProcTitle
#define HasSetProcTitle		NO
#endif
#ifndef HasSetUserContext
#define HasSetUserContext	NO
#endif
#ifndef HasLibCrypt
#define HasLibCrypt		NO
#endif
#ifndef HasPutenv
#define HasPutenv		NO	/* assume not */
#endif
#ifndef HasVoidSignalReturn
#define HasVoidSignalReturn	YES	/* assume yes */
#endif
#ifndef HasBsearch
#define HasBsearch		YES	/* assume yes */
#endif
#ifndef HasSnprintf
#define HasSnprintf		NO	/* assume not */
#endif
#ifndef HasDlopen
#define HasDlopen		NO	/* assume not */
#endif
#ifndef HasIssetugid
#define HasIssetugid		NO	/* assume not */
#endif
#ifndef HasGetresuid
#define HasGetresuid		NO	/* assume not */
#endif
#ifndef HasMkstemp
#define HasMkstemp		NO	/* assume not */
#endif
#ifndef HasUsableFileMmap
#define HasUsableFileMmap	NO	/* assume not */
#endif
#ifndef HasGetIfAddrs
#define HasGetIfAddrs		NO	/* assume not */
#endif
#ifndef HasStickyDirBit
#define HasStickyDirBit		YES
#endif
#ifndef HasFchown
#define HasFchown		YES
#endif
#ifndef HasPam
#define HasPam			NO
#endif
#ifndef HasPamMisc
#define HasPamMisc		NO
#endif
/* byte-order defaults */
#ifndef ByteOrder
#if defined(VaxArchitecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(MipsArchitecture) && defined(MipselArchitecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(MipsArchitecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(i386Architecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(ia64Architecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(SparcArchitecture) || defined(Sparc64Architecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(AlphaArchitecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(Mc68000Architecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(Mc68020Architecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(Mc88000Architecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(s390Architecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(s390xArchitecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(Arm32Architecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(PpcArchitecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(HPArchitecture)
#define ByteOrder		X_BIG_ENDIAN
#elif defined(SuperHArchitecture)
#define ByteOrder		X_LITTLE_ENDIAN
#elif defined(SuperHebArchitecture)
#define ByteOrder		X_BIG_ENDIAN
#endif
#endif /* ByteOrder */
#ifndef HasFortran
#define HasFortran		NO
#endif
#ifndef HasCplusplus
#if HasGcc2ForCplusplus
#define HasCplusplus		YES
#else
#define HasCplusplus		NO
#endif
#endif
#ifndef HasMktemp
#define HasMktemp		NO	/* if you have the mktemp command */
#endif
#ifndef HasNdbm
#define HasNdbm			NO
#endif
#ifndef HasSecureRPC
#define HasSecureRPC		NO	/* if you have Secure RPC */
#endif
#ifndef HasKrbIV
#define HasKrbIV		NO	/* if you have Kerberos IV */
#endif
#ifndef HasKrb5
#define HasKrb5			NO      /* if you have Kerberos V5 */
#endif
#ifndef HasLatex
#define HasLatex		NO
#endif
#ifndef HasShm
#if SystemV || SystemV4
#define HasShm			YES
#else
#define HasShm			NO
#endif
#endif
#ifndef HasCbrt
#define HasCbrt			YES
#endif
#ifndef HasFfs
#define HasFfs			YES
#endif
#ifndef HasZlib
#define HasZlib			NO
#endif
#ifndef OsNeedZlibHeaders
#define OsNeedZlibHeaders	!HasZlib
#endif
#if !HasZlib		/* if OS doesn't have it, we'll build it */
#undef GzipLibrary	/* GzipLibrary was valid only if HasZlib */
#endif
#ifndef GzipLibrary	/* if OS config didn't define it, assume it's -lz */
#define GzipLibrary -lz
#endif
/* If the system has the Freetype2 library */
#ifndef HasFreetype2
#define HasFreetype2		NO
#endif
#if HasLibDes
#ifndef DesLibrary
#define DesLibrary 	-ldes
#endif
#endif
#if HasKrbIV
#ifndef KrbIVIncludes
#define KrbIVIncludes /**/
#endif
#ifndef KrbIVLibraries
#define KrbIVLibraries -lkrb -ldes
#endif
#endif
#if HasKrb5
#ifndef Krb5Includes
#define Krb5Includes -I/krb5/include
#endif
#ifndef Krb5Libraries
#define Krb5Libraries -L/krb5/lib -L/usr/isode/lib -lkrb5 -lcrypto -lisode -lcom_err -ldbm
#endif
#else
#undef Krb5Includes
#define Krb5Includes /**/
#undef Krb5Libraries
#define Krb5Libraries /**/
#endif
#ifndef UseGnuMalloc
#define UseGnuMalloc		NO
#endif
#ifndef GnuMallocLibrary
#define GnuMallocLibrary -lgmalloc
#endif
#ifndef MallocLibraries
#if UseGnuMalloc
#define MallocLibraries	GnuMallocLibrary
#else
#define MallocLibraries	/**/
#endif
#endif
#ifndef HasPosixRegex		/* Most modern platforms have it */
#define HasPosixRegex		YES
#endif
#ifndef RegexLibrary
#if HasPosixRegex
#define RegexLibrary		/**/
#else
#define RegexLibrary		-lregex
#endif
#endif
#ifndef HasNCurses
#define HasNCurses		NO
#endif
#ifndef NCursesLibName
#if HasNCurses
#define NCursesLibName	-lncurses
#else
#define NCursesLibName
#endif
#endif
#ifdef NCursesLibDir
NCURSESLIBDIR = NCursesLibDir
#endif
#ifdef NCursesIncDir
NCURSESINCDIR = NCursesIncDir
#endif
#ifndef HasGlide2
#define HasGlide2 NO
#endif
#ifndef Glide2IncDir
#if HasGlide2
#define Glide2IncDir /usr/include/glide
#else
#define Glide2IncDir
#endif
#endif
GLIDE2INCDIR = Glide2IncDir
#ifndef HasGlide3
#define HasGlide3 NO
#endif
#ifndef Glide3IncDir
#if HasGlide3
#define Glide3IncDir /usr/include/glide3
#else
#define Glide3IncDir
#endif
#endif
GLIDE3INCDIR = Glide3IncDir
#ifndef Glide3LibName
#if HasGlide3
#define Glide3LibName glide3
#else
#define Glide3LibName
#endif
#endif
GLIDE3LIBNAME = Glide3LibName
#ifndef HasTk
#define HasTk NO
#endif
#ifndef TkLibName
#if HasTk
#define TkLibName tk
#else
#define TkLibName
#endif
#endif
TKLIBNAME = TkLibName
#ifndef TkLibDir
#if HasTk
#define TkLibDir /usr/local/lib
#else
#define TkLibDir
#endif
#endif
TKLIBDIR = TkLibDir
#ifndef TkIncDir
#if HasTk
#define TkIncDir /usr/local/include
#else
#define TkIncDir
#endif
#endif
#ifndef TkLibrary
#ifdef HasTk
#define TkLibrary Concat(-L,$(TKLIBDIR)) Concat(-l,$(TKLIBNAME))
#else
#define TkLibrary
#endif
#endif
#ifndef HasTcl
#define HasTcl NO
#endif
#ifndef TclLibName
#if HasTcl
#define TclLibName tcl
#else
#define TclLibName
#endif
#endif
TCLLIBNAME = TclLibName
#ifndef TclLibDir
#if HasTcl
#define TclLibDir /usr/local/lib
#else
#define TclLibDir
#endif
#endif
TCLIBDIR = TclLibDir
#ifndef TclIncDir
#if HasTcl
#define TclIncDir /usr/local/include
#else
#define TclIncDir
#endif
#endif
#ifndef TclLibrary
#ifdef HasTcl
#define TclLibrary Concat(-L,$(TCLLIBDIR)) Concat(-l,$(TCLLIBNAME))
#else
#define TclLibrary
#endif
#endif
/*
 * Libtool has two different behaviours for version numbers.
 * On platforms which support a minor number, the library
 * version is (version - minor).minor, on those that don't,
 * the version if version.0.  Linux and Darwin support minor
 * numbers; some BSDs do as well.  Set this to YES if libtool
 * uses minor numbers on your platform.
 */
#ifndef LibtoolMinorVersions
#define LibtoolMinorVersions	NO
#endif
#ifndef NeedConstPrototypes
#define NeedConstPrototypes	NO
#endif
#ifndef NeedVarargsPrototypes
#define NeedVarargsPrototypes	NO
#endif
#ifndef NeedNestedPrototypes
#define NeedNestedPrototypes	NO
#endif
#ifndef NeedFunctionPrototypes
#define NeedFunctionPrototypes (NeedVarargsPrototypes || NeedNestedPrototypes)
#endif
#ifndef NeedWidePrototypes
#define NeedWidePrototypes	YES	/* mix and match ANSI-C, non-ANSI */
#endif

#ifndef StripInstalledPrograms
#define StripInstalledPrograms NO	/* leave symbol table just in case */
#endif
#ifndef UseCCMakeDepend			/* use slow cc -E script */
#define UseCCMakeDepend NO
#endif
#ifndef UseGccMakeDepend		/* use slowish but correct gcc -M */
#define UseGccMakeDepend NO
#endif

#ifndef CaseSensitiveFileSystem
#define CaseSensitiveFileSystem YES
#endif

/* DefaultUsrBin is independent of ProjectRoot.
   This is a directory where programs will be found even if PATH
   is not set, for example when coming in remotely via rsh. */
#ifndef DefaultUsrBin
#define	DefaultUsrBin /usr/bin
#endif

#ifndef UsrLibDir
#ifdef ProjectRoot
#define UsrLibDir Concat(ProjectRoot,/lib)
#ifndef AlternateUsrLibDir
#define AlternateUsrLibDir YES
#endif
#else
#define UsrLibDir /usr/lib
#ifndef AlternateUsrLibDir
#define AlternateUsrLibDir NO
#endif
#endif
#else
#ifndef AlternateUsrLibDir
#define AlternateUsrLibDir YES
#endif
#endif
#ifndef VarDirectory
#ifdef ProjectVar
#define VarDirectory ProjectVar
#else
#define VarDirectory /var
#endif
#endif
#ifndef VarLibDir
#define VarLibDir $(VARDIR)/lib
#endif

/*
 * SystemUsrLibDir is independent of ProjectRoot.  It is used primarily
 * to allow links for shared libraries in /usr/lib for compliance to
 * various standards (e.g., Linux/OpenGL).
 */
#ifndef SystemUsrLibDir
#define SystemUsrLibDir /usr/lib
#endif
#ifndef SystemUsrIncDir
#define SystemUsrIncDir /usr/include
#endif

#ifndef ShLibDir
#define ShLibDir UsrLibDir
#endif
#ifndef IncRoot
#ifdef ProjectRoot
#define IncRoot Concat(ProjectRoot,/include)
#ifndef AlternateIncRoot
#define AlternateIncRoot YES
#endif
#else
#define IncRoot /usr/include
#ifndef AlternateIncRoot
#define AlternateIncRoot NO
#endif
#endif
#else
#ifndef AlternateIncRoot
#define AlternateIncRoot YES
#endif
#endif
#ifndef LintlibDir
#define LintlibDir $(USRLIBDIR)/lint
#endif
#ifndef SystemManDirectory
#if SystemV4
#define SystemManDirectory /usr/share/man
#else
#define SystemManDirectory /usr/man
#endif
#endif
#ifndef ManDirectoryRoot
#ifdef ProjectRoot
#define ManDirectoryRoot Concat(ProjectRoot,/man)
#else
#define ManDirectoryRoot SystemManDirectory
#endif
#endif
#ifndef ManPath
#define ManPath ManDirectoryRoot
#endif
#ifndef ManSourcePath
#define ManSourcePath $(MANPATH)/man
#endif
#ifndef ManDir
#define ManDir $(MANSOURCEPATH)$(MANSUFFIX)
#endif
#ifndef LibmanDir
#define LibmanDir $(MANSOURCEPATH)$(LIBMANSUFFIX)
#endif
#ifndef FileManDir
#define FileManDir $(MANSOURCEPATH)$(FILEMANSUFFIX)
#endif
#ifndef MiscManDir
#define MiscManDir $(MANSOURCEPATH)$(MISCMANSUFFIX)
#endif
#ifndef DriverManDir
#define DriverManDir $(MANSOURCEPATH)$(DRIVERMANSUFFIX)
#endif
#ifndef AppLoadDefs
#define AppLoadDefs -D__apploaddir__=$(XAPPLOADDIR)
#endif
#ifndef FileManDefs
#define FileManDefs -D__filemansuffix__=$(FILEMANSUFFIX)
#endif
#ifndef MiscManDefs
#define MiscManDefs -D__miscmansuffix__=$(MISCMANSUFFIX)
#endif
#ifndef DriverManDefs
#define DriverManDefs -D__drivermansuffix__=$(DRIVERMANSUFFIX)
#endif
#ifndef ProjectManDefs
#define ProjectManDefs -D__projectroot__=$(PROJECTROOT)
#endif


#ifndef CompressManPages
#define CompressManPages NO
#endif

#ifndef CompressManCmd
#define CompressManCmd gzip -n
#endif

#ifndef HtmlIndexCmd
#if BuildHtmlManPages
#define HtmlIndexCmd $(MKHTMLINDEX)
#endif
#endif

#ifndef LogDirectory
#if HasVarDirectory
#define LogDirectory $(VARDIR)/log
#else
#define LogDirectory /usr/adm
#endif
#endif

#ifndef HasVarRun
#define HasVarRun NO
#endif

#ifndef VarRunDirectory
#if HasVarRun
#define VarRunDirectory $(VARDIR)/run
#endif
#endif

#ifndef HasVarDb
#define HasVarDb NO
#endif

#ifndef VarDbDirectory
#if HasVarDb
#define VarDbDirectory $(VARDIR)/db
#endif
#endif

#ifndef ConfigSrc
#define ConfigSrc $(TOP)/config
#endif
#ifndef DependDir
#if UseCCMakeDepend || UseGccMakeDepend
#define DependDir $(CONFIGSRC)/util
#else
#define DependDir $(CONFIGSRC)/makedepend
#endif
#endif
#ifndef UNCOMPRESSPATH
#define UNCOMPRESSPATH /usr/ucb/uncompress /* obsolete */
#endif
#ifndef OptimizedCDebugFlags
#define OptimizedCDebugFlags -O
#endif
#ifndef OptimizedCplusplusDebugFlags
#define OptimizedCplusplusDebugFlags OptimizedCDebugFlags
#endif
#ifndef DebuggableCDebugFlags
#define DebuggableCDebugFlags -g
#endif
#ifndef DebuggableCplusplusDebugFlags
#define DebuggableCplusplusDebugFlags DebuggableCDebugFlags
#endif
#ifndef ProfiledCDebugFlags
#define ProfiledCDebugFlags -pg
#endif
#ifndef ProfiledCplusplusDebugFlags
#define ProfiledCplusplusDebugFlags ProfiledCDebugFlags
#endif
#ifndef NoOpCDebugFlags
#define NoOpCDebugFlags /**/
#endif
#ifndef DefaultCDebugFlags
#define DefaultCDebugFlags OptimizedCDebugFlags
#endif
#ifndef DefaultCplusplusDebugFlags
#define DefaultCplusplusDebugFlags OptimizedCplusplusDebugFlags
#endif
#ifndef DefaultCCOptions
#define DefaultCCOptions /* floating point, etc. */
#endif
#ifndef DefaultCplusplusOptions
#define DefaultCplusplusOptions /* floating point, etc. */
#endif
#ifndef NoRConst
#define NoRConst NO /* YES if const for structs of funcs is bad */
#endif
#ifndef InstPgmFlags
#define InstPgmFlags -s
#endif
#ifndef InstBinFlags
#define InstBinFlags -m 0755
#endif
#ifndef InstUidFlags
#define InstUidFlags -m 4711
#endif
#ifndef InstLibFlags
#define InstLibFlags -m 0644
#endif
#ifndef InstIncFlags
#define InstIncFlags -m 0444
#endif
#ifndef InstManFlags
#define InstManFlags -m 0444
#endif
#ifndef InstDatFlags
#define InstDatFlags -m 0444
#endif
#ifndef InstKmemFlags     /* put -g kmem -m 2711 in site.def... */
#define InstKmemFlags InstUidFlags
#endif
#ifndef ParallelMakeFlags
#define ParallelMakeFlags /**/
#endif
#ifndef ArCmdBase
#define ArCmdBase ar
#endif
#ifndef ArCmd
#if HasLargeTmp || SystemV4
#define ArCmd ArCmdBase cq
#else
#define ArCmd ArCmdBase clq
#endif
#endif
#ifndef ArAddCmd
#if HasLargeTmp || SystemV4
#define ArAddCmd ArCmdBase ru
#else
#define ArAddCmd ArCmdBase rul
#endif
#endif
#ifndef ArExtCmd
#if HasLargeTmp || SystemV4
#define ArExtCmd ArCmdBase x
#else
#define ArExtCmd ArCmdBase xl
#endif
#endif
#ifndef BootstrapCFlags
#define BootstrapCFlags /**/
#endif
#ifndef HasGcc2
#define HasGcc2 NO
#endif
#ifndef HasGcc
#define HasGcc HasGcc2
#endif
#ifndef HasGcc2ForCplusplus
#define HasGcc2ForCplusplus NO
#endif
#ifndef HasBrokenCCForLink
#define HasBrokenCCForLink NO
#endif
#ifndef HasCenterLineC
#define HasCenterLineC NO
#endif
#ifndef HasCenterLineCplusplus
#define HasCenterLineCplusplus NO
#endif
#ifndef CcCmd
#if HasGcc2
#define CcCmd gcc -fpcc-struct-return 
#else
#if HasGcc
#define CcCmd gcc -fstrength-reduce -fpcc-struct-return 
#else
#if HasCenterLineC
#define CcCmd clcc
#else
#define CcCmd cc
#endif
#endif
#endif
#endif
#ifndef CplusplusCmd
#if HasGcc2ForCplusplus
#define CplusplusCmd g++
#else
#define CplusplusCmd CC
#endif
#endif
#ifndef CplusplusFilt
# define CplusplusFilt	c++filt
#endif
#ifndef CplusplusLibC
#define CplusplusLibC /**/
#endif
#ifndef CplusplusStandardDefines
#define CplusplusStandardDefines StandardDefines
#endif
#ifndef CplusplusExtraDefines
#define CplusplusExtraDefines /**/
#endif
#ifndef CplusplusExtraIncludes
#define CplusplusExtraIncludes /**/
#endif
#ifndef CplusplusDependIncludes
#define CplusplusDependIncludes /**/
#endif
#ifndef CplusplusOptions
#define CplusplusOptions /**/
#endif
#ifndef CplusplusSpecialOptions
#define CplusplusSpecialOptions /**/
#endif
#if HasFortran
#ifndef FortranCmd
#define FortranCmd f77
#endif
#ifndef FortranFlags
#define FortranFlags /**/
#endif
#ifndef FortranDebugFlags	/* for -O or -g */
#define FortranDebugFlags /**/
#endif
#endif
#ifndef AsCmd
#define AsCmd as
#endif
#ifndef AsmDefines
#define AsmDefines /**/
#endif
#ifndef CompressCmd
#define CompressCmd compress
#endif
#ifndef GzipCmd
#define GzipCmd gzip
#endif
#ifndef CppCmd
#define CppCmd /lib/cpp
#endif
#ifndef RawCppCmd
#define RawCppCmd CppCmd -undef
#endif
#ifndef CppNoLineInfoOption
#define CppNoLineInfoOption /**/
#endif
#ifndef PreProcessCmd
#define PreProcessCmd CcCmd -E
#endif
#ifndef InstallCmd		/* hack should be in project */
#if SystemV || SystemV4
#ifdef UseInstalled		/* assume BINDIR in path */
#define InstallCmd bsdinst
#else
#define InstallCmd $(SHELL) $(CONFIGSRC)/util/bsdinst.sh
#endif
#else
#define InstallCmd install
#endif
#endif
#ifndef InstallFlags
#define InstallFlags -c
#endif
#ifndef LdCmd
#define LdCmd ld
#endif
#ifndef M4Cmd
#define M4Cmd m4
#endif
#ifndef M4Flags
#define M4Flags /**/
#endif
#ifndef LexCmd
#define LexCmd lex
#endif
#ifndef LexLib
#define LexLib -ll
#endif
#ifndef HasFlex
#define HasFlex NO
#endif
#ifndef YaccCmd
#define YaccCmd yacc
#endif
#ifndef CplusplusYaccCmd
#define CplusplusYaccCmd YaccCmd
#endif
#ifndef LintCmd
#define LintCmd lint
#endif
#ifndef LintLibFlag
#if SystemV || SystemV4
#define LintLibFlag -o
#else
#define LintLibFlag -C
#endif
#endif
#ifndef LintOpts
#if SystemV || SystemV4
#define LintOpts -bh
#else
#define LintOpts -axz
#endif
#endif
#ifndef CpCmd
#define CpCmd cp
#endif
#ifndef LnCmd /* can use cp instead of ln if necessary */
#if HasSymLinks
#define LnCmd ln -s
#else
#define LnCmd ln
#endif
#endif
#ifndef MakeCmd
#define MakeCmd make
#endif
#ifndef MvCmd
#define MvCmd mv -f
#endif
#ifndef RanlibCmd
#define RanlibCmd ranlib
#endif
#ifndef RanlibInstFlags
#define RanlibInstFlags /**/
#endif
#ifndef RmCmd
#define RmCmd rm -f
#endif

/*
 * Module cross-compile stuff.  By default they are defined to be exactly the
 * same as the non-module versions.
 */
#ifndef ModuleCcCmd
#define ModuleCcCmd CcCmd
#endif
#ifndef ModuleCppCmd
#define ModuleCppCmd CppCmd
#endif
#ifndef ModuleCFlags
#define ModuleCFlags $(CFLAGS)
#endif
#ifndef ModuleAsCmd
#define ModuleAsCmd AsCmd
#endif
#ifndef ModuleAsFlags
#define ModuleAsFlags /**/
#endif
#ifndef ModuleLdCmd
#define ModuleLdCmd LdCmd
#endif
#ifndef ModuleLdFlags
#define ModuleLdFlags /**/
#endif
#ifndef ModuleLdCombineFlags
#define ModuleLdCombineFlags LdCombineFlags
#endif
#ifndef ModuleArCmd
#define ModuleArCmd ArCmd
#endif
#ifndef NeedModuleRanlib
#define NeedModuleRanlib NO
#endif
#ifndef ModuleRanlibCmd
#define ModuleRanlibCmd RanlibCmd
#endif

#ifndef StandardIncludes	/* for platform-specifics */
#define StandardIncludes /**/
#endif
#ifndef StandardDefines
#if SystemV
#define StandardDefines -DSYSV
#else
#if SystemV4
#define StandardDefines -DSVR4
#else
#define StandardDefines /**/
#endif
#endif
#endif
#ifndef StandardCppOptions
#define StandardCppOptions /**/
#endif
#ifndef StandardCppDefines
#define StandardCppDefines StandardCppOptions StandardDefines
#endif
#ifndef Malloc0ReturnsNull
#if UseGnuMalloc
#define Malloc0ReturnsNull YES
#else
#define Malloc0ReturnsNull NO
#endif
#endif
#if Malloc0ReturnsNull
#ifndef Malloc0ReturnsNullDefines
#define Malloc0ReturnsNullDefines -DMALLOC_0_RETURNS_NULL
#endif
#endif
#ifndef ToolkitStringsABIOptions
#define ToolkitStringsABIOptions /**/
#endif
#ifndef NdbmDefines
#if HasNdbm
#define NdbmDefines -DNDBM
#else
#define NdbmDefines /**/
#endif
#endif
#ifndef LdPreLib
#if !defined(UseInstalled)
#if !BuildLibraries && AlternateUsrLibDir
#define LdPreLib -L$(BUILDLIBDIR) -L$(USRLIBDIR)
#else
#define LdPreLib -L$(BUILDLIBDIR)
#endif
#else
#if AlternateUsrLibDir
#define LdPreLib -L$(USRLIBDIR)
#else
#define LdPreLib /**/
#endif
#endif
#endif
#ifndef LdPostLib
#if !defined(UseInstalled) && AlternateUsrLibDir && !HasLdRunPath
#define LdPostLib -L$(USRLIBDIR)
#else
#define LdPostLib /**/
#endif
#endif
#ifndef MathLibrary
#define MathLibrary -lm
#endif
#ifndef DBMLibrary
#define DBMLibrary -ldbm
#endif
#ifndef DlLibrary
#define DlLibrary -ldl
#endif
#ifndef ExtraLibraries
#if SystemV4
#if HasSockets
#define ExtraLibraries -lsocket -lnsl -lw
#else
#define ExtraLibraries -lnsl -lw
#endif
#else
#define ExtraLibraries /**/
#endif
#endif
#ifndef ExtraLoadOptions
#define ExtraLoadOptions /**/
#endif
#ifndef ExtraLoadFlags
#define ExtraLoadFlags /**/
#endif
#ifndef LdCombineFlags
#if SystemV4
#define LdCombineFlags -r
#else
#define LdCombineFlags -X -r
#endif
#endif
#ifndef LdStripFlags
#define LdStripFlags -x
#endif
#ifndef TagsCmd
#define TagsCmd ctags
#endif
#ifndef LoaderLibPrefix
#define LoaderLibPrefix /**/
#endif
#ifndef ImakeCmd
#ifdef UseInstalled		/* assume BINDIR in path */
#define ImakeCmd imake
#else
#define ImakeCmd $(IMAKESRC)/imake
#endif
#endif
#ifndef DependCmd
#if UseGccMakeDepend
#ifdef UseInstalled		/* assume BINDIR in path */
#define DependCmd gccmakedep
#else
#define DependCmd $(DEPENDSRC)/gccmakedep
#endif
#elif UseCCMakeDepend
#ifdef UseInstalled		/* assume BINDIR in path */
#define DependCmd ccmakedep
#else
#define DependCmd $(DEPENDSRC)/ccmakedep
#endif
#else
#ifdef UseInstalled		/* assume BINDIR in path */
#define DependCmd makedepend
#else
#define DependCmd $(DEPENDSRC)/makedepend
#endif
#endif
#endif
#ifndef DependDefines
# if UseCCMakedepend || UseGccMakedepend
#  define DependDefines /**/
# else
#  define DependDefines -DUSE_MAKEDEPEND
# endif
#endif
#ifndef DependFlags
#define DependFlags /**/
#endif
#ifndef DependFileName
#if !HasBsdMake
#define DependFileName Makefile.dep
#else
#define DependFileName .depend
#endif
#endif
#ifndef ExportListCmd
# ifndef ExportListGenSource
#  define ExportListCmd		/**/
# elif !defined(UseInstalled)
#  define ExportListCmd		$(CONFIGSRC)/util/exportlistgen
# else
#  define ExportListCmd		exportlistgen
# endif
#endif
#ifndef MkdirHierCmd
#ifdef UseInstalled		/* assume BINDIR in path */
#define MkdirHierCmd mkdirhier
#else
#define MkdirHierCmd $(SHELL) $(CONFIGSRC)/util/mkdirhier.sh
#endif
#endif
#ifndef RevPathCmd
#ifdef UseInstalled		/* assume BINDIR in path */
#define RevPathCmd revpath
#else
#define RevPathCmd $(CONFIGSRC)/util/revpath
#endif
#endif
#ifndef TroffCmd
#if HasGroff
#define TroffCmd groff -Tps
#else
#define TroffCmd troff -Tps
#endif
#endif
#ifndef NroffCmd
#define NroffCmd nroff
#endif
#ifndef MsMacros
#define MsMacros -ms
#endif
#ifndef ManMacros
#define ManMacros -man
#endif
#ifndef TblCmd
#define TblCmd tbl
#endif
#ifndef EqnCmd
#define EqnCmd eqn
#endif
#ifndef NeqnCmd
#define NeqnCmd neqn
#endif
#ifndef ColCmd
#define ColCmd col
#endif
#ifndef ColFlags
#define ColFlags -b
#endif
#ifndef DvipsCmd
#define DvipsCmd dvips
#endif
#ifndef LatexCmd
#define LatexCmd latex
#endif
#if HasSentinel
#ifndef SentinelCmd
#define SentinelCmd sentinel
#endif
#ifndef SentinelOptions
#define SentinelOptions /**/
#endif
#endif
#if HasPurify
#ifndef PurifyCmd
#define PurifyCmd purify
#endif
#ifndef PurifyOptions
#define PurifyOptions /**/
#endif
#endif
#if HasTestCenter
#ifndef ProofCmd
#define ProofCmd proof
#endif
#ifndef ProofOptions
#define ProofOptions /**/
#endif
#endif
#ifndef PathSeparator
#define PathSeparator /
#endif
#ifndef Osuf
#define Osuf o
#endif
#ifndef CCsuf
#define CCsuf cc
#endif
#ifndef SHsuf
#define SHsuf sh
#endif
#ifndef ManSuffix
#define ManSuffix	n		/* use just one tab or cpp will die */
#endif
#ifndef LibManSuffix
#define LibManSuffix	3		/* use just one tab or cpp will die */
#endif
#ifndef FileManSuffix
#if SystemV || SystemV4 || defined(OSF1Architecture)
#define FileManSuffix	4		/* use just one tab or cpp will die */
#else
#define FileManSuffix	5		/* use just one tab or cpp will die */
#endif
#endif
#ifndef MiscManSuffix
#if SystemV || SystemV4 || defined(OSF1Architecture)
#define MiscManSuffix	5		/* use just one tab or cpp will die */
#else
#define MiscManSuffix	7		/* use just one tab or cpp will die */
#endif
#endif
#ifndef DriverManSuffix
#if SystemV || SystemV4 || defined(OSF1Architecture)
#define DriverManSuffix	7		/* use just one tab or cpp will die */
#else
#define DriverManSuffix	4		/* use just one tab or cpp will die */
#endif
#endif
#ifndef ExpandManNames
#if SystemV
#define ExpandManNames NO
#else
#define ExpandManNames YES
#endif
#endif
#ifndef ManSrcSuffix
#define ManSrcSuffix	man
#endif
#ifndef ManNewSuffix
#define ManNewSuffix	_man
#endif
#ifndef TOPDIR
#define TOPDIR .
#endif
#ifndef CURDIR
#define CURDIR .
#endif
#ifndef SiteIConfigFiles
#define SiteIConfigFiles /**/
#endif
#ifndef OtherIConfigFiles
#define OtherIConfigFiles /**/
#endif
#ifndef ExtraFilesToClean
#define ExtraFilesToClean /**/
#endif
#ifndef FilesToClean
#define FilesToClean *.CKP *.ln *.BAK *.bak *.Osuf core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut 
#endif

          PATHSEP = PathSeparator
            SHELL = BourneShell

              TOP = TOPDIR
      CURRENT_DIR = CURDIR

            IMAKE = ImakeCmd
           DEPEND = DependCmd
        MKDIRHIER = MkdirHierCmd
          REVPATH = RevPathCmd
    EXPORTLISTGEN = ExportListCmd
             RMAN = RmanCmd
      RMANOPTIONS = RmanOptions
        CONFIGSRC = ConfigSrc
         IMAKESRC = $(CONFIGSRC)/imake
        DEPENDSRC = DependDir

          INCROOT = IncRoot		/* base of where to put header files */
        USRLIBDIR = UsrLibDir		/* nonshared libraries */
           VARDIR = VarDirectory	/* usually /var */
        VARLIBDIR = VarLibDir		/* xdm runtime files */
  SYSTEMUSRLIBDIR = SystemUsrLibDir	/* system's "/usr/lib" */
  SYSTEMUSRINCDIR = SystemUsrIncDir	/* system's "/usr/include" */
         SHLIBDIR = ShLibDir            /* shared libraries */
       LINTLIBDIR = LintlibDir		/* lint libraries */
          MANPATH = ManPath		/* top of manual page tree */
    MANSOURCEPATH = ManSourcePath	/* prefix for man page sources */
           MANDIR = ManDir		/* man pages for commands */
        LIBMANDIR = LibmanDir		/* man pages for library routines */
       FILEMANDIR = FileManDir		/* man pages for config files */
       MISCMANDIR = MiscManDir		/* man pages for miscellaneous files */
     DRIVERMANDIR = DriverManDir	/* man pages for drivers */
     LOGDIRECTORY = LogDirectory	/* OS location of log files */
#ifdef VarRunDirectory
        VARRUNDIR = VarRunDirectory	/* OS location of PID files */
#endif
#ifdef VarDbDirectory
         VARDBDIR = VarDbDirectory	/* OS location of db/state files */
#endif

               AR = ArCmd
  BOOTSTRAPCFLAGS = BootstrapCFlags	/* set if cpp does not have uniq sym */
               CC = CcCmd
               AS = AsCmd
#if HasFortran
               FC = FortranCmd
      FDEBUGFLAGS = FortranDebugFlags
          FCFLAGS = FortranFlags $(FDEBUGFLAGS)
#endif
#if HasCplusplus

.SUFFIXES: .CCsuf

              CXX = CplusplusCmd
          CXXFILT = CplusplusFilt
           CXXLIB = CplusplusLibC
    CXXDEBUGFLAGS = DefaultCplusplusDebugFlags
CXXDEPENDINCLUDES = CplusplusDependIncludes
 CXXEXTRA_DEFINES = CplusplusExtraDefines
CXXEXTRA_INCLUDES = CplusplusExtraIncludes
   CXXSTD_DEFINES = CplusplusStandardDefines $(CXXPROJECT_DEFINES)
       CXXOPTIONS = CplusplusOptions
      CXXINCLUDES = $(INCLUDES) $(TOP_INCLUDES) $(CXXEXTRA_INCLUDES) 
       CXXDEFINES = $(CXXINCLUDES) $(CXXSTD_DEFINES) $(THREADS_CXXDEFINES) $(DEFINES) $(CXXEXTRA_DEFINES)
         CXXFLAGS = $(CXXDEBUGFLAGS) $(CXXOPTIONS) $(THREADS_CXXFLAGS) $(CXXDEFINES)
#endif

#if !BuildLibraries && AlternateIncRoot
INSTALLED_INCLUDES = -I$(INCROOT)
#endif

         COMPRESS = CompressCmd
          GZIPCMD = GzipCmd
              CPP = CppCmd $(STD_CPP_DEFINES)		/* simple filters */
           RAWCPP = RawCppCmd $(STD_CPP_OPTIONS)
    PREPROCESSCMD = PreProcessCmd $(STD_CPP_DEFINES)	/* prefered; mdep */
          INSTALL = InstallCmd
     INSTALLFLAGS = InstallFlags
               LD = LdCmd
              LEX = LexCmd
               M4 = M4Cmd
          M4FLAGS = M4Flags
           LEXLIB = LexLib
             YACC = YaccCmd
           CCYACC = CplusplusYaccCmd
             LINT = LintCmd
      LINTLIBFLAG = LintLibFlag
         LINTOPTS = LintOpts
               LN = LnCmd
             MAKE = MakeCmd
               MV = MvCmd
               CP = CpCmd
#if DoRanlibCmd
           RANLIB = RanlibCmd
  RANLIBINSTFLAGS = RanlibInstFlags
#endif
               RM = RmCmd
             PERL = PerlCmd
         PERLOPTS = PerlOptions
        MANSUFFIX = ManSuffix		/* suffix for command man pages */
     LIBMANSUFFIX = LibManSuffix	/* suffix for library man pages */
    FILEMANSUFFIX = FileManSuffix	/* suffix for file format man pages */
    MISCMANSUFFIX = MiscManSuffix	/* suffix for misc man pages */
  DRIVERMANSUFFIX = DriverManSuffix	/* suffix for driver man pages */
     MANSRCSUFFIX = ManSrcSuffix	/* suffix for man page source */
     MANNEWSUFFIX = ManNewSuffix	/* suffix for preprocessed man source */
          MANDEFS = AppLoadDefs FileManDefs MiscManDefs DriverManDefs ProjectManDefs $(XORGMANDEFS) $(VENDORMANDEFS)

   COMPRESSMANCMD = CompressManCmd

            TROFF = TroffCmd
            NROFF = NroffCmd
         MSMACROS = MsMacros
        MANMACROS = ManMacros
              TBL = TblCmd
              EQN = EqnCmd
             NEQN = NeqnCmd
              COL = ColCmd
         COLFLAGS = ColFlags
            MODCC = ModuleCcCmd
           MODCPP = ModuleCppCmd
        MODCFLAGS = ModuleCFlags
            MODAS = ModuleAsCmd
       MODASFLAGS = ModuleAsFlags
            MODLD = ModuleLdCmd
       MODLDFLAGS = ModuleLdFlags
MODLDCOMBINEFLAGS = ModuleLdCombineFlags
            MODAR = ModuleArCmd
        MODRANLIB = ModuleRanlibCmd
#if HasLatex
            DVIPS = DvipsCmd
            LATEX = LatexCmd
#endif
#if HasSentinel
         SENTINEL = SentinelCmd
  SENTINELOPTIONS = SentinelOptions
#endif
#if HasPurify
           PURIFY = PurifyCmd
    PURIFYOPTIONS = PurifyOptions
#endif
#if HasTestCenter
           PROOF = ProofCmd
    PROOFOPTIONS = ProofOptions
#endif
     STD_INCLUDES = StandardIncludes
  STD_CPP_OPTIONS = StandardCppOptions
  STD_CPP_DEFINES = StandardCppOptions StandardCppDefines $(PROJECT_DEFINES)
      STD_DEFINES = StandardDefines $(PROJECT_DEFINES)
 EXTRA_LOAD_FLAGS = ExtraLoadFlags
  EXTRA_LDOPTIONS = ExtraLoadOptions
  EXTRA_LIBRARIES = MallocLibraries ExtraLibraries Krb5Libraries
             TAGS = TagsCmd
#if ConstructMFLAGS
           MFLAGS = -$(MAKEFLAGS)
#endif
#if ConstructMAKEFLAGS
        MAKEFLAGS = $(MFLAGS)
#endif
   PARALLELMFLAGS = ParallelMakeFlags
#if HasSharedLibraries
    SHAREDCODEDEF = SharedCodeDef
         SHLIBDEF = SharedLibraryDef
#ifdef SharedLibraryLoadFlags
     SHLIBLDFLAGS = SharedLibraryLoadFlags
#endif
/*
 * Here we set up flags needed to produce position-independent code 
 * when doing C and C++ compilation.  The default if you specify C
 * PIC flags without also specifying C++ PIC flags is to assume that 
 * the C flags work for both.  If your C++ compiler requires different
 * flags, specify them explicitly in PositionIndependentCplusplusFlags.
 */
#ifdef PositionIndependentCFlags
         PICFLAGS = PositionIndependentCFlags
#endif
#ifdef PositionIndependentCplusplusFlags
      CXXPICFLAGS = PositionIndependentCplusplusFlags
#else
#ifdef PositionIndependentCFlags
      CXXPICFLAGS = PositionIndependentCFlags
#endif
#endif
#endif
#if !HasVoidSignalReturn
   SIGNAL_DEFINES = -DSIGNALRETURNSINT
#endif
/*
 * The following supports forcing of function prototypes
 */
#if NeedFunctionPrototypes && NeedVarargsPrototypes && NeedConstPrototypes && NeedNestedPrototypes
#define _funcprotodef -DFUNCPROTO=15
#else
#if NeedFunctionPrototypes && NeedVarargsPrototypes && NeedNestedPrototypes
#define _funcprotodef -DFUNCPROTO=11
#else
#if NeedFunctionPrototypes && NeedNestedPrototypes
#define _funcprotodef -DFUNCPROTO=9
#else
#if NeedFunctionPrototypes && NeedVarargsPrototypes && NeedConstPrototypes
#define _funcprotodef -DFUNCPROTO=7
#else
#if NeedFunctionPrototypes && NeedConstPrototypes
#define _funcprotodef -DFUNCPROTO=5
#else
#if NeedFunctionPrototypes && NeedVarargsPrototypes
#define _funcprotodef -DFUNCPROTO=3
#else
#if NeedFunctionPrototypes
#define _funcprotodef -DFUNCPROTO
#else
#define _funcprotodef /**/
#endif
#endif
#endif
#endif
#endif
#endif
#endif
#if NeedWidePrototypes
#define _wideprotodef /**/
#else
#define _wideprotodef -DNARROWPROTO
#endif
    PROTO_DEFINES = _funcprotodef _wideprotodef 
#undef _funcprotodef
#undef _wideprotodef

#if StripInstalledPrograms
     INSTPGMFLAGS = InstPgmFlags	/* install flags for stripping */
#else
     INSTPGMFLAGS = 
#endif
     INSTBINFLAGS = InstBinFlags	/* install flags for programs */
     INSTUIDFLAGS = InstUidFlags	/* install flags for setuid programs */
     INSTLIBFLAGS = InstLibFlags	/* install flags for libraries */
     INSTINCFLAGS = InstIncFlags	/* install flags for headers */
     INSTMANFLAGS = InstManFlags	/* install flags for man pages */
     INSTDATFLAGS = InstDatFlags	/* install flags for data files */
    INSTKMEMFLAGS = InstKmemFlags	/* install flags for /dev/kmem progs */

#ifdef ProjectRoot
      PROJECTROOT = ProjectRoot
#endif
#ifdef UseInstalled
# if AlternateIncRoot
#  define TopInclude	-I$(INCROOT)
# else
#  define TopInclude	/**/
# endif
#else
# define TopInclude	-I$(TOP)
#endif
      CDEBUGFLAGS = DefaultCDebugFlags
        CCOPTIONS = DefaultCCOptions	/* to distinguish from param flags */
/*
 * STD_INCLUDES contains system-specific includes
 * TOP_INCLUDES specifies how to get to /usr/include or its build substitute
 * EXTRA_INCLUDES contains project-specific includes set in project incfiles
 * INCLUDES contains client-specific includes set in Imakefile
 * LOCAL_LDFLAGS contains client-specific ld flags flags set in Imakefile
 */
      ALLINCLUDES = $(INCLUDES) $(EXTRA_INCLUDES) $(TOP_INCLUDES) $(INSTALLED_INCLUDES) $(STD_INCLUDES)
       ALLDEFINES = $(ALLINCLUDES) $(STD_DEFINES) $(PROTO_DEFINES) $(THREADS_DEFINES) $(MODULE_DEFINES) $(DEFINES) $(EXTRA_DEFINES)
           CFLAGS = $(CDEBUGFLAGS) $(CCOPTIONS) $(THREADS_CFLAGS) $(MODULE_CFLAGS) $(ALLDEFINES)
        LINTFLAGS = $(LINTOPTS) -DLINT $(ALLDEFINES) $(DEPEND_DEFINES)
         LDPRELIB = LdPreLib
        LDPOSTLIB = LdPostLib
        LDOPTIONS = $(CDEBUGFLAGS) $(CCOPTIONS)  $(EXTRA_LDOPTIONS) $(THREADS_LDFLAGS) $(LOCAL_LDFLAGS) $(LDPRELIBS)
     CXXLDOPTIONS = $(CXXDEBUGFLAGS) $(CXXOPTIONS) $(EXTRA_LDOPTIONS) $(THREADS_CXXLDFLAGS) $(LOCAL_LDFLAGS) $(LDPRELIBS)

           LDLIBS = $(LDPOSTLIBS) $(THREADS_LIBS) $(SYS_LIBRARIES) $(EXTRA_LIBRARIES)
#if HasBrokenCCForLink
           CCLINK = LdCmd
#else
#if AlternateUsrLibDir && HasLdRunPath
       CCENVSETUP = LD_RUN_PATH=$(USRLIBDIRPATH)
           CCLINK = $(CCENVSETUP) $(CC)
#else
           CCLINK = $(CC)
#endif
#endif
#if AlternateUsrLibDir && HasLdRunPath
      CXXENVSETUP = LD_RUN_PATH=$(USRLIBDIRPATH)
          CXXLINK = $(CXXENVSETUP) $(CXX)
#else
          CXXLINK = $(CXX)
#endif
     LDSTRIPFLAGS = LdStripFlags
   LDCOMBINEFLAGS = LdCombineFlags
      DEPENDFLAGS = DependFlags
   DEPEND_DEFINES = DependDefines

XCOMM Not sure this belongs here
         TKLIBDIR = TkLibDir
         TKINCDIR = TkIncDir
        TKLIBNAME = TkLibName
        TKLIBRARY = TkLibrary
        TCLLIBDIR = TclLibDir
        TCLINCDIR = TclIncDir
       TCLLIBNAME = TclLibName
       TCLLIBRARY = TclLibrary

        MACROFILE = MacroFile
           RM_CMD = $(RM)

    IMAKE_DEFINES = /* leave blank, for command line use only */
#ifdef UseInstalled
         IRULESRC = $(CONFIGDIR)	/* used in rules file */
        IMAKE_CMD = $(IMAKE) -DUseInstalled -I$(IRULESRC) $(IMAKE_DEFINES)
#else
         IRULESRC = $(CONFIGSRC)/cf
        IMAKE_CMD = $(IMAKE) -I$(IRULESRC) $(IMAKE_DEFINES)
#endif
#if !HasClearmake
     /* clearmake records relevant defines and flags in the build script,
	so it knows when they change and we don't need this coarser-level
	dependency.  We also don't want it, since it prevents sharing if
	even one config file, say site.def or host.def, changes. */
     ICONFIGFILES = $(IRULESRC)/Imake.tmpl $(IRULESRC)/X11.tmpl \
			$(IRULESRC)/site.def $(IRULESRC)/$(MACROFILE) \
			OtherIConfigFiles SiteIConfigFiles $(EXTRA_ICONFIGFILES)
#endif

#ifndef TopLevelProject
# define TopLevelProject	X11
#endif
#ifndef ProjectRulesFile
# define ProjectRulesFile	Concat3(<,TopLevelProject,.rules>)
#endif
#include ProjectRulesFile
#ifndef LocalRulesFile
/* need this to make ANSI-style preprocessors happy */
#define LocalRulesFile <noop.rules>
#endif
#include LocalRulesFile

/*
 * get project-specific configuration and rules
 */
#ifndef ProjectTmplFile
#define ProjectTmplFile		Concat3(<,TopLevelProject,.tmpl>)
#endif
#include ProjectTmplFile
#ifndef LocalTmplFile
/* need this to make ANSI-style preprocessors happy */
#define LocalTmplFile <noop.rules>
#endif
#include LocalTmplFile

#ifdef FixupLibReferences
FixupLibReferences()
#endif

/* ConfigDir comes from X11.tmpl */
        CONFIGDIR = ConfigDir		/* build configuration information */
#if HasClearmake
           OSNAME = OSName
#endif
    USRLIBDIRPATH = UsrLibDirPath
        LDPRELIBS = LdPreLibs
       LDPOSTLIBS = LdPostLibs
     TOP_INCLUDES = TopIncludes
  PROJECT_DEFINES = ProjectDefines
#if HasCplusplus
CXXPROJECT_DEFINES = CplusplusProjectDefines
#endif

XCOMM ----------------------------------------------------------------------
XCOMM start of Imakefile
#include INCLUDE_IMAKEFILE

XCOMM ----------------------------------------------------------------------
XCOMM common rules for all Makefiles - do not edit

.c.i:
	CPPOnlyCompile($*.c,$(_NOOP_))

.SUFFIXES: .s

.c.s:
	CompileCToAsm($(_NOOP_))

/*
 * These need to be here so that rules in Imakefile occur first;  the blank
 * emptyrule is to make sure that an empty Imakefile does not default to make
 * clean.
 */
emptyrule::

CleanTarget()

#ifndef IHaveSpecialMakefileTarget
MakefileTarget()
#endif

#if BuildHtmlManPages
RmanDependency()
#endif

TagsTarget()
#ifdef MakefileAdditions
MakefileAdditions()
#endif

CenterLoadTarget(debug_src,$(SRCS),NullParameter,$(ALLDEFINES))

CenterLoadTarget(debug_obj,$(OBJS),NullParameter,$(ALLDEFINES))

ManKeywordsTarget($(MANPATH))

HtmlManIndex

/* Generate the "real" clean rules */
#undef clean

clean:: cleandir

distclean:: cleandir

#ifdef IHaveSubdirs
XCOMM ----------------------------------------------------------------------
XCOMM rules for building in SUBDIRS - do not edit

InstallSubdirs($(SUBDIRS))
InstallManSubdirs($(SUBDIRS))
InstallDriverSDKSubdirs($(SUBDIRS))
CleanSubdirs($(SUBDIRS))
TagSubdirs($(SUBDIRS))
MakefileSubdirs($(SUBDIRS))
IncludesSubdirs($(SUBDIRS))

/* "distclean" subdirectories */
#undef  BootstrapCleanSubdirs
#define BootstrapCleanSubdirs /**/
#define clean distclean
CleanSubdirs($(SUBDIRS))
#undef clean

#endif

/* must be after all install.man rules that install anything */
#if MakeManKeywords		/* typically only at top level */
install.man:: man_keywords
#endif

/* must be after all install.man rules that install anything */
#if MakeHtmlManIndex		/* typically only at top level */
install.man:: html_index
#endif

#ifndef IHaveSubdirs
XCOMM ----------------------------------------------------------------------
XCOMM empty rules for directories that do not have SUBDIRS - do not edit

install::
	@@echo "install in $(CURRENT_DIR) done"

install.man::
	@@echo "install.man in $(CURRENT_DIR) done"

install.sdk::
	@@echo "install.sdk in $(CURRENT_DIR) done"

Makefiles::

includes::

depend::

#endif /* if subdirectory rules are needed */

#ifndef IHaveSpecialMakefileTarget
/* "distclean" also removes the Makefile */
distclean::
	RemoveFile(Makefile)
#endif

XCOMM ----------------------------------------------------------------------
XCOMM dependencies generated by makedepend
IncludeMakefile(DependFileName)
@


1.1.9.1
log
@OpenBSD just has imported exactly this tree into their vendor branch,
called the same tag, in XF4/xc
This is, apparently, the last XFree86 snapshot before the licence change
(ie, addition of the advertising clause)

Since the developers don't see any problems with that, and we would like
to integrate improvements done by the remaining one or two (or so) XFree86
developers (j/k), this prepares enabling us to update X-Window in the future.
@
text
@d8 1
a8 1
XCOMM $XFree86: xc/config/cf/Imake.tmpl,v 3.156 2004/01/12 21:43:18 herrb Exp $
a47 3
#if defined(HasGcc3) && !defined(HasGcc2)
# define HasGcc2 HasGcc3
#endif
a51 7
#ifndef HasCenterLineC
#define HasCenterLineC NO
#endif
#ifndef HasCenterLineCplusplus
#define HasCenterLineCplusplus NO
#endif

a112 4
#ifndef RemoveObsoleteFiles
#define RemoveObsoleteFiles YES
#endif

a118 7
#ifndef UseInstalledX11
# define UseInstalledX11        NO
#endif
#ifdef UseInstalled
# undef UseInstalledX11
# define UseInstalledX11        YES
#endif
a208 4
#ifndef PerlEnvSetup
#define PerlEnvSetup		env LC_ALL=C
#endif

a257 4
#ifndef CompressManPages
#define CompressManPages NO
#endif

a260 3
#ifndef HasGroffHtml
#define HasGroffHtml NO
#endif
a265 13
#ifndef DoLoadableServer
#define DoLoadableServer NO
#endif
#ifndef MakeDllModules
#define MakeDllModules NO
#endif
#ifndef StripInstalledPrograms
#define StripInstalledPrograms NO	/* leave symbol table just in case */
#endif
#ifndef StaticNeedsPicForShared
#define StaticNeedsPicForShared NO
#endif

a303 1
#undef  CrossCompileDir
a323 7
#ifndef HasMotif
#define HasMotif		NO
#endif
#ifndef HasBSDAuth
#define HasBSDAuth		NO
#endif

a361 4
/* setenv(3) and unsetenv(3) */
#ifndef HasSetenv
#define HasSetenv		YES	/* assume yes */
#endif
a370 3
#ifndef HasStrlcat
#define HasStrlcat		NO	/* assume not */
#endif
a373 3
#ifndef HasWeakSymbols
#define HasWeakSymbols		NO	/* assume not */
#endif
a400 12
#ifndef HasGetpeereid
#define HasGetpeereid		NO
#endif
#ifndef NoStrstr
#define NoStrstr		NO
#endif
#ifndef HasShadowPasswd
#define HasShadowPasswd		NO
#endif
#ifndef HasBasename
#define HasBasename		YES
#endif
a412 2
#elif defined(AMD64Architecture)
#define ByteOrder		X_LITTLE_ENDIAN
a438 2
X_BYTE_ORDER = ByteOrder

a441 3
#ifndef HasGcc2ForCplusplus
#define HasGcc2ForCplusplus	NO
#endif
d496 3
a498 3
/* If the system has the Fontconfig library */
#ifndef HasFontconfig
#define HasFontconfig		NO
a499 2
#ifndef HasLibpng
#define HasLibpng		NO
a656 3
#ifndef HasTsLib
#define HasTsLib NO
#endif
d684 3
a704 4
#ifndef LibDirName
# define LibDirName lib
#endif

d707 1
a707 1
#define UsrLibDir Concat3(ProjectRoot,/,LibDirName)
d712 1
a712 1
#define UsrLibDir Concat3(/usr,/,LibDirName)
d739 1
a739 1
#define SystemUsrLibDir /usr/LibDirName
a805 3
#ifndef LibManDefs
#define LibManDefs -D__libmansuffix__=$(LIBMANSUFFIX)
#endif
a814 3
#ifndef AdminManDefs
#define AdminManDefs -D__adminmansuffix__=$(ADMINMANSUFFIX)
#endif
d819 5
a907 3
#ifndef HardCodeLibdirFlag
#define HardCodeLibdirFlag	/**/
#endif
a964 3
#ifndef HasGcc3
#define HasGcc3 NO
#endif
d966 1
a966 1
#define HasGcc2 HasGcc3
d971 3
d977 6
d985 1
a985 1
#define CcCmd gcc -fpcc-struct-return
d988 1
a988 1
#define CcCmd gcc -fstrength-reduce -fpcc-struct-return
a1008 3
#if HasGcc2ForCplusplus
#define CplusplusLibC	-lstdc++
#else
a1010 1
#endif
d1024 1
a1024 1
#define CplusplusOptions DefaultCplusplusOptions
d1053 1
a1053 1
#define CppCmd /LibDirName/cpp
a1182 3
#ifndef HostCcCmd
#define HostCcCmd cc
#endif
d1225 12
a1236 2
#ifndef HasLdRunPath
#define HasLdRunPath NO
a1237 9
#ifndef LdPreLib
# if !defined(UseInstalled)
#  define LdPreLib -L$(BUILDLIBDIR)
# else
# if AlternateUsrLibDir
#  define LdPreLib -L$(USRLIBDIR)
# else
# define LdPreLib /**/
# endif
d1241 1
a1241 1
#if !defined(UseInstalled) && AlternateUsrLibDir && !HasLdRunPath && !defined(CrossCompileDir)
a1295 3
#ifndef ImakeWarningFlags
#define ImakeWarningFlags	/* Nothing */
#endif
d1318 1
a1318 1
# if UseCCMakeDepend || UseGccMakeDepend
a1366 10
#ifndef HTMLroffCmd
#if HasGroff && HasGroffHtml
#define HTMLroffCmd groff -Thtml
#endif
#endif
#ifdef HTMLroffCmd
#ifndef DocFilesToClean
#define DocFilesToClean grohtml*.png *-auto-*.png
#endif
#endif
a1393 15
#ifndef HasPdfLatex
#define HasPdfLatex NO
#endif
#ifndef PdfLatexCmd
#define PdfLatexCmd pdflatex
#endif
#ifndef GhostScriptCmd
#define GhostScriptCmd gs
#endif
#ifndef HasGhostScript
#define HasGhostScript NO
#endif
#if HasGhostScript
#define PsToPdfCmd GhostScriptCmd -q -sOutputFile=- -sDEVICE=pdfwrite -dSAFER -dNOPAUSE -
#endif
a1456 7
#ifndef AdminManSuffix
#if SystemV || SystemV4
#define AdminManSuffix	1m		/* use just one tab or cpp will die */
#else
#define AdminManSuffix	8		/* use just one tab or cpp will die */
#endif
#endif
a1484 3
#ifndef DocFilesToClean
#define DocFilesToClean /**/
#endif
d1486 1
a1486 54
#define FilesToClean *.CKP *.ln *.BAK *.bak *.Osuf core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut
#endif

#ifdef CrossCompileDir
# ifndef StripPath
#  define StripPath(x) `echo x|sed "s%.*/%%"`
# endif
# ifndef CrossArCmd
#  define CrossArCmd Concat3(CrossCompileDir,/,StripPath(ArCmd))
# endif
# ifndef CrossCcCmd
#  define CrossCcCmd Concat3(CrossCompileDir,/,StripPath(CcCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
# ifdef HasFortran
#  ifndef CrossFortranCmd
#   define CrossFortranCmd Concat3(CrossCompileDir,/,StripPath(FortranCmd))
#  endif
# endif
# ifndef CrossCplusplusCmd
#  define CrossCplusplusCmd Concat3(CrossCompileDir,/,StripPath(CplusplusCmd))
# endif
# ifndef CrossCppCmd
#  define CrossCppCmd Concat3(CrossCompileDir,/,StripPath(CppCmd))
# endif
# ifndef CrossRawCppCmdCmd
#  define CrossRawCppCmd Concat3(CrossCompileDir,/,StripPath(RawCppCmd))
# endif
# ifndef CrossPreProcessCmd
#  define CrossPreProcessCmd Concat3(CrossCompileDir,/,StripPath(PreProcessCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
# ifndef CrossLdCmd
#  define CrossLdCmd Concat3(CrossCompileDir,/,StripPath(LdCmd))
# endif
# ifndef CrossModuleLdCmd
#  define CrossModuleLdCmd CrossLdCmd
# endif
# ifndef CrossLintCmd
#  define CrossLintCmd Concat3(CrossCompileDir,/,StripPath(LintCmd))
# endif
# ifndef CrossRanlibCmd
#  define CrossRanlibCmd Concat3(CrossCompileDir,/,StripPath(RanlibCmd))
# endif
# ifndef CrossModuleCcCmd
#  define CrossModuleCcCmd Concat3(CrossCompileDir,/,StripPath(ModuleCcCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
a1500 1
     RMANBASENAME = HostProgramTargetName(rman)
d1528 1
a1528 3
#ifdef CrossCompileDir
               AR = CrossArCmd
#else
a1529 3
#endif
XCOMM Nice try but useless: make will inherit BOOTSTRAPCFLAGS
XCOMM from  top Makefile
a1530 4
#ifdef CrossCompileDir
               CC = CrossCcCmd
               AS = CrossAsCmd
#else
a1532 1
#endif
a1533 3
# ifdef CrossCompileDir
               FC = CrossFortranCmd
# else
a1534 1
# endif
d1540 1
a1540 1
.SUFFIXES: Concat(.,CCsuf)
a1541 3
#ifdef CrossCompileDir
              CXX = CrossCplusplusCmd
#else
a1542 1
#endif
a1543 4
#ifdef CplusplusLibCDir
        CXXLIBDIR = CplusplusLibCDir
           CXXLIB = -L$(CXXLIBDIR) CplusplusLibC
#else
a1544 2
#endif

d1551 1
a1551 1
      CXXINCLUDES = $(INCLUDES) $(TOP_INCLUDES) $(CXXEXTRA_INCLUDES)
d1555 5
a1561 5
#ifdef CrossCompileDir
              CPP = CrossCppCmd $(STD_CPP_DEFINES)
           RAWCPP = CrossRawCppCmd $(STD_CPP_OPTIONS)
    PREPROCESSCMD = CrossPreProcessCmd $(STD_CPP_DEFINES)
#else
a1564 1
#endif
a1566 3
#ifdef CrossCompileDir
               LD = CrossLdCmd
#else
a1567 1
#endif
a1573 3
#ifdef CrossCompileDir
             LINT = CrossLintCmd
#else
a1574 1
#endif
a1581 3
#ifdef CrossCompileDir
           RANLIB = CrossCompileDir/RanlibCmd
#else
a1582 1
#endif
a1587 1
     PERLENVSETUP = PerlEnvSetup
a1592 1
   ADMINMANSUFFIX = AdminManSuffix	/* suffix for admin command man pages */
d1595 1
a1595 1
          MANDEFS = AppLoadDefs FileManDefs LibManDefs MiscManDefs DriverManDefs AdminManDefs ProjectManDefs $(XORGMANDEFS) $(VENDORMANDEFS)
a1600 6
#ifdef HTMLroffCmd
         HTMLROFF = HTMLroffCmd
#endif
#ifdef PsToPdfCmd
       PSTOPDFCMD = PsToPdfCmd
#endif
a1607 3
#ifdef CrossCompileDir
	    MODCC = CrossModuleCcCmd
#else
a1608 1
#endif
a1612 3
#ifdef CrossCompileDir
	    MODLD = CrossModuleLdCmd
#else
a1613 1
#endif
a1616 3
#ifdef CrossCompileDir
        MODRANLIB = CrossCompileDir/ModuleRanlibCmd
#else
a1617 1
#endif
a1621 3
#if HasPdfLatex
      PDFLATEXCMD = PdfLatexCmd
#endif
a1633 3
#if CrossCompiling
          HOST_CC = HostCcCmd
#endif
d1653 1
a1653 1
     SHLIBLDFLAGS = SharedLibraryLoadFlags $(SHLIBGLOBALSFLAGS)
d1656 1
a1656 1
 * Here we set up flags needed to produce position-independent code
d1658 1
a1658 1
 * PIC flags without also specifying C++ PIC flags is to assume that
d1713 1
a1713 1
    PROTO_DEFINES = _funcprotodef _wideprotodef
d1720 1
a1720 1
     INSTPGMFLAGS =
a1741 1

d1755 1
a1755 1
         LDPRELIB = LdPreLib $(INSTALLED_LIBS)
a1795 1
   IMAKE_WARNINGS = ImakeWarningFlags
d1798 1
a1798 2
        IMAKE_CMD = $(IMAKE) -DUseInstalled -I$(IRULESRC) $(IMAKE_DEFINES) \
		    $(IMAKE_WARNINGS)
d1801 1
a1801 1
        IMAKE_CMD = $(IMAKE) -I$(IRULESRC) $(IMAKE_DEFINES) $(IMAKE_WARNINGS)
a1838 8
#if !BuildLibraries && AlternateIncRoot && !defined(CrossCompileDir)
INSTALLED_INCLUDES = -I$(INCROOT)
#endif

#if !defined(UseInstalled) && !BuildLibraries && AlternateUsrLibDir && !defined(CrossCompileDir)
INSTALLED_LIBS = -L$(USRLIBDIR)
#endif

d1849 1
a1849 1
        LDPRELIBS = LdPreLibs $(INSTALLED_LIBS)
a1866 5
.SUFFIXES: .ii

.cc.ii:
	CPPOnlyCompile($*.cc,$(_NOOP_))

a1871 3
.cc.s:
	CompileCplusplusToAsm($(_NOOP_))

a1930 3
#ifndef MakeManKeywords
#define MakeManKeywords		NO
#endif
a1935 3
#ifndef MakeHtmlManIndex
#define MakeHtmlManIndex	NO
#endif
d1962 1
a1962 1
/* "distclean" also removes the Makefile and the depend file */
d1964 1
a1964 1
	RemoveFiles(Makefile DependFileName)
@


1.1.1.1
log
@Import OpenBSD 3.3 XF4 repository from CTM 3132 the first time
This finalizes starting an OpenBSD-mirabile (aka MirBSD) repository.

### MirBSD is:
# Copyright (c) 1982-2003 by Thorsten "mirabile" Glaser <x86@@ePost.de>
# Copyright  1968-2003  The authors of And contributors to UNIX, the
#       C Language, BSD/Berkeley Unix; 386BSD, NetBSD 1.1 and OpenBSD.
#
# Anyone who obtained a copy of this work is hereby permitted to freely use,
# distribute, modify, merge, sublicence, give away or sell it as long as the
# authors are given due credit and the following notice is retained:
#
# This work is provided "as is", with no explicit or implicit warranty what-
# soever. Use it only at your own risk. In no event may an author or contri-
# butor be held liable for any damage, directly or indirectly, that origina-
# ted through or is caused by creation or modification of this work.

MirBSD is my private tree. MirBSD does not differ very much from OpenBSD
and intentionally tracks OpenBSD. That's why it _is_ OpenBSD, just not the
official one. It's like with DarrenBSD.

At time of this writing, no advertising for MirBSD must be done,
because the advertising clause has not yet been sorted out.

http://templeofhate.com/tglaser/MirBSD/index.php
@
text
@@


1.1.1.2
log
@The X-Windowing System

Import XFree86 4.3 from OpenBSD by CTM, in the hope it's stable
@
text
@d8 1
a8 1
XCOMM $XFree86: xc/config/cf/Imake.tmpl,v 3.139 2003/01/28 22:06:08 alanh Exp $
a47 3
#if defined(HasGcc3) && !defined(HasGcc2)
# define HasGcc2 HasGcc3
#endif
a51 7
#ifndef HasCenterLineC
#define HasCenterLineC NO
#endif
#ifndef HasCenterLineCplusplus
#define HasCenterLineCplusplus NO
#endif

a118 7
#ifndef UseInstalledX11
# define UseInstalledX11        NO
#endif
#ifdef UseInstalled
# undef UseInstalledX11
# define UseInstalledX11        YES
#endif
a257 4
#ifndef CompressManPages
#define CompressManPages NO
#endif

a265 13
#ifndef DoLoadableServer
#define DoLoadableServer NO
#endif
#ifndef MakeDllModules
#define MakeDllModules NO
#endif
#ifndef StripInstalledPrograms
#define StripInstalledPrograms NO	/* leave symbol table just in case */
#endif
#ifndef StaticNeedsPicForShared
#define StaticNeedsPicForShared NO
#endif

a303 1
#undef  CrossCompileDir
a323 7
#ifndef HasMotif
#define HasMotif		NO
#endif
#ifndef HasBSDAuth
#define HasBSDAuth		NO
#endif

a361 4
/* setenv(3) and unsetenv(3) */
#ifndef HasSetenv
#define HasSetenv		YES	/* assume yes */
#endif
a400 6
#ifndef HasGetpeereid
#define HasGetpeereid		NO
#endif
#ifndef NoStrstr
#define NoStrstr		NO
#endif
a412 2
#elif defined(x86_64Architecture)
#define ByteOrder		X_LITTLE_ENDIAN
a441 3
#ifndef HasGcc2ForCplusplus
#define HasGcc2ForCplusplus	NO
#endif
d496 3
a498 3
/* If the system has the Fontconfig library */
#ifndef HasFontconfig
#define HasFontconfig		NO
a499 2
#ifndef HasLibpng
#define HasLibpng		NO
a656 3
#ifndef HasTsLib
#define HasTsLib NO
#endif
d684 3
a704 4
#ifndef LibDirName
# define LibDirName lib
#endif

d707 1
a707 1
#define UsrLibDir Concat3(ProjectRoot,/,LibDirName)
d712 1
a712 1
#define UsrLibDir Concat3(/usr,/,LibDirName)
d739 1
a739 1
#define SystemUsrLibDir /usr/LibDirName
a805 3
#ifndef LibManDefs
#define LibManDefs -D__libmansuffix__=$(LIBMANSUFFIX)
#endif
d819 5
a964 3
#ifndef HasGcc3
#define HasGcc3 NO
#endif
d966 1
a966 1
#define HasGcc2 HasGcc3
d971 3
d977 6
d1053 1
a1053 1
#define CppCmd /LibDirName/cpp
a1182 3
#ifndef HostCcCmd
#define HostCcCmd cc
#endif
d1225 12
a1236 2
#ifndef HasLdRunPath
#define HasLdRunPath NO
a1237 9
#ifndef LdPreLib
# if !defined(UseInstalled)
#  define LdPreLib -L$(BUILDLIBDIR)
# else
# if AlternateUsrLibDir
#  define LdPreLib -L$(USRLIBDIR)
# else
# define LdPreLib /**/
# endif
a1295 3
#ifndef ImakeWarningFlags
#define ImakeWarningFlags	/* Nothing */
#endif
d1318 1
a1318 1
# if UseCCMakeDepend || UseGccMakeDepend
a1488 53
#ifdef CrossCompileDir
# ifndef StripPath
#  define StripPath(x) `echo x|sed "s%.*/%%"`
# endif
# ifndef CrossArCmd
#  define CrossArCmd Concat3(CrossCompileDir,/,StripPath(ArCmd))
# endif
# ifndef CrossCcCmd
#  define CrossCcCmd Concat3(CrossCompileDir,/,StripPath(CcCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
# ifdef HasFortran
#  ifndef CrossFortranCmd
#   define CrossFortranCmd Concat3(CrossCompileDir,/,StripPath(FortranCmd))
#  endif
# endif
# ifndef CrossCplusplusCmd
#  define CrossCplusplusCmd Concat3(CrossCompileDir,/,StripPath(CplusplusCmd))
# endif
# ifndef CrossCppCmd
#  define CrossCppCmd Concat3(CrossCompileDir,/,StripPath(CppCmd))
# endif
# ifndef CrossRawCppCmdCmd
#  define CrossRawCppCmd Concat3(CrossCompileDir,/,StripPath(RawCppCmd))
# endif
# ifndef CrossPreProcessCmd
#  define CrossPreProcessCmd Concat3(CrossCompileDir,/,StripPath(PreProcessCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
# ifndef CrossLdCmd
#  define CrossLdCmd Concat3(CrossCompileDir,/,StripPath(LdCmd))
# endif
# ifndef CrossModuleLdCmd
#  define CrossModuleLdCmd CrossLdCmd
# endif
# ifndef CrossLintCmd
#  define CrossLintCmd Concat3(CrossCompileDir,/,StripPath(LintCmd))
# endif
# ifndef CrossRanlibCmd
#  define CrossRanlibCmd Concat3(CrossCompileDir,/,StripPath(RanlibCmd))
# endif
# ifndef CrossModuleCcCmd
#  define CrossModuleCcCmd Concat3(CrossCompileDir,/,StripPath(ModuleCcCmd))
# endif
# ifndef CrossAsCmd
#  define CrossAsCmd Concat3(CrossCompileDir,/,StripPath(AsCmd))
# endif
#endif

a1500 1
     RMANBASENAME = HostProgramTargetName(rman)
d1528 1
a1528 3
#ifdef CrossCompileDir
               AR = CrossArCmd
#else
a1529 3
#endif
XCOMM Nice try but useless: make will inherit BOOTSTRAPCFLAGS 
XCOMM from  top Makefile
a1530 4
#ifdef CrossCompileDir
               CC = CrossCcCmd
               AS = CrossAsCmd
#else
a1532 1
#endif
a1533 3
# ifdef CrossCompileDir
               FC = CrossFortranCmd
# else
a1534 1
# endif
a1541 3
#ifdef CrossCompileDir
              CXX = CrossCplusplusCmd
#else
a1542 1
#endif
d1555 5
a1561 5
#ifdef CrossCompileDir
              CPP = CrossCppCmd $(STD_CPP_DEFINES)
           RAWCPP = CrossRawCppCmd $(STD_CPP_OPTIONS)
    PREPROCESSCMD = CrossPreProcessCmd $(STD_CPP_DEFINES)
#else
a1564 1
#endif
a1566 3
#ifdef CrossCompileDir
               LD = CrossLdCmd
#else
a1567 1
#endif
a1573 3
#ifdef CrossCompileDir
             LINT = CrossLintCmd
#else
a1574 1
#endif
a1581 3
#ifdef CrossCompileDir
           RANLIB = CrossCompileDir/RanlibCmd
#else
a1582 1
#endif
d1595 1
a1595 1
          MANDEFS = AppLoadDefs FileManDefs LibManDefs MiscManDefs DriverManDefs ProjectManDefs $(XORGMANDEFS) $(VENDORMANDEFS)
a1607 3
#ifdef CrossCompileDir
	    MODCC = CrossModuleCcCmd
#else
a1608 1
#endif
a1612 3
#ifdef CrossCompileDir
	    MODLD = CrossModuleLdCmd
#else
a1613 1
#endif
a1616 3
#ifdef CrossCompileDir
        MODRANLIB = CrossCompileDir/ModuleRanlibCmd
#else
a1617 1
#endif
a1633 3
#if CrossCompiling
          HOST_CC = HostCcCmd
#endif
d1653 1
a1653 1
     SHLIBLDFLAGS = SharedLibraryLoadFlags $(SHLIBGLOBALSFLAGS)
a1741 1

d1755 1
a1755 1
         LDPRELIB = LdPreLib $(INSTALLED_LIBS)
a1795 1
   IMAKE_WARNINGS = ImakeWarningFlags
d1798 1
a1798 2
        IMAKE_CMD = $(IMAKE) -DUseInstalled -I$(IRULESRC) $(IMAKE_DEFINES) \
		    $(IMAKE_WARNINGS)
d1801 1
a1801 1
        IMAKE_CMD = $(IMAKE) -I$(IRULESRC) $(IMAKE_DEFINES) $(IMAKE_WARNINGS)
a1838 8
#if !BuildLibraries && AlternateIncRoot
INSTALLED_INCLUDES = -I$(INCROOT)
#endif

#if !defined(UseInstalled) && !BuildLibraries && AlternateUsrLibDir
INSTALLED_LIBS = -L$(USRLIBDIR)
#endif

d1849 1
a1849 1
        LDPRELIBS = LdPreLibs $(INSTALLED_LIBS)
a1930 3
#ifndef MakeManKeywords
#define MakeManKeywords		NO
#endif
a1935 3
#ifndef MakeHtmlManIndex
#define MakeHtmlManIndex	NO
#endif
d1962 1
a1962 1
/* "distclean" also removes the Makefile and the depend file */
d1964 1
a1964 1
	RemoveFiles(Makefile DependFileName)
@


1.1.1.3
log
@That's what OpenBSD will, probably, ship as XF4 in 3.5
their last sync against XFree86 4.3-current has been
imported into our vendor branch, too
@
text
@d8 1
a8 1
XCOMM $XFree86: xc/config/cf/Imake.tmpl,v 3.156 2004/01/12 21:43:18 herrb Exp $
a122 4
#ifndef RemoveObsoleteFiles
#define RemoveObsoleteFiles YES
#endif

a225 4
#ifndef PerlEnvSetup
#define PerlEnvSetup		env LC_ALL=C
#endif

a281 3
#ifndef HasGroffHtml
#define HasGroffHtml NO
#endif
a416 3
#ifndef HasStrlcat
#define HasStrlcat		NO	/* assume not */
#endif
a419 3
#ifndef HasWeakSymbols
#define HasWeakSymbols		NO	/* assume not */
#endif
a452 6
#ifndef HasShadowPasswd
#define HasShadowPasswd		NO
#endif
#ifndef HasBasename
#define HasBasename		YES
#endif
d465 1
a465 1
#elif defined(AMD64Architecture)
a492 2
X_BYTE_ORDER = ByteOrder

a880 3
#ifndef AdminManDefs
#define AdminManDefs -D__adminmansuffix__=$(ADMINMANSUFFIX)
#endif
a968 3
#ifndef HardCodeLibdirFlag
#define HardCodeLibdirFlag	/**/
#endif
d1040 1
a1040 1
#define CcCmd gcc -fpcc-struct-return
d1043 1
a1043 1
#define CcCmd gcc -fstrength-reduce -fpcc-struct-return
a1063 3
#if HasGcc2ForCplusplus
#define CplusplusLibC	-lstdc++
#else
a1065 1
#endif
d1079 1
a1079 1
#define CplusplusOptions DefaultCplusplusOptions
d1298 1
a1298 1
#if !defined(UseInstalled) && AlternateUsrLibDir && !HasLdRunPath && !defined(CrossCompileDir)
a1426 10
#ifndef HTMLroffCmd
#if HasGroff && HasGroffHtml
#define HTMLroffCmd groff -Thtml
#endif
#endif
#ifdef HTMLroffCmd
#ifndef DocFilesToClean
#define DocFilesToClean grohtml*.png *-auto-*.png
#endif
#endif
a1453 15
#ifndef HasPdfLatex
#define HasPdfLatex NO
#endif
#ifndef PdfLatexCmd
#define PdfLatexCmd pdflatex
#endif
#ifndef GhostScriptCmd
#define GhostScriptCmd gs
#endif
#ifndef HasGhostScript
#define HasGhostScript NO
#endif
#if HasGhostScript
#define PsToPdfCmd GhostScriptCmd -q -sOutputFile=- -sDEVICE=pdfwrite -dSAFER -dNOPAUSE -
#endif
a1516 7
#ifndef AdminManSuffix
#if SystemV || SystemV4
#define AdminManSuffix	1m		/* use just one tab or cpp will die */
#else
#define AdminManSuffix	8		/* use just one tab or cpp will die */
#endif
#endif
a1544 3
#ifndef DocFilesToClean
#define DocFilesToClean /**/
#endif
d1546 1
a1546 1
#define FilesToClean *.CKP *.ln *.BAK *.bak *.Osuf core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut
d1647 1
a1647 1
XCOMM Nice try but useless: make will inherit BOOTSTRAPCFLAGS
d1668 1
a1668 1
.SUFFIXES: Concat(.,CCsuf)
a1675 4
#ifdef CplusplusLibCDir
        CXXLIBDIR = CplusplusLibCDir
           CXXLIB = -L$(CXXLIBDIR) CplusplusLibC
#else
a1676 2
#endif

d1683 1
a1683 1
      CXXINCLUDES = $(INCLUDES) $(TOP_INCLUDES) $(CXXEXTRA_INCLUDES)
a1732 1
     PERLENVSETUP = PerlEnvSetup
a1737 1
   ADMINMANSUFFIX = AdminManSuffix	/* suffix for admin command man pages */
d1740 1
a1740 1
          MANDEFS = AppLoadDefs FileManDefs LibManDefs MiscManDefs DriverManDefs AdminManDefs ProjectManDefs $(XORGMANDEFS) $(VENDORMANDEFS)
a1745 6
#ifdef HTMLroffCmd
         HTMLROFF = HTMLroffCmd
#endif
#ifdef PsToPdfCmd
       PSTOPDFCMD = PsToPdfCmd
#endif
a1778 3
#if HasPdfLatex
      PDFLATEXCMD = PdfLatexCmd
#endif
d1816 1
a1816 1
 * Here we set up flags needed to produce position-independent code
d1818 1
a1818 1
 * PIC flags without also specifying C++ PIC flags is to assume that
d1873 1
a1873 1
    PROTO_DEFINES = _funcprotodef _wideprotodef
d1880 1
a1880 1
     INSTPGMFLAGS =
d2002 1
a2002 1
#if !BuildLibraries && AlternateIncRoot && !defined(CrossCompileDir)
d2006 1
a2006 1
#if !defined(UseInstalled) && !BuildLibraries && AlternateUsrLibDir && !defined(CrossCompileDir)
a2037 5
.SUFFIXES: .ii

.cc.ii:
	CPPOnlyCompile($*.cc,$(_NOOP_))

a2041 3

.cc.s:
	CompileCplusplusToAsm($(_NOOP_))
@


